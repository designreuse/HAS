if("undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){function ticksToSortable(a){var b=DayPilot.Date.Cache.Ticks;if(b[a])return DayPilot.Stats.cacheHitsTicks+=1,b[a];var d,c=new Date(a),e=c.getUTCMilliseconds();d=0===e?"":e<10?".00"+e:e<100?".0"+e:"."+e;var f=c.getUTCSeconds();f<10&&(f="0"+f);var g=c.getUTCMinutes();g<10&&(g="0"+g);var h=c.getUTCHours();h<10&&(h="0"+h);var i=c.getUTCDate();i<10&&(i="0"+i);var j=c.getUTCMonth()+1;j<10&&(j="0"+j);var k=c.getUTCFullYear();if(k<=0)throw"The minimum year supported is 1.";k<10?k="000"+k:k<100?k="00"+k:k<1e3&&(k="0"+k);var l=k+"-"+j+"-"+i+"T"+h+":"+g+":"+f+d;return b[a]=l,l}function equalsIgnoreCase(a,b){return!DayPilot.Util.isNullOrUndefined(a)&&(!DayPilot.Util.isNullOrUndefined(b)&&a.toLocaleLowerCase()===b.toLocaleLowerCase())}if("undefined"==typeof DayPilot.$){DayPilot.$=function(a){return document.getElementById(a)},DayPilot.isKhtml=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1,DayPilot.isIE=navigator&&navigator.userAgent&&(navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var a=document.createElement("div");a.innerHTML="<!--[if IE 8]><i></i><![endif]-->";var b=1===a.getElementsByTagName("i").length;return b}(),DayPilot.browser.ie9=function(){var a=document.createElement("div");a.innerHTML="<!--[if IE 9]><i></i><![endif]-->";var b=1===a.getElementsByTagName("i").length;return b}(),DayPilot.browser.ielt9=function(){var a=document.createElement("div");a.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var b=1===a.getElementsByTagName("i").length;return b}(),DayPilot.browser.ff=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1,DayPilot.browser.chrome=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Chrome")!==-1,DayPilot.browser.ie=DayPilot.isIE,DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof $c,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(a,b){if(b=b||window.event,"undefined"!=typeof b.offsetX){var c={x:b.offsetX+1,y:b.offsetY+1};if(!a)return c;for(var d=b.srcElement;d&&d!==a;)"SPAN"!==d.tagName&&(c.x+=d.offsetLeft,d.offsetTop>0&&(c.y+=d.offsetTop-d.scrollTop)),d=d.offsetParent;return d?c:null}if("undefined"!=typeof b.layerX){var c={x:b.layerX,y:b.layerY,$g:b.target};if(!a)return c;for(var d=b.target;d&&"absolute"!==d.style.position&&"relative"!==d.style.position;)d=d.parentNode,DayPilot.isKhtml&&(c.y+=d.scrollTop);for(;d&&d!==a;)c.x+=d.offsetLeft,c.y+=d.offsetTop-d.scrollTop,d=d.offsetParent;return d?c:null}return null},DayPilot.mo3=function(a,b){b=b||window.event;var c=DayPilot.page(b);if(c){var d=DayPilot.abs(a);return{x:c.x-d.x,y:c.y-d.y}}return DayPilot.mo2(a,b)},DayPilot.mc=function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.documentElement.scrollLeft,y:a.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(a,b){if(a&&a.isDayPilotList&&!b)return a;var c=DayPilot.isArray(a)||"[object NodeList]"===Object.prototype.toString.call(a),d=!c&&!DayPilot.Util.isNullOrUndefined(a),e=[];if(e.isDayPilotList=!0,e.clone=function(){var a=DayPilot.list();return e.each(function(b){a.push(b)}),a},e.each=function(a){if(a){if(e.forEach)return void e.forEach(a);for(var b=0;b<this.length;b++)a(e[b],b,e)}},e.addProps=function(a){var b=e.clone();if(a)for(var c in a)b[c]=a[c];return b},e.last=function(){return 0===e.length?null:e[e.length-1]},e.add=function(a){var b=e.clone();return b.push(a),b},e.map=function(a){if("function"!=typeof a)throw"DayPilot.list().map(f): Function expected";var b=DayPilot.list();return e.each(function(c,d,e){b.push(a(c,d,e))}),b},e.filter=function(a){var b=DayPilot.list();if("function"!=typeof a)throw"DayPilot.list().filter(f): Function expected";return e.each(function(c){a(c)&&b.push(c)}),b},e.concat=function(a){if(!a)return e;for(var b=e.clone(),c=0;c<a.length;c++)b.push(a[c]);return b},e.find||(e.find=function(a){if("function"!=typeof a)throw"DayPilot.list().find(f): Function expected";for(var b=0;b<this.length;b++)if(a(e[b]))return e[b]}),e.findIndex||(e.findIndex=function(a){if("function"!=typeof a)throw"DayPilot.list().findIndex(f): Function expected";for(var b=0;b<this.length;b++)if(a(e[b]))return b;return-1}),e.some||(e.some=function(a){if("function"!=typeof a)throw"DayPilot.list().some(f): Function expected";for(var b=0;b<this.length;b++)if(a(e[b]))return!0;return!1}),e.reduce||(e.reduce=function(a,b){if("function"!=typeof a)throw"DayPilot.list().reduce(f): Function expected";var c,d=0;if("undefined"!=typeof b)c=b;else{if(d=1,0===e.length)throw"DayPilot.list().reduce(f): No initial value and empty list";c=e[0]}for(var f=d;f<this.length;f++)c=a(c,e[f],f,this);return c}),e.isEmpty=function(){return 0===e.length},c)for(var f=0;f<a.length;f++)e[f]=a[f];else d&&(e[0]=a);return e},DayPilot.line=function(a,b,c,d,e){var f={x:a,y:b},g={x:c,y:d,deg:DayPilot.deg(a,b,c,d)};if(b<d){var h=b;b=d,d=h,h=a,a=c,c=h}var i=DayPilot.deg(a,b,c,d),j=function(){var e=Math.abs(a-c),f=Math.abs(b-d);return Math.sqrt(e*e+f*f)}(),k=function(){var e=Math.abs(a-c),f=Math.abs(b-d),g=(a+c)/2,i=Math.sqrt(e*e+f*f);return g-i/2}(),l=function(){return(b+d)/2}(),m=document.createElement("div");m.setAttribute("style","border:1px solid black;width:"+j+"px;height:0px;-moz-transform:rotate("+i+"deg);-webkit-transform:rotate("+i+"deg);-ms-transform:rotate("+i+"deg);transform:rotate("+i+"deg);position:absolute;top:"+l+"px;left:"+k+"px;");var n=document.createElement("div");if(n.appendChild(m),e){var j=6,o=g.y-j,p=g.x-j,i=i;g.y>f.y&&(i-=180);var q=document.createElement("div");q.style.borderColor="transparent black transparent transparent",q.style.borderWidth=j+"px",q.style.borderStyle="solid",q.style.position="absolute",q.style.left=p+"px",q.style.top=o+"px",q.style.transform="rotate("+i+"deg)",n.appendChild(q)}return n},DayPilot.deg=function(a,b,c,d){var g,e=Math.abs(a-c),f=Math.abs(b-d),h=(a+c)/2,i=(b+d)/2,j=Math.sqrt(e*e+f*f),k=h-j/2,l=i;e=j/2,g=Math.abs(h-k),f=Math.sqrt(Math.abs(a-k)*Math.abs(a-k)+Math.abs(b-l)*Math.abs(b-l));var m=(f*f-e*e-g*g)/(2*e*g),n=Math.acos(m),o=180*n/Math.PI;return o},DayPilot.complete=function(a){return"complete"===document.readyState?void a():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var a=0;a<DayPilot.complete.list.length;a++){var b=DayPilot.complete.list[a];b()}DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(a))},DayPilot.page=function(a){return a=a||window.event,"undefined"!=typeof a.pageX?{x:a.pageX,y:a.pageY}:"undefined"!=typeof a.clientX?{x:a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:a.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.rel=function(a,b){var c=DayPilot.abs(a),d=DayPilot.abs(b);return{x:c.x-d.x,y:c.y-d.y,w:a.offsetWidth,h:a.offsetHeight}},DayPilot.abs=function(a,b){if(!a)return null;var c={x:a.offsetLeft,y:a.offsetTop,w:a.clientWidth,h:a.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};if(a.getBoundingClientRect){var d=null;try{d=a.getBoundingClientRect()}catch(b){d={top:a.offsetTop,$z:a.offsetLeft}}c.x=d.left,c.y=d.top;var e=DayPilot.doc();c.x-=e.clientLeft||0,c.y-=e.clientTop||0;var f=DayPilot.pageOffset();if(c.x+=f.x,c.y+=f.y,b){var g=DayPilot.absOffsetBased(a,!1),b=DayPilot.absOffsetBased(a,!0);c.x+=b.x-g.x,c.y+=b.y-g.y,c.w=b.w,c.h=b.h}return c}return DayPilot.absOffsetBased(a,b)},DayPilot.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},DayPilot.absOffsetBased=function(a,b){for(var c={x:a.offsetLeft,y:a.offsetTop,w:a.clientWidth,h:a.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(a);)a=DayPilot.op(a),c.x-=a.scrollLeft,c.y-=a.scrollTop,b&&(c.x<0&&(c.w+=c.x,c.x=0),c.y<0&&(c.h+=c.y,c.y=0),a.scrollLeft>0&&c.x+c.w>a.clientWidth&&(c.w-=c.x+c.w-a.clientWidth),a.scrollTop&&c.y+c.h>a.clientHeight&&(c.h-=c.y+c.h-a.clientHeight)),c.x+=a.offsetLeft,c.y+=a.offsetTop;var d=DayPilot.pageOffset();return c.x+=d.x,c.y+=d.y,c},DayPilot.wd=function(){var a=DayPilot.isIEQuirks,b=document.documentElement.clientHeight;a&&(b=document.body.clientHeight);var c=document.documentElement.clientWidth;a&&(c=document.body.clientWidth);var d=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,f={};return f.width=c,f.height=b,f.scrollTop=d,f.scrollLeft=e,f},DayPilot.op=function(a){try{return a.offsetParent}catch(a){return document.body}},DayPilot.distance=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},DayPilot.doc=function(){var a=document.documentElement;return a&&a.clientHeight?a:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var a=DayPilot.doc();return{x:a.scrollLeft,y:a.scrollTop}},DayPilot.ac=function(a,b){if(!b)var b=[];for(var c=0;a.children&&c<a.children.length;c++)b.push(a.children[c]),DayPilot.ac(a.children[c],b);return b},DayPilot.indexOf=function(a,b,c){if(!a||!a.length)return-1;for(var d=0;d<a.length;d++)if(c){if(c(a[d],b))return d}else if(a[d]===b)return d;return-1},DayPilot.contains=function(a,b){return!!a&&(a===b&&!DayPilot.isArray(a)||DayPilot.indexOf(a,b)!==-1)},DayPilot.rfa=function(a,b){var c=DayPilot.indexOf(a,b);c!==-1&&a.splice(c,1)},DayPilot.sheet=function(){var a=document.createElement("style");a.setAttribute("type","text/css"),a.styleSheet||a.appendChild(document.createTextNode(""));var b=document.head||document.getElementsByTagName("head")[0];b.appendChild(a);var c=!!a.styleSheet,d={};return d.rules=[],d.commit=function(){try{c&&(a.styleSheet.cssText=this.rules.join("\n"))}catch(a){}},d.add=function(b,d,e){if(c)return void this.rules.push(b+"{"+d+"}");if(a.sheet.insertRule)"undefined"==typeof e&&(e=a.sheet.cssRules.length),a.sheet.insertRule(b+"{"+d+"}",e);else{if(!a.sheet.addRule)throw"No CSS registration method found";a.sheet.addRule(b,d,e)}},d},DayPilot.Args=function(a){var b=this;this.preventDefault=function(){a&&a.preventDefault(),b.preventDefault.value=!0}},DayPilot.Debug=function(a){var b=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.$3T=null,this.clear=function(){this.messages=[],b.$3T&&(b.$3T.innerHTML="")},this.hide=function(){DayPilot.de(b.$3T),b.$3T=null},this.show=function(){b.$3T&&b.hide();var c=a.nav.top,d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.style.backgroundColor="black",d.style.color="#ccc",d.style.overflow="auto",d.style.webkitUserSelect="auto",d.style.MozUserSelect="all",d.onclick=function(){b.hide()};for(var e=0;e<this.messages.length;e++){var f=b.messages[e],g=f.$3U();d.appendChild(g)}this.$3T=d,c.appendChild(d)},this.message=function(a,b){if(this.enabled){var c={};c.time=new DayPilot.Date,c.level=b||"debug",c.text=a,c.$3U=function(){var a=document.createElement("div");switch(a.innerHTML=c.time+" ("+c.level+"): "+c.text,c.level){case"error":a.style.color="red";break;case"warning":a.style.color="orange";break;case"info":a.style.color="white";break;case"debug":}return a},this.messages.push(c),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(c)}}},DayPilot.re=function(a,b,c){if(c)if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent){var d=function(b){c.call(a,b)};a.attachEvent("on"+b,d)}},DayPilot.ue=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},DayPilot.tr=function(a){return a?a.replace(/^\s+|\s+$/g,""):""},DayPilot.ds=function(a){return DayPilot.Date.toStringSortable(a)},DayPilot.gs=function(a,b){var c=a;if(c.currentStyle)var d=c.currentStyle[b];else if(window.getComputedStyle)var d=document.defaultView.getComputedStyle(c,null).getPropertyValue(b);return"undefined"==typeof d&&(d=""),d},DayPilot.StyleReader=function(a){function b(a){return a.charAt(0).toUpperCase()+a.slice(1)}this.get=function(c){var d=DayPilot.list(c.split("-")),e=d.reduce(function(a,c,d){return c=b(c),a+c});return a?DayPilot.gs(a,e)||DayPilot.gs(a,c):null}},DayPilot.he=function(a){var b=a.replace(/&/g,"&amp;");return b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;")},DayPilot.he2=function(a){var b=document.createTextNode(a),c=document.createElement("div");return c.appendChild(b),c.innerHTML},DayPilot.us=function(a){if(a){a.setAttribute("unselectable","on"),a.style.userSelect="none",a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.webkitUserSelect="none";for(var b=0;b<a.childNodes.length;b++)1===a.childNodes[b].nodeType&&DayPilot.us(a.childNodes[b])}},DayPilot.pu=function(a){var c,d,e,b=a.attributes;if(b)for(d=b.length,c=0;c<d;c+=1)b[c]&&(e=b[c].name,"function"==typeof a[e]&&(a[e]=null));if(b=a.childNodes)for(d=b.length,c=0;c<d;c+=1){DayPilot.pu(a.childNodes[c])}},DayPilot.puc=function(a){var c,d,b=a.childNodes;if(b){var d=b.length;for(c=0;c<d;c+=1)DayPilot.pu(a.childNodes[c])}},DayPilot.de=function(a){if(a)if(DayPilot.isArray(a))for(var b=0;b<a.length;b++)DayPilot.de(a[b]);else a.parentNode&&a.parentNode.removeChild(a)},DayPilot.fade=function(a,b,c){if(a){clearTimeout(a.messageTimeout);var d=50,e="none"!==a.style.display,f=b>0,g=b<0;if(0!==b){if(f?a.status="in":g&&(a.status="out"),f&&!e)a.target=parseFloat(a.style.opacity),a.opacity=0,a.style.opacity=0,a.style.filter="alpha(opacity=0)",a.style.display="";else if(g&&!a.target)a.target=a.style.opacity;else{var h=a.opacity,i=Math.floor(10*(h+b))/10;f&&i>a.target&&(i=a.target),g&&i<0&&(i=0);var j=100*i;a.opacity=i,a.style.opacity=i,a.style.filter="alpha(opacity="+j+")"}if(f&&(a.opacity>=a.target||a.opacity>=1)||g&&a.opacity<=0){if(a.target=null,g){a.style.opacity=a.target,a.opacity=a.target;var k=a.target?"alpha(opacity="+100*a.target+")":null;a.style.filter=k,a.style.display="none"}c&&"function"==typeof c&&(a.status=null,c())}else a.messageTimeout=setTimeout(function(){DayPilot.fade(a,b,c)},d)}}},DayPilot.sw=function(a){return a?a.offsetWidth-a.clientWidth:0},DayPilot.swa=function(){var a=document.createElement("div");a.style.position="absolute",a.style.top="-2000px",a.style.left="-2000px",a.style.width="200px",a.style.height="100px",a.style.overflow="auto";var b=document.createElement("div");b.style.width="300px",b.style.height="300px",a.appendChild(b),document.body.appendChild(a);var c=DayPilot.sw(a);return document.body.removeChild(a),c},DayPilot.sh=function(a){return a?a.offsetHeight-a.clientHeight:0},DayPilot.guid=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},DayPilot.ua=function(a){if("string"==typeof a||"number"==typeof a)return[a];for(var b={},c=[],d=0,e=a.length;d<e;++d)a[d]in b||(c.push(a[d]),b[a[d]]=1);return c},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function a(a,d){var e={w:a.offsetWidth,h:a.offsetHeight,x:parseInt(a.style.left),y:parseInt(a.style.top)};e.height=a.style.height,e.width=a.style.width,e.top=a.style.top,e.left=a.style.left,e.toString=function(){return"w: "+this.w+" h:"+this.h};var f={};if(f.finished=null,f.vertical="center",f.horizontal="center",d)for(var g in d)f[g]=d[g];a.style.visibility="hidden",a.style.display="";var h=d.animation||"fast",i=b(h);i.div=a,i.i=0,i.target=e,i.config=f,c(i)}function b(a){var b=function(){var a=[];a.time=10;var b,c=.08;b=.1;for(var d=b;d<1.2;d+=c)a.push(d),b=d;c=.03;for(var d=b;d>.8;d-=c)a.push(d),b=d;for(var d=b;d<=1;d+=c)a.push(d),b=d;return a},c=function(){var a=[];a.time=10;var b,c=.04;b=.1;for(var d=b;d<=1;d+=c)a.push(d),b=d;return a},d=function(){var a=[];a.time=10;var b,c=.08;b=.1;for(var d=b;d<=1;d+=c)a.push(d),b=d;return a},e={fast:d,slow:c,jump:b};return e[a]||(a="fast"),e[a]()}function c(a){var f,b=a.div,d=a[a.i],e=d*a.target.h;switch(a.config.vertical){case"center":f=a.target.y-(e-a.target.h)/2;break;case"top":f=a.target.y;break;case"bottom":f=a.target.y-(e-a.target.h);break;default:throw"Unexpected 'vertical' value."}var h,g=d*a.target.w;switch(a.config.horizontal){case"left":h=a.target.x;break;case"center":h=a.target.x-(g-a.target.w)/2;break;case"right":h=a.target.x-(g-a.target.w);break;default:throw"Unexpected 'horizontal' value."}var i=DayPilot.wd(),j=i.height+i.scrollTop-(f+e);j<0&&(f+=j);var k=i.width-(h+g);k<0&&(h+=k),b.style.height=e+"px",b.style.top=f+"px",b.style.width=g+"px",b.style.left=h+"px",b.style.visibility="visible",a.i++,a.i<a.length-1?setTimeout(function(a){return function(){c(a)}}(a),a.time):(b.style.width=a.target.width,b.style.height=a.target.height,b.style.top=a.target.top,b.style.left=a.target.left,"function"==typeof a.config.finished&&a.config.finished())}DayPilot.pop=a}(),DayPilot.Util={},DayPilot.Util.addClass=function(a,b){if(b&&a)if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)DayPilot.Util.addClass(a[c],b);else{if(!a.className)return void(a.className=b);var d=new RegExp("(^|\\s)"+b+"($|\\s)");d.test(a.className)||(a.className=a.className+" "+b)}},DayPilot.Util.normalizeColor=function(a){function b(a){return a=a.replace(/[^\d,]/g,"").split(","),"#"+((1<<24)+(+a[0]<<16)+(+a[1]<<8)+ +a[2]).toString(16).slice(1)}return 0===a.indexOf("rgb")?b(a):a},DayPilot.Util.addClassToString=function(a,b){if(!a)return b;var c=new RegExp("(^|\\s)"+b+"($|\\s)");return c.test(a)?a:a+" "+b},DayPilot.Util.removeClassFromString=function(a,b){if(!a)return"";var c=new RegExp("(^|\\s)"+b+"($|\\s)");return a.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(a,b){if(a)if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)DayPilot.Util.removeClass(a[c],b);else{var d=new RegExp("(^|\\s)"+b+"($|\\s)");a.className=a.className.replace(d," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(a){var b=[];for(var c in a)b.push(c),b.push(a[c]);return b.join("-")},DayPilot.Util.propArray=function(a,b,c){return DayPilot.list(a).map(function(a){return a[b]?a[b]:c})},DayPilot.Util.updatePropsFromArray=function(a,b,c){for(var d=0;d<c.length;d++)a[d][b]=c[d]},DayPilot.Util.copyProps=function(a,b,c){if(a)if("undefined"==typeof c)for(var d in a)"undefined"!=typeof a[d]&&(b[d]=a[d]);else for(var e=0;e<c.length;e++){var d=c[e];"undefined"!=typeof a[d]&&(b[d]=a[d])}},DayPilot.Util.firstPropValue=function(a){for(var b in a)return a[b]},DayPilot.Util.createArrayCopy=function(a,b){if(!DayPilot.isArray(a))return[];for(var c=[],d=0;d<a.length;d++){var e={};DayPilot.Util.copyProps(a[d],e,b),c.push(e)}return c},DayPilot.Util.avg=function(a,b){return(a+b)/2},DayPilot.Util.div=function(a,b,c,d,e){var f=document.createElement("div");return(b||c||d||e)&&(d<0&&(b+=d,d*=-1),e<0&&(c+=e,e*=-1),f.style.position="absolute","number"==typeof b&&(f.style.left=b+"px"),"number"==typeof c&&(f.style.top=c+"px"),"number"==typeof d&&(f.style.width=d+"px"),"number"==typeof e&&(f.style.height=e+"px")),a&&a.appendChild(f),f},DayPilot.Util.overlaps=function(a,b,c,d){return!(b<=c||a>=d)},DayPilot.Util.isMouseEvent=function(a){return!!navigator.msPointerEnabled&&(!!a.pointerType&&("mouse"===a.pointerType||4===a.pointerType))},DayPilot.Util.mouseButton=function(a){var b={};if(a=a||window.event,"undefined"==typeof a.which)switch(a.button){case 1:b.left=!0;break;case 4:b.middle=!0;break;case 2:b.right=!0;break;case 0:b.unknown=!0}else switch(a.which){case 1:b.left=!0;break;case 2:b.middle=!0;break;case 3:b.right=!0}return b},DayPilot.Util.membersPlain=function(a){var b=DayPilot.Util.members(a,2),c=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.name;c.obsolete&&(d+=" (obsolete)"),c.noCssOnly&&(d+=" (!cssOnly)"),c.aspnet&&(d+=" (ASP.NET)"),c.mvc&&(d+="(MVC)"),a[b]=d}};return c(b.events),c(b.methods),c(b.properties),b},DayPilot.Util.members=function(a,b){var c=DayPilot.list(),d=DayPilot.list(),e=DayPilot.list(),f=a&&a.members?a.members.obsolete:[],g=a&&a.members?a.members.noCssOnly:[],h=a&&a.members?a.members.ignore:[],i=a&&a.members&&a.members.ignoreFilter?a.members.ignoreFilter:function(){return!1};for(var j in a)if(0!==j.indexOf("$")&&0!==j.indexOf("_")&&0!==j.indexOf("number")&&0!==j.indexOf("is")&&"v"!==j&&!DayPilot.contains(h,j)&&!i(j))if(0!==j.indexOf("on"))if("function"!=typeof a[j])if("object"!=typeof a[j])e.push(j);else{var k=a[j];if(0===b){e.push(j);continue}if(k&&k.nodeType>0){e.push(j);continue}if(k instanceof DayPilot.Bubble){e.push(j);continue}if(k instanceof DayPilot.Date){e.push(j);continue}if(k instanceof DayPilot.Menu){e.push(j);continue}if(k instanceof DayPilot.Scheduler){e.push(j);continue}if(DayPilot.isArray(k)){e.push(j);continue}null===k&&e.push(j);var l=null;"number"==typeof b&&(l=b-1);for(var m=DayPilot.Util.members(k,l),n=0;n<m.events.length;n++)c.push(j+"."+m.events[n].name);for(var n=0;n<m.methods.length;n++)d.push(j+"."+m.methods[n].name);for(var n=0;n<m.properties.length;n++)e.push(j+"."+m.properties[n].name)}else d.push(j);else c.push(j);c.sort(),d.sort(),e.sort();var o=function(a){for(var b=0;b<a.length;b++){var c=a[b],d={};d.name=c,a[b]=d,DayPilot.contains(f,c)&&(d.obsolete=!0),DayPilot.contains(g,c)&&(d.noCssOnly=!0),c.indexOf("CallBack")!==-1&&(d.aspnet=!0,d.mvc=!0),c.indexOf("PostBack")!==-1&&(d.aspnet=!0),c.indexOf("Notify")!==-1&&(d.aspnet=!0,d.mvc=!0)}};return o(c),o(d),o(e),{events:c,methods:d,properties:e}},DayPilot.Util.replaceCharAt=function(a,b,c){return a.substr(0,b)+c+a.substr(b+c.length)},DayPilot.Util.evalVariable=function(str,$0S){if($0S=$0S||["object"],null===str||"undefined"==typeof str)return null;if(DayPilot.indexOf($0S,typeof str)!==-1)return str;if("string"!=typeof str)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str))throw"Invalid variable name: "+str;return eval(str)},DayPilot.Util.evalFunction=function(str){if(null===str)return null;if("function"==typeof str)return str;if("string"!=typeof str)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(str))throw"Invalid function string";return eval("("+str+")")},DayPilot.Util.parseJSON=function(a){return JSON&&JSON.parse?JSON.parse(a):DayPilot.JSON.parse(a)},DayPilot.Util.isNullOrUndefined=function(a){return null===a||"undefined"==typeof a},DayPilot.Util.log=function(a){window.console&&window.console.log&&window.console.log(a)},DayPilot.Util.adiff=function(a,b,c){var d={};return d.add=[],d.remove=[],d},DayPilot.Util.workerFrom=function(a){var b=a.toString(),c=b.slice(b.indexOf("{")+1,b.lastIndexOf("};")),d=new $0X([c]),e=window.URL.createObjectURL(d);return new $0Z(e)},DayPilot.Util.monitor=function(a,b,c){var d=a[b];a[b]=function(){c.apply(a,arguments),d.apply(a,arguments)}},DayPilot.Areas={},DayPilot.Areas.attach=function(a,b,c){var c=c||{},d=c.areas,e=c.allowed||function(){return!0},f=c.offsetX||0;DayPilot.re(a,"mousemove",function(g){a.active||a.areasDisabled||!e()||DayPilot.Areas.showAreas(a,b,g,d,{offsetX:f,eventDiv:c.eventDiv})}),DayPilot.re(a,"mouseout",function(b){DayPilot.Areas.hideAreas(a,b)}),d=$14(b,d),DayPilot.list(d).each(function(d){var e=d.v||"Visible";if("Visible"===e){var g=DayPilot.Areas.createArea(a,b,d,{offsetX:f,eventDiv:c.eventDiv});a.appendChild(g)}})},DayPilot.Areas.disable=function(a){a.areasDisabled=!0,DayPilot.list(a.childNodes).filter(function(a){return a.isActiveArea&&!a.area.start}).each(function(a){a.style.display="none"})},DayPilot.Areas.enable=function(a){a.areasDisabled=!1,DayPilot.list(a.childNodes).filter(function(a){return a.isActiveArea&&!a.area.start}).each(function(a){a.style.display=""})};var $14=function(a,b){return DayPilot.isArray(b)||(b=a.areas,b||(a.cache?b=a.cache.areas:a.data&&(b=a.data.areas))),b};DayPilot.Areas.showAreas=function(a,b,c,d,e){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var f=0;f<DayPilot.Areas.all.length;f++){var g=DayPilot.Areas.all[f];g!==a&&DayPilot.Areas.hideAreas(g,c)}if(!a.active&&(a.active={},DayPilot.isArray(d)||(d=b.areas,d||(b.cache?d=b.cache.areas:b.data&&(d=b.data.areas))),d&&0!==d.length&&!(a.areas&&a.areas.length>0))){a.areas=[];for(var f=0;f<d.length;f++){var h=d[f],i=h.v||"Visible";if("Hover"===i){var j=DayPilot.Areas.createArea(a,b,h,e);a.areas.push(j),a.appendChild(j),DayPilot.Areas.all.push(a)}}a.active.children=DayPilot.ac(a)}}},DayPilot.Areas.createArea=function(a,b,c,d){function m(a,b,c){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(c),a.calendar.bubble&&a.calendar.bubble.showEvent(a,!0)}function n(a,b,c){DayPilot.Menu&&DayPilot.Menu.touchPosition(c);var d=b.menu;"string"==typeof d?d=DayPilot.Util.evalVariable(d):a.isEvent&&a.calendar.contextMenu?d=DayPilot.Util.evalVariable(a.calendar.contextMenu):a.isRow&&a.calendar.contextMenu&&(d=DayPilot.Util.evalVariable(a.calendar.contextMenuResource)),d&&d.show&&d.show(a)}var d=d||{},e=d.offsetX||0,f=d.eventDiv||a,g=document.createElement("div");g.isActiveArea=!0,g.area=c,g.setAttribute("unselectable","on");var h=c.w||c.width,i=c.h||c.height,j=c.cssClass||c.css||c.className;if("undefined"!=typeof c.style&&g.setAttribute("style",c.style),g.style.position="absolute","undefined"!=typeof h&&(g.style.width=h+"px"),"undefined"!=typeof i&&(g.style.height=i+"px"),"undefined"!=typeof c.right&&(g.style.right=c.right+"px"),"undefined"!=typeof c.top&&(g.style.top=c.top+"px"),"undefined"!=typeof c.left&&(g.style.left=c.left+e+"px"),"undefined"!=typeof c.bottom&&(g.style.bottom=c.bottom+"px"),"undefined"!=typeof c.html&&c.html&&(g.innerHTML=c.html),j&&(g.className=j),c.backColor&&(g.style.background=c.backColor),"ResizeEnd"===c.action||"ResizeStart"===c.action||"Move"===c.action){if(b.calendar.isCalendar)switch(c.action){case"ResizeEnd":c.cursor="s-resize",c.dpBorder="bottom";break;case"ResizeStart":c.cursor="n-resize",c.dpBorder="top";break;case"Move":c.cursor="move"}if(b.calendar.isScheduler||b.calendar.isMonth)switch(c.action){case"ResizeEnd":c.cursor="e-resize",c.dpBorder="right";break;case"ResizeStart":c.cursor="w-resize",c.dpBorder="left";break;case"Move":c.cursor="move"}g.onmousemove=function(a,b,c){return function(d){var d=d||window.event;d.cancelBubble=!0,b.calendar.internal&&b.calendar.internal.dragInProgress&&b.calendar.internal.dragInProgress()||(a.style.cursor=c.cursor,c.dpBorder&&(a.dpBorder=c.dpBorder))}}(f,b,c),g.onmouseout=function(a,b,c){return function(b){a.style.cursor=""}}(f,b,c)}if(("ResizeEnd"===c.action||"ResizeStart"===c.action)&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(d){d.cancelBubble=!0;var e=b.calendar.internal.touch,f=d.touches?d.touches[0]:d,g={x:f.pageX,y:f.pageY};b.calendar.coords=e.relativeCoords(d),e.preventEventTap=!0,b.calendar.isScheduler?e.startResizing(a,"ResizeEnd"===c.action?"right":"left"):b.calendar.isCalendar&&e.startResizing(a,"ResizeEnd"===c.action?"bottom":"top",g)}}(f,b,c);DayPilot.re(g,DayPilot.touch.start,k)}if("ContextMenu"===c.action&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault(),n(b,c,a);var d=b.calendar.internal.touch;d.preventEventTap=!0}}(f,b,c),l=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault()}}(f,b,c);DayPilot.re(g,DayPilot.touch.start,k),DayPilot.re(g,DayPilot.touch.end,l)}if("Bubble"===c.action&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault(),m(b,c,a);var d=b.calendar.internal.touch;d.preventEventTap=!0}}(f,b,c),l=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault()}}(f,b,c);DayPilot.re(g,DayPilot.touch.start,k),DayPilot.re(g,DayPilot.touch.end,l)}if("Move"===c.action&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(c){c.cancelBubble=!0;var d=b.calendar.internal.touch,e=c.touches?c.touches[0]:c,f={x:e.pageX,y:e.pageY};b.calendar.coords=d.relativeCoords(c),d.preventEventTap=!0,d.startMoving(a,f)}}(f,b,c);DayPilot.re(g,DayPilot.touch.start,k)}if("Move"===c.action&&b.isRow&&b.calendar.internal.touch,"Bubble"===c.action&&b.isEvent&&(g.onmousemove=function(a,b,c){return function(a){b.calendar.bubble&&b.calendar.bubble.showEvent(b,!0)}}(a,b,c),g.onmouseout=function(a,b,c){return function(a){"undefined"!=typeof DayPilot.Bubble&&b.calendar.bubble&&b.calendar.bubble.hideOnMouseOut()}}(a,b,c)),"HoverMenu"===c.action&&(g.onmousemove=function(a,b,c){return function(a){var d=c.menu;"string"==typeof d&&(d=DayPilot.Util.evalVariable(d)),d&&d.show&&(d.visible?d.source&&"undefined"!=typeof d.source.id&&d.source.id!==b.id&&d.show(b):d.show(b),d.cancelHideTimeout())}}(a,b,c),g.onmouseout=function(a,b,c){return function(a){var b=c.menu;"string"==typeof b&&(b=DayPilot.Util.evalVariable(b)),b&&b.hideOnMouseOver&&b.delayedHide()}}(a,b,c)),"JavaScript"===c.action){var k=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault();var c=b.calendar.internal.touch;c.start=!0}}(f,b,c),l=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault();var d=b.calendar.internal.touch;d.start=!1;var e=c.js;if("string"==typeof e&&(e=DayPilot.Util.evalFunction(c.js)),"function"==typeof e){var f=c.target||b;e.call(this,f)}}}(f,b,c);DayPilot.re(g,DayPilot.touch.start,k),DayPilot.re(g,DayPilot.touch.end,l)}return g.onmousedown=function(a,b,c){return function(d){if("function"==typeof c.onmousedown&&c.onmousedown(d),"function"==typeof c.mousedown){var e={};e.area=c,e.div=a,e.originalEvent=d,e.source=b,c.mousedown(e)}if("Move"===c.action&&b.isRow){var f=b.$.row,g=b.calendar.internal.rowtools;g.startMoving(f)}var h=!0;if(h){if("Move"===c.action||"ResizeEnd"===c.action||"ResizeStart"===c.action||!c.action)return;d=d||window.event,d.preventDefault(),d.cancelBubble=!0}}}(a,b,c),g.onclick=function(a,b,c){return function(a){var a=a||window.event;if(c.action){switch(c.action){case"JavaScript":var d=c.js;if("string"==typeof d&&(d=DayPilot.Util.evalFunction(c.js)),"function"==typeof d){var e=c.target||b;d.call(this,e)}break;case"ContextMenu":n(b,c,a);break;case"CallBack":alert("callback not implemented yet, id: "+c.id)}a.cancelBubble=!0}}}(a,b,c),g},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(a,b){if(a&&a&&a.active){var c=a.active,d=a.areas;if(c&&c.children){var b=b||window.event;if(b){var e=b.toElement||b.relatedTarget;if(~DayPilot.indexOf(c.children,e))return}}if(!d||0===d.length)return void(a.active=null);DayPilot.de(d),a.active=null,a.areas=[],DayPilot.rfa(DayPilot.Areas.all,a),c.children=null}},DayPilot.Areas.hideAll=function(a){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var b=0;b<DayPilot.Areas.all.length;b++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[b],a)},DayPilot.Action=function(a,b,c,d){
var e=this;this.calendar=a,this.isAction=!0,this.action=b,this.params=c,this.data=d,this.notify=function(){e.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){e.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){e.calendar.queue.add(this)},this.toJSON=function(){var a={};return a.name=this.action,a.params=this.params,a.data=this.data,a}},DayPilot.Selection=function(a,b,c,d){this.menuType="selection",this.start=new DayPilot.Date(a),this.end=new DayPilot.Date(b),this.resource=c,this.root=d,this.calendar=d,this.toJSON=function(a){var b={};return b.start=this.start,b.end=this.end,b.resource=this.resource,b}},DayPilot.Link=function(a,b){this.isLink=!0,this.data=a,this.calendar=b,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var a={};return a.from=this.data.from,a.to=this.data.to,a.id=this.data.id,a.type=this.data.type,a}},DayPilot.Args=function(){this.isArgs=!0,this.preventDefault=function(){this.preventDefault.value=!0}},DayPilot.Event=function(a,b,c){var d=this;this.calendar=b,this.data=a?a:{},this.part=c?c:{},"undefined"==typeof this.data.id&&(this.data.id=this.data.value);var e={},f=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(e.dirty)return e;for(var a=0;a<f.length;a++)e[f[a]]=d.data[f[a]];return e.dirty=!0,e},this.copy=function(){var a={};return DayPilot.Util.copyProps(d.data,a),a},this.commit=function(){if(e.dirty){for(var a=0;a<f.length;a++)d.data[f[a]]=e[f[a]];e.dirty=!1}},this.dirty=function(){return e.dirty},this.id=function(a){return"undefined"==typeof a?d.data.id:void(this.temp().id=a)},this.value=function(a){return"undefined"==typeof a?d.id():void d.id(a)},this.text=function(a){return"undefined"==typeof a?d.data.text:(this.temp().text=a,void this.client.innerHTML(a))},this.start=function(a){return"undefined"==typeof a?new DayPilot.Date(d.data.start):void(this.temp().start=new DayPilot.Date(a))},this.end=function(a){return"undefined"==typeof a?b&&b.internal.adjustEndNormalize?b.internal.adjustEndNormalize(new DayPilot.Date(d.data.end)):new DayPilot.Date(d.data.end):void(this.temp().end=new DayPilot.Date(a))},this.rawend=function(){return"undefined"==typeof $0T?b&&b.internal.adjustEndIn?b.internal.adjustEndIn(new DayPilot.Date(d.data.end)):new DayPilot.Date(d.data.end):void(this.temp().end=new DayPilot.Date($0T))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof $0T?d.data.allday:void(this.temp().allday=$0T)},this.isAllDay=this.allday,this.resource=function(a){return"undefined"==typeof a?d.data.resource:void(this.temp().resource=a)},this.recurrent=function(){return d.data.recurrent},this.recurrentMasterId=function(){return d.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return d.cache?d.cache.bubbleHtml||d.data.bubbleHtml:d.data.bubbleHtml},this.tag=function(a){if(d.data.tags)return d.data.tags[a];var b=d.data.tag;if(!b)return null;if("undefined"==typeof a)return d.data.tag;for(var c=d.calendar.tagFields,e=-1,f=0;f<c.length;f++)a===c[f]&&(e=f);if(e===-1)throw"Field name not found.";return b[e]},this.client={},this.client.innerHTML=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.html?d.cache.html:"undefined"!=typeof d.data.html?d.data.html:d.data.text:(d.data.html=a,void(d.cache&&(d.cache.html=a)))},this.client.html=this.client.innerHTML,this.client.header=function(a){return"undefined"==typeof a?d.data.header:void(d.data.header=a)},this.client.cssClass=function(a){return"undefined"==typeof a?d.data.cssClass:void(d.data.cssClass=a)},this.client.toolTip=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.toolTip?d.cache.toolTip:"undefined"!=typeof d.data.toolTip?d.data.toolTip:d.data.text:void(d.data.toolTip=a)},this.client.backColor=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.backColor?d.cache.backColor:"undefined"!=typeof d.data.backColor?d.data.backColor:d.calendar.eventBackColor:void(d.data.backColor=a)},this.client.borderColor=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.borderColor?d.cache.borderColor:"undefined"!=typeof d.data.borderColor?d.data.borderColor:d.calendar.eventBorderColor:void(d.data.borderColor=a)},this.client.barColor=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.barColor?d.cache.barColor:"undefined"!=typeof d.data.barColor?d.data.barColor:d.calendar.durationBarColor:void(d.data.barColor=a)},this.client.barVisible=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.barHidden?!d.cache.barHidden:d.calendar.durationBarVisible&&!d.data.barHidden:void(d.data.barHidden=!a)},this.client.contextMenu=function(a){if("undefined"==typeof a){if(d.oContextMenu)return d.oContextMenu;var b=d.cache?d.cache.contextMenu:d.data.contextMenu;return b?DayPilot.Util.evalVariable(b):null}d.oContextMenu=a},this.client.moveEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.moveDisabled?!d.cache.moveDisabled:"Disabled"!==d.calendar.eventMoveHandling&&!d.data.moveDisabled:void(d.data.moveDisabled=!a)},this.client.resizeEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.resizeDisabled?!d.cache.resizeDisabled:"Disabled"!==d.calendar.eventResizeHandling&&!d.data.resizeDisabled:void(d.data.resizeDisabled=!a)},this.client.rightClickEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.rightClickDisabled?!d.cache.rightClickDisabled:"Disabled"!==d.calendar.rightClickHandling&&!d.data.rightClickDisabled:void(d.data.rightClickDisabled=!a)},this.client.clickEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.clickDisabled?!d.cache.clickDisabled:"Disabled"!==d.calendar.clickHandling&&!d.data.clickDisabled:void(d.data.clickDisabled=!a)},this.client.deleteEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.deleteDisabled?!d.cache.deleteDisabled:"Disabled"!==d.calendar.eventDeleteHandling&&!d.data.deleteDisabled:void(d.data.deleteDisabled=!a)},this.client.doubleClickEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.doubleClickDisabled?!d.cache.doubleClickDisabled:"Disabled"!==d.calendar.eventDoubleClickHandling&&!d.data.doubleClickDisabled:void(d.data.doubleClickDisabled=!a)},this.client.deleteClickEnabled=function(a){return"undefined"==typeof a?d.cache&&"undefined"!=typeof d.cache.deleteDisabled?!d.cache.deleteDisabled:"Disabled"!==d.calendar.eventDeleteHandling&&!d.data.deleteDisabled:void(d.data.deleteDisabled=!a)},this.toJSON=function(a){var b={};if(b.value=this.id(),b.id=this.id(),b.text=this.text(),b.start=this.start().toJSON(),b.end=this.end().toJSON(),b.resource=this.resource(),b.isAllDay=!1,b.recurrentMasterId=this.recurrentMasterId(),b.join=this.data.join,b.tag={},d.data.tags)for(var c in d.data.tags)d.data.tags.hasOwnProperty(c)&&(b.tag[c]=""+d.data.tags[c]);else if(d.calendar&&d.calendar.tagFields)for(var e=d.calendar.tagFields,f=0;f<e.length;f++)b.tag[e[f]]=this.tag(e[f]);return b}},DayPilot.Task=function(a,b){if(!a)throw"Trying to initialize DayPilot.Task with null data parameter";var c=this,d=null;if(a instanceof DayPilot.Event)d=a,this.data=a.data.task;else{if(a instanceof DayPilot.Task)return a;a.isTaskWrapper?this.data=a.data:this.data=a}var e={},f=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=b,this.temp=function(){if(e.dirty)return e;for(var a=0;a<f.length;a++)e[f[a]]=c.data[f[a]];return e.dirty=!0,e},this.copy=function(){var a={};return DayPilot.Util.copyProps(c.data,a),a},this.commit=function(){if(e.dirty){for(var a=0;a<f.length;a++)c.data[f[a]]=e[f[a]];e.dirty=!1}},this.dirty=function(){return e.dirty},this.id=function(a){return"undefined"==typeof a?c.data.id:void(this.temp().id=a)},this.text=function(a){return"undefined"==typeof a?c.data.text:(this.temp().text=a,void this.client.innerHTML(a))},this.start=function(a){return"undefined"==typeof a?new DayPilot.Date(c.data.start):void(this.temp().start=new DayPilot.Date(a))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(a){return"undefined"==typeof a?b&&"Date"===b.eventEndSpec?new DayPilot.Date(c.data.end).getDatePart().addDays(1):new DayPilot.Date(c.data.end):void(this.temp().end=new DayPilot.Date(a))},this.type=function(a){return"undefined"==typeof a?d?d.data.type:c.data.type:void(this.temp().type=a)},this.complete=function(a){return"undefined"==typeof a?c.data.complete?c.data.complete:0:void(this.temp().complete=a)},this.children=function(){var a=[];a.add=function(a){var b=new DayPilot.Task(a);this.data.children||(this.data.children=[]),this.children.push(b.data)};for(var c=0;this.data.children&&c<this.data.children.length;c++)a.push(new DayPilot.Task(this.data.children[c],b));return a},this.toJSON=function(a){var b={};return b.id=this.id(),b.text=this.text(),b.start=this.start().toJSON(),b.end=this.end().toJSON(),b.type=this.type(),b.tags={},DayPilot.Util.copyProps(this.data.tags,b.tags),b},this.row={};var g=this.row;g.expanded=function(a){return"undefined"==typeof a?!c.data.row||!c.data.row.collapsed:(c.data.row||(c.data.row={}),!!c.data.row.collapsed!=!a&&b.internal.rowObjectForTaskData(c.data).toggle(),c.data.row.collapsed=!a,void 0)},g.expand=function(){g.expanded(!0)},g.collapse=function(){g.expanded(!1)},g.toggle=function(){g.expanded(!g.expanded())}},DayPilot.request=function(a,b,c,d){var e=DayPilot.createXmlHttp();e&&(e.open("POST",a,!0),e.setRequestHeader("Content-type","text/plain"),e.onreadystatechange=function(){if(4===e.readyState)return 200!==e.status&&304!==e.status?void(d?d(e):window.console&&console.log("HTTP error "+e.status)):void b(e)},4!==e.readyState&&("object"==typeof c&&(c=DayPilot.JSON.stringify(c)),e.send(c)))},DayPilot.ajax=function(a){var b=DayPilot.createXmlHttp();if(b){var c=a.method||"GET",d=a.success||function(){},e=a.error||function(){},f=a.data,g=a.url;b.open(c,g,!0),b.setRequestHeader("Content-type","text/plain"),b.onreadystatechange=function(){if(4===b.readyState)if(200===b.status||304===b.status){var a={};a.request=b,d(a)}else if(e){var a={};a.request=b,e(a)}else window.console&&console.log("HTTP error "+b.status)},4!==b.readyState&&("object"==typeof f&&(f=DayPilot.JSON.stringify(f)),b.send(f))}},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Duration=function(a){var b=this,c=864e5,d=36e5,e=6e4,f=1e3;if(2===arguments.length){var g=arguments[0],h=arguments[1];if(!(g instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(h instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";this.ticks=h.getTime()-g.getTime()}else this.ticks=a;this.toString=function(a){if(!a)return b.days()+"."+b.hours()+":"+b.minutes()+":"+b.seconds()+"."+b.milliseconds();var c=b.minutes();c=(c<10?"0":"")+c;var d=a;return d=d.replace("mm",c),d=d.replace("m",b.minutes()),d=d.replace("H",b.hours()),d=d.replace("h",b.hours()),d=d.replace("d",b.days()),d=d.replace("s",b.seconds())},this.totalHours=function(){return b.ticks/d},this.totalDays=function(){return b.ticks/c},this.totalHours=function(){return b.ticks/d},this.totalMinutes=function(){return b.ticks/e},this.totalSeconds=function(){return b.ticks/f},this.days=function(){return Math.floor(b.totalDays())},this.hours=function(){var a=b.ticks-b.days()*c;return Math.floor(a/d)},this.minutes=function(){var a=b.ticks-Math.floor(b.totalHours())*d;return Math.floor(a/e)},this.seconds=function(){var a=b.ticks-Math.floor(b.totalMinutes())*e;return Math.floor(a/f)},this.milliseconds=function(){return b.ticks%f}},DayPilot.TimeSpan=function(){DayPilot.Duration.apply(this,arguments)};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(a){}DayPilot.Date=function(a,b){if(a instanceof DayPilot.Date)return a;var c;DayPilot.Util.isNullOrUndefined(a)&&(c=DayPilot.DateUtil.fromLocal().getTime(),a=c);var d=DayPilot.Date.Cache.Ctor;if(d[a])return DayPilot.Stats.cacheHitsCtor+=1,d[a];var e=!1;if("string"==typeof a)c=DayPilot.DateUtil.fromStringSortable(a,b).getTime(),e=!0;else if("number"==typeof a){if(isNaN(a))throw"Cannot create DayPilot.Date from NaN";c=a}else{if(!(a instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";c=b?DayPilot.DateUtil.fromLocal(a).getTime():a.getTime()}var f=ticksToSortable(c);return d[f]?d[f]:(d[f]=this,d[c]=this,e&&f!==a&&DayPilot.DateUtil.hasTzSpec(a)&&(d[a]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return c}}),Object.defineProperty(this,"value",{value:f,writable:!1,enumerable:!0})):(this.ticks=c,this.value=f),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(c)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={}},DayPilot.Date.prototype.addDays=function(a){return new DayPilot.Date(this.ticks+24*a*60*60*1e3)},DayPilot.Date.prototype.addHours=function(a){return this.addTime(60*a*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(a){return this.addTime(a)},DayPilot.Date.prototype.addMinutes=function(a){return this.addTime(60*a*1e3)},DayPilot.Date.prototype.addMonths=function(a){var b=new Date(this.ticks);if(0===a)return this;var c=b.getUTCFullYear(),d=b.getUTCMonth()+1;if(a>0){for(;a>=12;)a-=12,c++;a>12-d?(c++,d=a-(12-d)):d+=a}else{for(;a<=-12;)a+=12,c--;d+a<=0?(c--,d=12+d+a):d+=a}var e=new Date(b.getTime());e.setUTCDate(1),e.setUTCFullYear(c),e.setUTCMonth(d-1);var f=new DayPilot.Date(e).daysInMonth();return e.setUTCDate(Math.min(f,b.getUTCDate())),new DayPilot.Date(e)},DayPilot.Date.prototype.addSeconds=function(a){return this.addTime(1e3*a)},DayPilot.Date.prototype.addTime=function(a){return new DayPilot.Date(this.ticks+a)},DayPilot.Date.prototype.addYears=function(a){var b=new Date(this.ticks),c=new Date(this.ticks),d=this.getYear()+a,e=this.getMonth();c.setUTCDate(1),c.setUTCFullYear(d),c.setUTCMonth(e);var f=new DayPilot.Date(c).daysInMonth();return c.setUTCDate(Math.min(f,b.getUTCDate())),new DayPilot.Date(c)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var a=new Date(this.ticks),b=a.getUTCMonth()+1,c=a.getUTCFullYear(),d=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==b?d[b-1]:c%4!==0?d[1]:c%100===0&&c%400!==0?d[1]:d[1]+1},DayPilot.Date.prototype.daysInYear=function(){var a=this.getYear();return a%4!==0?365:a%100===0&&a%400!==0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(a){if(null===a)return!1;if(a instanceof DayPilot.Date)return this===a;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var a=new Date;return a.setUTCFullYear(this.getYear(),this.getMonth(),1),a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),new DayPilot.Date(a)},DayPilot.Date.prototype.firstDayOfYear=function(){var a=this.getYear(),b=new Date;return b.setUTCFullYear(a,0,1),b.setUTCHours(0),b.setUTCMinutes(0),b.setUTCSeconds(0),b.setUTCMilliseconds(0),new DayPilot.Date(b)},DayPilot.Date.prototype.firstDayOfWeek=function(a){for(var b=this,a=a||0,c=b.dayOfWeek();c!==a;)b=b.addDays(-1),c=b.dayOfWeek();return new DayPilot.Date(b)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var a=new Date(this.ticks);return a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),new DayPilot.Date(a)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var a=this.getDatePart();return DayPilot.DateUtil.diff(this,a)},DayPilot.Date.prototype.lastDayOfMonth=function(){var a=new Date(this.firstDayOfMonth().getTime()),b=this.daysInMonth();return a.setUTCDate(b),new DayPilot.Date(a)},DayPilot.Date.prototype.weekNumber=function(){var a=this.firstDayOfYear(),b=(this.getTime()-a.getTime())/864e5;return Math.ceil((b+a.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var a=!1,b=this.dayOfYear(),c=this.firstDayOfYear().dayOfWeek(),d=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===c&&(c=7),0===d&&(d=7);var e=8-c;4!==c&&4!==d||(a=!0);var f=Math.ceil((b-e)/7),g=f;return e>=4&&(g+=1),g>52&&!a&&(g=1),0===g&&(g=this.firstDayOfYear().addDays(-1).weekNumberISO()),g},DayPilot.Date.prototype.toDateLocal=function(){var a=new Date(this.ticks),b=new Date;return b.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),b.setHours(a.getUTCHours()),b.setMinutes(a.getUTCMinutes()),b.setSeconds(a.getUTCSeconds()),b.setMilliseconds(a.getUTCMilliseconds()),b},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(a,b){return"undefined"==typeof a?this.toStringSortable():new $29(a,b).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return ticksToSortable(this.ticks)},DayPilot.Date.parse=function(a,b,c){var d=new $29(b,c);return d.parse(a)};var $2b=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(a,b,c){b=b||1,c=c||1;var d=new Date(0);return d.setUTCFullYear(a),d.setUTCMonth(b-1),d.setUTCDate(c),new DayPilot.Date(d)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(a,b){if(!a)throw"Can't create DayPilot.Date from an empty string";var c=a.length,d=10===c,e=19===c,f=c>19;if(!d&&!e&&!f)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+a;if(DayPilot.Date.Cache.Parsing[a]&&!b)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[a];var g=a.substring(0,4),h=a.substring(5,7),i=a.substring(8,10),j=new Date(0);if(j.setUTCFullYear(g,h-1,i),d)return DayPilot.Date.Cache.Parsing[a]=j,j;var k=a.substring(11,13),l=a.substring(14,16),m=a.substring(17,19);if(j.setUTCHours(k),j.setUTCMinutes(l),j.setUTCSeconds(m),e)return DayPilot.Date.Cache.Parsing[a]=j,j;var n=a[19],o=0;if("."===n){var p=parseInt(a.substring(20,23));j.setUTCMilliseconds(p),o=DayPilot.DateUtil.getTzOffsetMinutes(a.substring(23))}else o=DayPilot.DateUtil.getTzOffsetMinutes(a.substring(19));var q=new DayPilot.Date(j);return b||(q=q.addMinutes(-o)),j=q.toDate(),DayPilot.Date.Cache.Parsing[a]=j,j},DayPilot.DateUtil.getTzOffsetMinutes=function(a){if(DayPilot.Util.isNullOrUndefined(a)||""===a)return 0;if("Z"===a)return 0;var b=a[0],c=parseInt(a.substring(1,3)),d=parseInt(a.substring(4)),e=60*c+d;if("-"===b)return-e;if("+"===b)return e;throw"Invalid timezone spec: "+a},DayPilot.DateUtil.hasTzSpec=function(a){return!!a.indexOf("+")||!!a.indexOf("-")},DayPilot.DateUtil.daysDiff=function(a,b){if(a&&b||function(){throw"two parameters required"}(),a=new DayPilot.Date(a),b=new DayPilot.Date(b),a.getTime()>b.getTime())return null;for(var c=0,d=a.getDatePart(),e=b.getDatePart();d<e;)d=d.addDays(1),c++;return c},DayPilot.DateUtil.daysSpan=function(a,b){if(a&&b||function(){throw"two parameters required"}(),a=new DayPilot.Date(a),b=new DayPilot.Date(b),a===b)return 0;var c=DayPilot.DateUtil.daysDiff(a,b);return b==b.getDatePart()&&c--,c},DayPilot.DateUtil.diff=function(a,b){if(!(a&&b&&a.getTime&&b.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return a.getTime()-b.getTime()},DayPilot.DateUtil.fromLocal=function(a){a||(a=new Date);var b=new Date;return b.setUTCFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b.setUTCHours(a.getHours()),b.setUTCMinutes(a.getMinutes()),b.setUTCSeconds(a.getSeconds()),b.setUTCMilliseconds(a.getMilliseconds()),b},DayPilot.DateUtil.localToday=function(){var a=new Date;return a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),a},DayPilot.DateUtil.hours=function(a,b){var c=a.getUTCMinutes();c<10&&(c="0"+c);var d=a.getUTCHours();if(b){var e=d<12,d=d%12;0===d&&(d=12);var f=e?"AM":"PM";return d+":"+c+" "+f}return d+":"+c},DayPilot.DateUtil.max=function(a,b){return a.getTime()>b.getTime()?a:b},DayPilot.DateUtil.min=function(a,b){return a.getTime()<b.getTime()?a:b};var $29=function(a,b){"string"==typeof b&&(b=DayPilot.Locale.find(b));var b=b||DayPilot.Locale.US,c=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(a){return a.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(a){return a.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(a){var b=a.getMinutes();return b<10?"0"+b:b}},{seq:"m",expr:"[0-9]{1,2}",str:function(a){var b=a.getMinutes();return b}},{seq:"HH",expr:"[0-9]{2,2}",str:function(a){var b=a.getHours();return b<10?"0"+b:b}},{seq:"H",expr:"[0-9]{1,2}",str:function(a){var b=a.getHours();return b}},{seq:"hh",expr:"[0-9]{2,2}",str:function(a){var b=a.getHours(),b=b%12;0===b&&(b=12);var c=b;return c<10?"0"+c:c}},{seq:"h",expr:"[0-9]{1,2}",str:function(a){var b=a.getHours(),b=b%12;return 0===b&&(b=12),b}},{seq:"tt",expr:"(AM|PM)",str:function(a){var b=a.getHours(),c=b<12;return c?"AM":"PM"}},{seq:"ss",expr:"[0-9]{2,2}",str:function(a){var b=a.getSeconds();return b<10?"0"+b:b}},{seq:"s",expr:"[0-9]{1,2}",str:function(a){var b=a.getSeconds();return b}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(a){var c=b.monthNames[a.getMonth()];return c},transform:function(a){var c=DayPilot.indexOf(b.monthNames,a,equalsIgnoreCase);return c<0?null:c+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(a){var c=b.monthNamesShort[a.getMonth()];return c},transform:function(a){var c=DayPilot.indexOf(b.monthNamesShort,a,equalsIgnoreCase);return c<0?null:c+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(a){var b=a.getMonth()+1;return b<10?"0"+b:b}},{seq:"M",expr:"[0-9]{1,2}",str:function(a){var b=a.getMonth()+1;return b}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(a){var c=b.dayNames[a.getDayOfWeek()];return c}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(a){var c=b.dayNamesShort[a.getDayOfWeek()];return c}},{seq:"dd",expr:"[0-9]{2,2}",str:function(a){var b=a.getDay();return b<10?"0"+b:b}},{seq:"%d",expr:"[0-9]{1,2}",str:function(a){var b=a.getDay();return b}},{seq:"d",expr:"[0-9]{1,2}",str:function(a){var b=a.getDay();return b}}],d=function(a){return a.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s")},this.findSequence=function(b){function e(a){return parseInt(a)}var f=a.indexOf(b);return f===-1?null:{findValue:function(f){for(var g=d(a),h=null,i=0;i<c.length;i++){var k=(c[i].length,b===c[i].seq),l=c[i].expr;k&&(l="("+l+")",h=c[i].transform),g=g.replace(c[i].seq,l)}g="^"+g+"$";try{var m=new RegExp(g),n=m.exec(f);return n?(h=h||e)(n[1]):null}catch(a){throw"unable to create regex from: "+g}}}},this.print=function(b){for(var d=function(a){for(var b=0;b<c.length;b++)if(c[b]&&c[b].seq===a)return c[b];return null},e=a.length<=0,f=0,g=[];!e;){var h=a.substring(f),i=/%?(.)\1*/.exec(h);if(i&&i.length>0){var j=i[0],k=d(j);k?g.push(k):g.push(j),f+=j.length,e=a.length<=f}else e=!0}for(var l=0;l<g.length;l++){var m=g[l];"string"!=typeof m&&(g[l]=m.str(b))}return g.join("")},this.parse=function(a){var b=this.year.findValue(a);if(!b)return null;var c=this.month.findValue(a);if(DayPilot.Util.isNullOrUndefined(c))return null;if(c>12||c<1)return null;var d=this.day.findValue(a),e=DayPilot.Date.fromYearMonthDay(b,c).daysInMonth();if(d<1||d>e)return null;var f=this.hours?this.hours.findValue(a):0,g=this.minutes?this.minutes.findValue(a):0,h=this.seconds?this.seconds.findValue(a):0,i=new Date;return i.setUTCFullYear(b,c-1,d),i.setUTCHours(f),i.setUTCMinutes(g),i.setUTCSeconds(h),i.setUTCMilliseconds(0),new DayPilot.Date(i)},this.init()};DayPilot.Canvas=function(a,b,c,d){var d=d||1,e=document.createElement("canvas");e.width=a*d,e.height=b*d;var f=e.getContext("2d");f.scale(d,d),this.defaultFileName="image.png","image/jpeg"===c&&(this.defaultFileName="image.jpg"),this.fillRect=function(a,b){f.save(),f.strokeStyle="rgb(0,0,0,0)",f.fillStyle=b,f.fillRect(a.x+.5,a.y+.5,a.w-.5,a.h-.5),f.restore()},this.rect=function(a,b){f.save(),f.strokeStyle=b,f.beginPath(),f.rect(a.x+.5,a.y+.5,a.w-1,a.h-1),f.stroke(),f.restore()},this.text=function(a,b,c,d,e,g){e=e||"left",g=g||0,d=d||"#000",f.save();var h=DayPilot.browser.ff?3:0,i=parseInt(c.size);h+=.2*i,h+=DayPilot.browser.chrome?1:0,h+=DayPilot.browser.ie?1:0,f.rect(a.x+.5+g,a.y+.5+g,a.w-1-g,a.h-1-g),f.clip(),f.fillStyle=d,f.font=c.style+" "+c.size+" "+c.family,f.textBaseline="top",f.textAlign=e;var j=a.x;switch(e){case"center":j+=a.w/2;break;case"right":j+=a.w}var k=0;j+=k,f.fillText(b,j+g,a.y+k+g+h),f.restore()},this.line=function(a,b,c,d,e){f.save(),f.lineWidth=1,f.strokeStyle=e,f.beginPath(),f.moveTo(a+.5,b+.5),f.lineTo(c+.5,d+.5),f.stroke(),f.restore()},this.image=function(a,b){if(b){if("string"==typeof b){var c=b,b=document.createElement("img");if(0!==c.indexOf("data:"))return b.onload=function(){f.save(),f.drawImage(b,a.x,a.y),f.restore()},void(b.src=c);b.src=c}f.save(),f.drawImage(b,a.x,a.y),f.restore()}},this.getWidth=function(){return e.width},this.getHeight=function(){return e.height},this.getElement=function(){return e},this.getSource=function(){return"<img src='"+e.toDataURL(c)+"' />"},this.getDataUri=function(){return e.toDataURL(c)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return e.msToBlob?e.msToBlob():new $0X([this.getSource(c)])}},DayPilot.Svg=function(a,b){function e(a,b){var c=null;if("string"==typeof a){if(0===a.indexOf("data:")){var d={};d.dataUri=a,b(d)}c=a}else c=a.src;var a=document.createElement("img");a.onload=function(){var a=document.createElement("canvas");a.width=this.naturalWidth,a.height=this.naturalHeight,a.getContext("2d").drawImage(this,0,0);var c={};c.dataUri=a.toDataURL("image/png"),b(c)},a.src=c}var c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"svg");d.outerHTML&&d.setAttribute("xmlns",c),d.setAttribute("viewBox","0 0 "+a+" "+b),this.defaultFileName="image.svg",this.fillRect=function(a,b){var e=document.createElementNS(c,"rect");e.setAttribute("x",a.x+.5),e.setAttribute("y",a.y+.5),e.setAttribute("width",a.w-1),e.setAttribute("height",a.h-1),e.setAttribute("fill",b),d.appendChild(e)},this.rect=function(a,b){var e=document.createElementNS(c,"rect");e.setAttribute("x",a.x+.5),e.setAttribute("y",a.y+.5),e.setAttribute("width",a.w-1),e.setAttribute("height",a.h-1),e.setAttribute("stroke",b),e.setAttribute("stroke-width","1"),e.setAttribute("fill","transparent"),d.appendChild(e)},this.text=function(a,b,e,f,g,h){var g=g||"left",h=h||0,i=3,j=a.x,k="start";switch(g){case"center":j+=a.w/2,k="middle";break;case"right":j+=a.w,k="end"}var l=document.createElementNS(c,"clipPath");l.id="clip"+DayPilot.guid();var m=document.createElementNS(c,"rect");m.setAttribute("x",a.x),m.setAttribute("y",a.y),m.setAttribute("width",a.w),m.setAttribute("height",a.h),l.appendChild(m),d.appendChild(l);var n=document.createElementNS(c,"text");n.setAttribute("fill",f),n.setAttribute("font-family",e.family),n.setAttribute("font-size",e.size),n.setAttribute("font-style",e.style),n.setAttribute("x",j+h),n.setAttribute("y",a.y+h+i),n.setAttribute("dy","1em"),n.setAttribute("text-anchor",k),n.setAttribute("clip-path","url(#"+l.id+")");var o=document.createTextNode(b);n.appendChild(o),d.appendChild(n)},this.line=function(a,b,e,f,g){var h=document.createElementNS(c,"line");h.setAttribute("x1",a+.5),h.setAttribute("y1",b+.5),h.setAttribute("x2",e+.5),h.setAttribute("y2",f+.5),h.setAttribute("stroke",g),d.appendChild(h)},this.image=function(a,b){function f(b){var e="http://www.w3.org/1999/xlink",f=document.createElementNS(c,"image");f.setAttributeNS(e,"href",b.dataUri),f.setAttribute("x",a.x),f.setAttribute("y",a.y),f.setAttribute("width",a.w),f.setAttribute("height",a.h),d.appendChild(f)}e(b,f)},this.getWidth=function(){return a},this.getHeight=function(){return b},this.getElement=function(){return d},this.getSource=function(){if(d.outerHTML)return d.outerHTML;var a=document.createElement("div"),b=d.cloneNode(!0);return a.appendChild(b),a.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new $0X([this.getSource()])}},DayPilot.Excel=function(){var a=this,b=null,c=null,d=null,e={};e.xmlns="urn:schemas-microsoft-com:office:spreadsheet",e.o="urn:schemas-microsoft-com:office:office",e.x="urn:schemas-microsoft-com:office:excel",e.ss="urn:schemas-microsoft-com:office:spreadsheet",e.html="http://www.w3.org/TR/REC-html40",this.init=function(){b=document.implementation.createDocument(e.xmlns,"Workbook",null),b.documentElement.setAttribute("xmlns:o",e.o),b.documentElement.setAttribute("xmlns:x",e.x),b.documentElement.setAttribute("xmlns:ss",e.ss),b.documentElement.setAttribute("xmlns:html",e.html);var f=b.createElement("x:ExcelWorkbook");b.documentElement.appendChild(f),c=b.createElement("ss:Styles"),b.documentElement.appendChild(c),d=a.styles.create(),d.setId("Default"),d.setName("Normal")},this.worksheets=[],this.worksheets.create=function(b){var c=a.el(e.ss,"Worksheet"),d=new f(c);return d.setName(b),this.push(d),d},this.styles=[],this.styles.create=function(a){var d=b.createElement("ss:Style");c.appendChild(d);var e=new g(d);return this.push(e),e},this.styles.getDefault=function(){return d},this.el=function(a,c){var d=b.createElementNS(a,c);return b.documentElement.appendChild(d),d},this.getSource=function(){var a=new XMLSerializer,c=a.serializeToString(b);return'<?xml version="1.0"?>'+c},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return b},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new $0X([this.getSource()])};var f=function(a){var c=b.createElement("Table");a.appendChild(c);var d=b.createElement("x:WorksheetOptions");a.appendChild(d),this.rows=[],this.setName=function(b){a.setAttribute("ss:Name",b)},this.cell=function(a,d){for(;d>=this.rows.length;){
var f=b.createElement("Row");c.appendChild(f),this.rows.push(new e(f))}var g=this.rows[d];return g.cell(a)},this.enableGridlines=function(a){var c=DayPilot.list(d.childNodes).find(function(a){return"x:DoNotDisplayGridlines"===a.tagName});if(!c&&!a){var e=b.createElement("x:DoNotDisplayGridlines");d.appendChild(e)}c&&a&&d.removeChild(c)};var e=function(a){this.cells=[],this.getElement=function(){return a},this.cell=function(d){for(;d>=this.cells.length;){var e=b.createElement("Cell");a.appendChild(e),this.cells.push(new c(e))}return this.cells[d]};var c=function(a){this.setText=function(c){var d=b.createElement("Data");d.setAttribute("ss:Type","String");var e=b.createTextNode(c);for(d.appendChild(e);a.firstChild;)a.removeChild(a.firstChild);return a.appendChild(d),this},this.setColspan=function(b){return b>1?a.setAttribute("ss:MergeAcross",b-1):a.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(b){return b>1?a.setAttribute("ss:MergeDown",b-1):a.removeAttribute("ss:MergeDown"),this},this.setStyle=function(b){if(!(b instanceof g))throw"Invalid argument, Style expected";return a.setAttribute("ss:StyleID",b.getId()),this}}}},g=function(a){var c=DayPilot.guid();a.setAttribute("ss:ID",c);var d=b.createElement("ss:Alignment");a.appendChild(d);var e=b.createElement("ss:Interior");a.appendChild(e);var f=b.createElement("ss:Borders");a.appendChild(f),this.setHorizontalAlignment=function(a){d.setAttribute("ss:Horizontal",a)},this.setVerticalAlignment=function(a){d.setAttribute("ss:Vertical",a)},this.setBackColor=function(a){var b=DayPilot.Util.normalizeColor(a);e.setAttribute("ss:Color",b),e.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(a){function h(a,c){var d=b.createElement("ss:Border");return d.setAttribute("ss:Position",a),d.setAttribute("ss:LineStyle","Continuous"),d.setAttribute("ss:Color",DayPilot.Util.normalizeColor(c)),d}this.clearBorders();var c=h("Left",a);f.appendChild(c);var d=h("Right",a);f.appendChild(d);var e=h("Top",a);f.appendChild(e);var g=h("Bottom",a);f.appendChild(g)},this.clearBorders=function(){for(;f.firstChild;)f.removeChild(f.firstChild)},this.getId=function(){return c},this.setId=function(b){c=b,a.setAttribute("ss:ID",c)},this.setName=function(b){a.setAttribute("ss:Name",b)}};this.init()},DayPilot.Locale=function(a,b){if(this.id=a,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,b)for(var c in b)this[c]=b[c]},DayPilot.Locale.all={},DayPilot.Locale.find=function(a){if(!a)return null;var b=a.toLowerCase();return b.length>2&&(b=DayPilot.Util.replaceCharAt(b,2,"-")),DayPilot.Locale.all[b]},DayPilot.Locale.register=function(a){DayPilot.Locale.all[a.id]=a},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","sá."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","mércores","xoves","venres","sábado"],dayNamesShort:["do","lu","ma","mé","xo","ve","sá"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["sø","må","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["N","Pn","Wt","Śr","Cz","Pt","So"],monthNames:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","št","pi","so"],monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sö","må","ti","on","to","fr","lö"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(a){function c(a,c,d){var e={};e.start=a,e.end=c,e.day=d,e.target=b.active.control,e.preventDefault=function(){this.preventDefault.value=!0};var f=b.$3Z;f&&f.start===e.start&&f.end===e.end&&f.day===e.day&&f.target===e.target||(b.$3Z=e,"function"==typeof b.onChange&&(b.onChange(e),e.preventDefault.value)||"function"==typeof b.onTimeRangeSelect&&(b.onTimeRangeSelect(e),e.preventDefault.value)||(b.active.sendNavigate(b.day),"function"==typeof b.onChanged&&b.onChanged(e),"function"==typeof b.onTimeRangeSelected&&b.onTimeRangeSelected(e)))}var b=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=new DayPilot.Date,this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(a){var c=b.navigator.control;c&&(c.selectMode=a,c.select(b.day))},this.addView=function(a,c){var d;if("string"==typeof a){if(d=document.getElementById(a),!d)throw"Element not found: "+a}else d=a;var e=d,f={};return f.isView=!0,f.id=e.id,f.control=e,f.options=c||{},f.hide=function(){e.hide?e.hide():e.nav&&e.nav.top?e.nav.top.style.display="none":e.style.display="none"},f.sendNavigate=function(a){var b=function(){return!!e.backendUrl||!("function"!=typeof WebForm_DoCallback||!e.uniqueID)}();b?e.commandCallBack&&e.commandCallBack("navigate",{day:a}):(e.startDate=a,e.update())},f.show=function(){b.$3V(),e.show?e.show():e.nav&&e.nav.top?e.nav.top.style.display="":e.style.display=""},f.selectMode=function(){if(f.options.navigatorSelectMode)return f.options.navigatorSelectMode;if(e.isCalendar)switch(e.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(e.isMonth)switch(e.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(f),f},this.addTrigger=function(a,c){var d;if("string"==typeof a){if(d=document.getElementById(a),!d)throw"Element not found: "+a}else d=a;var e=this.$3W(c);e||(e=this.addView(c));var f={};return f.isTrigger=!0,f.element=d,f.id=d.id,f.view=e,f.onClick=function(a){b.show(f),b.$3X(f),a=a||window.event,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},DayPilot.re(d,"click",f.onClick),this.triggers.push(f),f},this.addButton=this.addTrigger,this.select=function(a){var b=this.$3Y(a);b?b.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.$3Y=function(a){for(var b=0;b<this.triggers.length;b++){var c=this.triggers[b];if(c.id===a)return c}return null},this.$3X=function(a){if(this.selectedClass){for(var b=0;b<this.triggers.length;b++){var c=this.triggers[b];DayPilot.Util.removeClass(c.element,this.selectedClass)}DayPilot.Util.addClass(a.element,this.selectedClass)}},this.addNavigator=function(a){b.navigator.control=a,a.timeRangeSelectedHandling="JavaScript",a.onTimeRangeSelected=function(){var d,e,f;if(1===a.api)d=arguments[0],e=arguments[1],f=arguments[2];else{var g=arguments[0];d=g.start,e=g.end,f=g.day}b.day=f,c(d,e,f)}},this.show=function(a){var c,d;if(a.isTrigger)d=a,c=d.view;else if(c=a.isView?a:this.$3W(a),this.active===c)return;if(b.onSelect){var e={};e.source=d?d.element:null,e.target=c.control,b.onSelect(e)}this.active=c,c.show();var f=c.selectMode();b.navigator.updateMode(f)},this.$3W=function(a){for(var b=0;b<this.views.length;b++)if(this.views[b].control===a)return this.views[b];return null},this.$3V=function(){for(var a=0;a<this.views.length;a++)this.views[a].hide()},this.events={},this.events.load=function(a,c,d){if(!b.active||!b.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";b.active.control.events.load(a,c,d)},this.$3Z=null,this.$40=function(){if(a)for(var c in a)"triggers"===c?DayPilot.list(a.triggers).each(function(a){b.addTrigger(a.id,a.view)}):"navigator"===c?b.addNavigator(a.navigator):b[c]=a[c]},this.$40()},function(){if(!DayPilot.Global.defaultCss){var a=DayPilot.sheet();a.add(".bubble_default_main","cursor: default;"),a.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),a.add(".calendar_default_main","border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),a.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #666;background: #eee;"),a.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #999;"),a.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),a.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),a.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),a.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;"),a.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),a.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),a.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),a.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),a.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),a.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),a.add(".calendar_default_event","cursor: default;"),a.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),a.add(".calendar_default_shadow_inner","background-color: #666666;\topacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),a.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),
a.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),a.add(".calendar_default_now","background-color: red;"),a.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),a.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),a.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),a.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),a.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),a.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),a.add(".menu_default_main a span","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),a.add(".menu_default_main a:hover",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),a.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),a.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),a.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),a.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),a.add(".month_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;"),a.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),a.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),a.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),a.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),a.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;"),a.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),a.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),a.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),a.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),a.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),a.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),a.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),a.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),a.add(".navigator_default_main","border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;"),a.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),a.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),a.add(".navigator_default_day","color: black;"),a.add(".navigator_default_weekend","background-color: #f0f0f0;"),a.add(".navigator_default_dayheader","color: black;"),a.add(".navigator_default_line","border-bottom: 1px solid #A0A0A0;"),a.add(".navigator_default_dayother","color: gray;"),a.add(".navigator_default_todaybox","border: 1px solid red;"),a.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");'),a.add(".navigator_default_busy","font-weight: bold;"),a.add(".navigator_default_cell","text-align: center;"),a.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),a.add(".navigator_default_title","text-align: center;"),a.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),a.add(".navigator_default_dayheader","text-align: center;"),a.add(".navigator_default_weeknumber","text-align: center;"),a.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),a.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),a.add(".scheduler_default_timeheader","cursor: default;color: #666;"),a.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),a.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #666;background: #eee;"),a.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #666;background: #eee;"),a.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),a.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),a.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),a.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),a.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #aaa;"),a.add(".scheduler_default_divider_horizontal","background-color: #aaa;"),a.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),a.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),a.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),a.add(".scheduler_default_resourcedivider","background-color: #aaa;"),a.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".scheduler_default_event","font-size:12px;color:#666;"),a.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),a.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),a.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),a.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),a.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),a.add(".scheduler_default_columnheader_inner","font-weight: bold;"),a.add(".scheduler_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),a.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),a.add(".scheduler_default_cell","background-color: #f9f9f9;"),a.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),a.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),a.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),a.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),a.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),a.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),a.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),a.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),a.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),a.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),a.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),a.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),a.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),a.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),a.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),a.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),a.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),a.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),a.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),a.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),a.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),a.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white;"),a.add(".scheduler_default_rowheader textarea","padding: 3px;"),a.add(".scheduler_default_rowheader_scroll","cursor: default;"),a.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),a.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),a.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),a.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),a.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),a.add(".gantt_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),a.add(".gantt_default_timeheader","cursor: default;color: #666;"),a.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),a.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #666;background: #eee;"),a.add(".gantt_default_rowheader,.gantt_default_corner","color: #666;background: #eee;"),a.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),a.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),a.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),a.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),a.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),a.add(".gantt_default_divider_horizontal","background-color: #aaa;"),a.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),a.add(".gantt_default_matrix_vertical_break","background-color: #000;"),a.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),a.add(".gantt_default_resourcedivider","background-color: #aaa;"),a.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".gantt_default_event","font-size:12px;color:#666;"),a.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),a.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),a.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),a.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),a.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),a.add(".gantt_default_columnheader_inner","font-weight: bold;"),a.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),a.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),a.add(".gantt_default_cell","background-color: #f9f9f9;"),a.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),a.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),a.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),a.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),
a.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),a.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),a.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),a.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),a.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),a.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),a.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),a.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;"),a.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),a.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),a.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),a.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:$3x.Microsoft.Matrix($3y='auto expand',$3z=0.7071067811865476,$3A=-0.7071067811865475,$3B=0.7071067811865475,$3C=0.7071067811865476);\""),a.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),a.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),a.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),a.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),a.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");a.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");a.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),a.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),a.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),a.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),a.add(".gantt_default_header_icon:hover","background-color: #ccc;"),a.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),a.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),a.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),a.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),a.add(".gantt_default_rowheader textarea","padding: 5px;"),a.add(".gantt_default_rowheader_scroll","cursor: default;"),a.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),a.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),a.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),a.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),a.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),a.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),a.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),a.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),a.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),a.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),a.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),a.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),a.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),a.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),a.add(".kanban_default_timeheader","cursor: default;color: #666;"),a.add(".kanban_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),a.add(".kanban_default_colheadercell","color: #666;background: #eee;"),a.add(".kanban_default_rowheader,.kanban_default_corner","color: #666;background: #eee;"),a.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),a.add(".kanban_default_colheadercell","text-align: center;"),a.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),a.add(".kanban_default_divider, .kanban_default_splitter","background-color: #aaa;"),a.add(".kanban_default_divider_horizontal","background-color: #aaa;"),a.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),a.add(".kanban_default_matrix_vertical_break","background-color: #000;"),a.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),a.add(".kanban_default_rowheaderdivider","background-color: #aaa;"),a.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".kanban_default_card","font-size:12px;color:#666;"),a.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),a.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".kanban_default_cell","background-color: #fff;"),a.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),a.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),a.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),a.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),a.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),a.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),a.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),a.add(".kanban_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),a.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),a.add(".kanban_default_header_icon:hover","background-color: #ccc;"),a.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),a.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),a.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),a.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),a.add(".kanban_default_rowheader textarea","padding: 3px;"),a.add(".kanban_default_rowheader_scroll","cursor: default;"),a.add(".kanban_default_card_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),a.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),a.add(".kanban_default_cell","background-color: #fff;"),a.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),a.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),a.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),a.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),a.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),a.add(".kanban_default_swimlane_collapse:before","content: '^';"),a.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),a.add(".kanban_default_swimlane_expand:before","content: '>';"),a.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),a.add(".kanban_default_columnmove_position","background-color: #333;"),a.commit(),DayPilot.Global.defaultCss=!0}}();var $3D=function(a){var b=this;this.id=a,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var c;if(!a)throw"error: id not provided";if("string"==typeof a)c=document.getElementById(a);else{if(!a.appendChild)throw"error: invalid object provided";c=a}this.div=c,this.blocks=[];for(var d=0;d<this.widths.length;d++){var e=document.createElement("div");e.style.display="inline-block",null!==b.height?e.style.height=b.height+"px":e.style.height="100%",e.style.width=this.widths[d]-this.splitterWidth+"px",e.style.overflow="hidden",e.style.verticalAlign="top",e.style.position="relative",e.setAttribute("unselectable","on"),e.className=this.css.title,c.appendChild(e);var f=document.createElement("div");f.innerHTML=this.titles[d],f.setAttribute("unselectable","on"),f.className=this.css.titleInner,e.appendChild(f);var g=document.createElement("div");g.style.display="inline-block",null!==b.height?g.style.height=b.height+"px":g.style.height="100%",g.style.width=this.splitterWidth+"px",g.style.position="relative",g.appendChild(document.createElement("div")),g.style.cursor="col-resize",g.setAttribute("unselectable","on"),g.className=this.css.splitter;var h={};h.index=d,h.width=this.widths[d],g.data=h,g.onmousedown=function(a){b.drag.start=DayPilot.page(a),b.drag.data=this.data,b.div.style.cursor="col-resize",a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1},c.appendChild(g);var i={};i.section=e,i.handle=g,this.blocks.push(i)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var a=0;a<this.blocks.length;a++){var b=this.blocks[a],c=this.widths[a];b.handle.data.width=c,this.$41(a)}},this.$41=function(a){var b=this.blocks[a],c=this.widths[a];b.section.style.width=c-this.splitterWidth+"px"},this.totalWidth=function(){for(var a=0,b=0;b<this.widths.length;b++)a+=this.widths[b];return a},this.gMouseMove=function(a){if(b.drag.start){var c=b.drag.data,d=DayPilot.page(a),e=d.x-b.drag.start.x,f=c.index;b.widths[f]=Math.max(5,c.width+e),b.$41(f);var g={};g.widths=this.widths,g.index=c.index,b.updating(g)}},this.gMouseUp=function(a){if(b.drag.start){b.drag.start=null,document.body.style.cursor="",b.div.style.cursor="";var c=b.drag.data;c.width=b.widths[c.index];var d={};d.widths=this.widths,d.index=c.index,b.updated(d)}},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=$3D}}(),DayPilot.JSON={},function(){function f(a){return a<10?"0"+a:a}function quote(a){return $3I.lastIndex=0,$3I.test(a)?'"'+a.replace($3I,function(a){var b=$3L[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,h,g=$3J,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&!i.ignoreToJSON&&(i=i.toJSON(a)),"function"==typeof $3M&&(i=$3M.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if($3J+=$3K,h=[],"number"==typeof i.length&&!i.propertyIsEnumerable("length")){for(f=i.length,c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=0===h.length?"[]":$3J?"[\n"+$3J+h.join(",\n"+$3J)+"\n"+g+"]":"["+h.join(",")+"]",$3J=g,e}if($3M&&"object"==typeof $3M)for(f=$3M.length,c=0;c<f;c+=1)d=$3M[c],"string"==typeof d&&(e=str(d,i),e&&h.push(quote(d)+($3J?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+($3J?": ":":")+e));return e=0===h.length?"{}":$3J?"{\n"+$3J+h.join(",\n"+$3J)+"\n"+g+"}":"{"+h.join(",")+"}",$3J=g,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$3I=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$3J,$3K,$3L={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},$3M;DayPilot.JSON.stringify=function(a,b,c){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(a,b,c);var d;if($3J="",$3K="","number"==typeof c)for(d=0;d<c;d+=1)$3K+=" ";else"string"==typeof c&&($3K=c);if($3M=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})},DayPilot.JSON.parse=function($02,$3S){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return $3S.call(a,b,e)}var j;if($02=String($02),cx.lastIndex=0,cx.test($02)&&($02=$02.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{};\s]*$/.test($02.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+$02+")"),"function"==typeof $3S?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotBubble)var DayPilotBubble=DayPilot.BubbleVisible={};if(function(){if("undefined"==typeof DayPilot.Bubble){var a={};a.mouseMove=function(b){if("undefined"!=typeof a){a.mouse=a.mousePosition(b);var c=a.active;if(c&&c.$T.showPosition){var d=c.$T.showPosition,e=a.mouse;d.clientX!==e.clientX||d.clientY!==e.clientY}}},a.touchPosition=function(a){if(!a||!a.touches)return null;var b=a.touches[0],c={};return c.x=b.pageX,c.y=b.pageY,c.clientX=b.clientX,c.clientY=b.clientY,c},a.mousePosition=function(a){var b=DayPilot.page(a);return a&&(b.clientY=a.clientY,b.clientX=a.clientX),b},DayPilot.Bubble=function(b){this.v="2130";var c=this,d={};if(this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.$T=function(){},this.callBack=function(a){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(a),this.updateView,this,this.callbackError,!0):a.calendar.internal.bubbleCallBack?a.calendar.internal.bubbleCallBack(a,this):a.calendar.bubbleCallBack(a,this)},this.callbackError=function(a,b){alert(a)},this.updateView=function(b,e){if(c!==e)throw"Callback object mismatch (internal error)";return b?(a.active=c,void(c&&(d.div&&(d.div.firstChild.innerHTML=b),c.adjustPosition(),c.animated||c.addShadow()))):(c.removeDiv(),void c.removeShadow())},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(b,c){var d=new a.CallBackArgs(b.calendar||b.root,"Event",b,b.bubbleHtml?b.bubbleHtml():null);c?this.show(d):this.showOnMouseOver(d)},this.showCell=function(b){var c=new a.CallBackArgs(b.calendar||b.root,"Cell",b,b.staticBubbleHTML?b.staticBubbleHTML():null);this.showOnMouseOver(c)},this.showTime=function(b){var c=new a.CallBackArgs(b.calendar||b.root,"Time",b,b.staticBubbleHTML?b.staticBubbleHTML():null);this.showOnMouseOver(c)},this.showResource=function(b){var c=new a.CallBackArgs(b.calendar||b.root,"Resource",b,b.bubbleHtml?b.bubbleHtml():null);this.showOnMouseOver(c)},this.showHtml=function(b,c){var d=new a.CallBackArgs(null,"Html",null,b);d.div=c,this.show(d)},this.show=function(b){var e=this.animated;if(this.$T.showPosition=a.mouse,!a.mouse)return void setTimeout(function(){c.show(b)},100);var f;try{f=DayPilot.JSON.stringify(b.object)}catch(a){return}if(!(a.active===this&&this.$T.sourceId===f||"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.active)){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),a.hideActive(),a.active=this,this.$T.sourceId=f;var g=document.createElement("div");g.setAttribute("unselectable","on"),g.style.position="absolute",this.showLoadingLabel||(g.style.display="none"),this.cssOnly?g.className=this.$U("_main"):(this.width&&(g.style.width=this.width),g.style.cursor="default"),g.style.top="0px",g.style.left="0px",g.style.zIndex=this.zIndex+1,e&&(g.style.visibility="hidden"),this.hideOnClick&&(g.onclick=function(){a.hideActive()}),g.onmousemove=function(b){a.cancelTimeout();var b=b||window.event;b.cancelBubble=!0},g.oncontextmenu=function(){return!1},g.onmouseout=this.delayedHide;var h=document.createElement("div");g.appendChild(h),this.cssOnly?h.className=this.$U("_main_inner"):(h.style.padding="4px",this.border&&(h.style.border=this.border),this.rounded()&&(h.style.MozBorderRadius="5px",h.style.webkitBorderRadius="5px",h.style.borderRadius="5px"),h.style.backgroundColor=this.backgroundColor),h.innerHTML=this.loadingText,document.body.appendChild(g),d.div=g;var g=this.getDiv(b);if("EventTop"===this.position&&g){var i=2,j=DayPilot.abs(g,!0);this.$T.mouse=a.mouse,this.$T.mouse.x=j.x,this.$T.mouse.y=j.y,this.$T.mouse.h=j.h+i,this.$T.mouse.w=j.w}else this.$T.mouse=a.mouse;if(this.showLoadingLabel&&!e&&(this.adjustPosition(),this.addShadow()),b.staticHTML)this.updateView(b.staticHTML,this);else if("function"==typeof this.onLoad){var k={};k.source=b.object,k.async=!1,k.loaded=function(){this.async&&c.updateView(k.html,c)},this.onLoad(k),k.async||c.updateView(k.html,c)}else this.$V(b)&&this.callBack(b)}},this.getDiv=function(a){return a.div?a.div:"Event"===a.type&&a.calendar&&a.calendar.internal.findEventDiv?a.calendar.internal.findEventDiv(a.object):void 0},this.$U=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.loadingElement=null,this.loadingStart=function(a){},this.loadingStop=function(){},this.adjustPosition=function(){var b=this.animated,e=this.position,f=10;if(d.div&&this.$T.mouse){if(!this.$T.mouse.x||!this.$T.mouse.y)return void a.hideActive();var g=d.div;g.style.display="";var h=g.offsetHeight,i=g.offsetWidth;g.style.display="none";var j=DayPilot.wd(),k=j.width,l=j.height;if("Mouse"===e){var m=22,n=10,o=0;if(this.$T.mouse.clientY>l-h+f){this.$T.mouse.clientY-(l-h)+f;o=this.$T.mouse.y-h-n}else o=this.$T.mouse.y+m;if("number"==typeof o&&(g.style.top=Math.max(o,0)+"px"),this.$T.mouse.clientX>k-i+f){var q=this.$T.mouse.clientX-(k-i)+f;g.style.left=this.$T.mouse.x-q+"px"}else g.style.left=this.$T.mouse.x+"px"}else if("EventTop"===e){var r=2,o=this.$T.mouse.y-h-r,s=j.scrollTop;o<s&&(o=this.$T.mouse.y+this.$T.mouse.h+r),"number"==typeof o&&(g.style.top=Math.max(o,0)+"px");var t=this.$T.mouse.x;this.$T.mouse.x+i+f>k&&(t=k-i-f),g.style.left=t+"px"}if(g.style.display="",b){g.style.display="";var u={};u.color=g.firstChild.style.color,u.overflow=g.style.overflow,g.firstChild.style.color="transparent",g.style.overflow="hidden",
this.removeShadow(),DayPilot.pop(g,{finished:function(){g.firstChild.style.color=u.color,g.style.overflow=u.overflow,c.addShadow()},vertical:"bottom",horizontal:"left",animation:c.animation})}}},this.delayedHide=function(){a.cancelTimeout(),c.hideAfter>0&&(a.timeout=window.setTimeout(a.hideActive,c.hideAfter))},this.showOnMouseOver=function(b){a.cancelTimeout();var d=function(a){return function(){c.show(a)}};a.timeout=window.setTimeout(d(b),this.showAfter)},this.hideOnMouseOut=function(){this.delayedHide()},this.$V=function(a){return!!a.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&d.div){var a=d.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var b=0;b<5;b++){var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.width=a.offsetWidth+"px",c.style.height=a.offsetHeight+"px",c.style.top=a.offsetTop+b+"px",c.style.left=a.offsetLeft+b+"px",c.style.zIndex=this.zIndex,c.style.filter="alpha(opacity:10)",c.style.opacity=.1,c.style.backgroundColor="#000000",this.rounded()&&(c.style.MozBorderRadius="5px",c.style.webkitBorderRadius="5px",c.style.borderRadius="5px"),document.body.appendChild(c),this.shadows.push(c)}}},this.removeShadow=function(){if(this.shadows){for(var a=0;a<this.shadows.length;a++)document.body.removeChild(this.shadows[a]);this.shadows=[]}},this.removeDiv=function(){d.div&&(document.body.removeChild(d.div),d.div=null)},b)for(var e in b)this[e]=b[e];this.init()},DayPilot.Bubble.touchPosition=function(b){b.touches&&(a.mouse=a.touchPosition(b))},a.cancelTimeout=function(){a.timeout&&window.clearTimeout(a.timeout)},a.hideActive=function(){a.cancelTimeout();var b=a.active;b&&(b.removeDiv(),b.removeShadow()),a.active=null},a.CallBackArgs=function(a,b,c,d){this.calendar=a,this.type=b,this.object=c,this.staticHTML=d,this.toJSON=function(){var a={};return a.uid=this.calendar.uniqueID,a.type=this.type,a.object=c,a}},DayPilot.re(document,"mousemove",a.mouseMove),DayPilot.BubbleVisible.Bubble=a.Bubble,DayPilot.BubbleVisible.hideActive=a.hideActive,DayPilot.BubbleVisible.cancelTimeout=a.cancelTimeout,DayPilot.Bubble.hideActive=a.hideActive,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotCalendar)var DayPilotCalendar=DayPilot.CalendarVisible={};if(function(){if("undefined"==typeof DayPilot.Calendar){DayPilot.Calendar=function(b,c){this.v="2130";var d=!1;if(this instanceof DayPilot.Calendar&&!this.$4m&&(d=!0,this.$4m=!0),!d)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var e=this;this.uniqueID=null,this.id=b,this.isCalendar=!0,this.api=2,this.clientName=b,this.clientState={},this.$4n={},this.$4n.pixels={},this.$4n.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.nav={},this.events={},this.hideUntilInit=!0,this.$4o=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.borderColor="#000000",this.bubble=null,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnBubble=null,this.columnMarginRight=5,this.columns=null,this.columnWidth=200,this.columnWidthSpec="Auto",this.contextMenu=null,this.contextMenuSelection=null,this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.roundedCorners=!1,this.rtl=!1,this.scrollLabelsVisible=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=DayPilot.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.weekStarts=null,this.width=null,this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.$4p=!0,this.$4q=!1,this.$4r=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","durationBarImageUrl","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","roundedCorners","selectedColor","shadow","useEventSelectionBars"],this.$4s={},this.$4s.ie=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1,this.$4s.ie9=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1,this.$4s.ielt9=function(){var a=document.createElement("div");a.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var b=1===a.getElementsByTagName("i").length;return b}(),this.$4s.ff=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1,this.$4s.opera105=function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var a=new Number(RegExp.$1);return a>=10.5}return!1}(),this.$4s.webkit522=function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var a=new Number(RegExp.$1);return a>=522}return!1}(),this.clearSelection=function(){return this.selectedCells?(this.$4t(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.$4t=function(){if(this.selectedCells)for(var a=0;a<this.selectedCells.length;a++){var b=this.selectedCells[a];b&&b.selected&&(b.removeChild(b.selected),b.firstChild.style.display="",b.selected=null)}},this.cleanSelection=this.clearSelection,this.$4u=function(a,b,c){var d={};d.action=a,d.parameters=c,d.data=b,d.header=this.$4v();var f="JSON"+DayPilot.JSON.stringify(d);__doPostBack(e.uniqueID,f)},this.$4w=function(a,b,c,d){if(!this.$4x())return void e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),"undefined"==typeof d&&(d="CallBack"),this.callbackTimeout=window.setTimeout(function(){e.$4y()},100);var f={};f.action=a,f.type=d,f.parameters=b,f.data=c,f.header=this.$4v();var g="JSON"+DayPilot.JSON.stringify(f);this.backendUrl?DayPilot.request(this.backendUrl,this.$4z,g,this.$4A):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,g,this.$4B,this.clientName,this.onCallbackError,!0)},this.$4x=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$4A=function(a){if("function"==typeof e.onAjaxError){var b={};b.request=a,e.onAjaxError(b)}else"function"==typeof e.ajaxError&&e.ajaxError(a)},this.dispose=function(){var b=e;b.nav.top&&(b.$4C(),b.$4D(),b.nav.messageClose&&(b.nav.messageClose.onclick=null),b.nav.hourTable&&(b.nav.hourTable.oncontextmenu=null),b.nav.hourTable&&(b.nav.hourTable.onmousemove=null),b.nav.header&&(b.nav.header.oncontextmenu=null),b.nav.corner&&(b.nav.corner.oncontextmenu=null),b.nav.zoom.onmousemove=null,b.nav.scroll.onscroll=null,b.nav.scroll.root=null,DayPilot.pu(b.nav.loading),b.$4E(),b.$4F(),b.nav.select=null,b.nav.cornerRight=null,b.nav.scrollable=null,b.nav.bottomLeft=null,b.nav.bottomRight=null,b.nav.allday=null,b.nav.zoom=null,b.nav.loading=null,b.nav.events=null,b.nav.header=null,b.nav.hourTable=null,b.nav.scrolltop=null,b.nav.scroll=null,b.nav.vsph=null,b.nav.main=null,b.nav.message=null,b.nav.messageClose=null,b.nav.top.removeAttribute("style"),b.nav.top.removeAttribute("class"),b.nav.top.innerHTML="",b.nav.top.dp=null,b.nav.top=null,DayPilot.ue(window,"resize",b.$4G),a.unregister(b))},this.$4H=function(){this.nav.top.dispose=this.dispose},this.$4z=function(a){e.$4B(a.responseText)},this.$4v=function(){var a={};return a.v=this.v,a.control="dpc",a.id=this.id,a.clientState=e.clientState,a.columns=this.$4I(),a.days=e.days,a.startDate=e.startDate,a.cellDuration=e.cellDuration,a.cssOnly=e.cssOnly,a.cssClassPrefix=e.cssClassPrefix,a.heightSpec=e.heightSpec,a.businessBeginsHour=e.businessBeginsHour,a.businessEndsHour=e.businessEndsHour,a.viewType=e.viewType,a.dayBeginsHour=e.dayBeginsHour,a.dayEndsHour=e.dayEndsHour,a.headerLevels=e.headerLevels,a.backColor=e.cellBackColor,a.nonBusinessBackColor=e.cellBackColorNonBusiness,a.eventHeaderVisible=e.eventHeaderVisible,a.timeFormat=e.timeFormat,a.timeHeaderCellDuration=e.timeHeaderCellDuration,a.locale=e.locale,a.scrollY=e.scrollPos,a.showAllDayEvents=e.showAllDayEvents,a.tagFields=e.tagFields,a.weekStarts=e.weekStarts,a.hourNameBackColor=e.hourNameBackColor,a.hourFontFamily=e.hourFontFamily,a.hourFontSize=e.hourFontSize,a.hourFontColor=e.hourFontColor,a.selected=e.multiselect.events(),a.hashes=e.hashes,a},this.$4J=function(){this.$4K(),DayPilot.Areas.hideAll()},this.$4I=function(){var a=[];if(a.ignoreToJSON=!0,!this.columns)return a;for(var b=0;b<this.columns.length;b++){var c=this.columns[b],d=this.$4L(c);a.push(d)}return a},this.$4L=function(a){var b={};return b.Value=a.id,b.Name=a.name,b.ToolTip=a.toolTip,b.Date=a.start,b.Children=this.$4M(a.children),b},this.$4M=function(a){var b=[];if(b.ignoreToJSON=!0,!a)return b;for(var c=0;c<a.length;c++)b.push(this.$4L(a[c]));return b},this.$4B=function(a,b){var a=DayPilot.Util.parseJSON(a);if(a.BubbleGuid){var c=a.BubbleGuid,d=this.bubbles[c];return delete this.bubbles[c],e.$4N(),void("undefined"!=typeof a.Result.BubbleHTML&&d.updateView(a.Result.BubbleHTML,d))}if(a.CallBackRedirect)return void(document.location.href=a.CallBackRedirect);if("undefined"!=typeof a.ClientState&&(e.clientState=a.ClientState),"None"===a.UpdateType)return e.$4N(),e.$4O(a.CallBackData,!0),void(a.Message&&e.message(a.Message));if(a.VsUpdate){var f=document.createElement("input");f.type="hidden",f.name=e.id+"_vsupdate",f.id=f.name,f.value=a.VsUpdate,e.nav.vsph.innerHTML="",e.nav.vsph.appendChild(f)}if(e.$4D(),e.multiselect.clear(!0),e.multiselect.$4P=a.SelectedEvents,"undefined"!=typeof a.TagFields&&(e.tagFields=a.TagFields),"undefined"!=typeof a.SortDirections&&(e.sortDirections=a.SortDirections),"Full"===a.UpdateType&&(e.colors=a.Colors,e.palette=a.Palette,e.dirtyColors=a.DirtyColors,e.cellProperties=a.CellProperties,e.cellConfig=a.CellConfig,e.columns=a.Columns,e.days=a.Days,e.startDate=new DayPilot.Date(a.StartDate).getDatePart(),e.cellDuration=a.CellDuration,e.heightSpec=a.HeightSpec?a.HeightSpec:e.heightSpec,e.businessBeginsHour=a.BusinessBeginsHour?a.BusinessBeginsHour:e.businessBeginsHour,e.businessEndsHour=a.BusinessEndsHour?a.BusinessEndsHour:e.businessEndsHour,e.viewType=a.ViewType,e.headerLevels=a.HeaderLevels,e.backColor=a.BackColor?a.BackColor:e.backColor,e.nonBusinessBackColor=a.NonBusinessBackColor?a.NonBusinessBackColor:e.nonBusinessBackColor,e.eventHeaderVisible=a.EventHeaderVisible?a.EventHeaderVisible:e.eventHeaderVisible,e.timeFormat=a.TimeFormat?a.TimeFormat:e.timeFormat,e.timeHeaderCellDuration="undefined"!=typeof a.TimeHeaderCellDuration?a.TimeHeaderCellDuration:e.timeHeaderCellDuration,e.locale=a.Locale?a.Locale:e.locale,e.dayBeginsHour="undefined"!=typeof a.DayBeginsHour?a.DayBeginsHour:e.dayBeginsHour,e.dayEndsHour="undefined"!=typeof a.DayEndsHour?a.DayEndsHour:e.dayEndsHour,e.cornerBackColor=a.CornerBackColor,e.cornerHtml=a.CornerHTML,e.hours=a.Hours,e.$4Q(),e.$4R()),a.Hashes)for(var g in a.Hashes)e.hashes[g]=a.Hashes[g];if(e.$4S(a.Events),e.$4T(),("Full"===a.UpdateType||e.hideFreeCells)&&(e.$4U(),e.$4V(),e.$4W(),e.$4X(),e.$4Y(),e.$4Z(),e.$50(),e.$51(),e.clearSelection(),e.$52(),"undefined"!=typeof a.ScrollY?e.scrollToY(a.ScrollY):e.scrollToY(e.initScrollPos)),e.$53(),e.$54(),e.$55(),e.$56(),"Parent100Pct"===e.heightSpec&&e.$4G(),"HoldForever"!==e.timeRangeSelectedHandling&&e.clearSelection(),e.$57(),e.todo&&e.todo.del){var h=e.todo.del;h.parentNode.removeChild(h),e.todo.del=null}e.$4O(a.CallBackData,!0),e.$4N(),e.$58(),a.Message&&e.message(a.Message)},this.$4O=function(a,b){var c=function(a,b){return function(){if(e.$59()){if("function"==typeof e.onAfterRender){var c={};c.isCallBack=b,c.data=a,e.onAfterRender(c)}}else e.afterRender&&e.afterRender(a,b)}};window.setTimeout(c(a,b),0)},this.$5a=function(a,b,c){var d=e.nav.events,f=d.clientWidth/d.rows[0].cells.length,g=Math.floor(e.coords.x/f);g<0&&(g=0),e.rtl&&(g=e.$5b.length-g-1);var h=d.rows[0].cells[g],i=0,j=0,k=0;if("undefined"!=typeof a.duration){var l=a.duration;k=Math.floor((e.coords.y-i+e.cellHeight/2)/e.cellHeight)*e.cellHeight+i,j=l*e.cellHeight/(60*e.cellDuration),j=Math.max(j,e.cellHeight)}else{var m=a.event;j=m.part.height,k=m.part.top}var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.width="100%",n.style.height=j+"px",n.style.left="0px",n.style.top=k+"px",n.style.zIndex=101,n.exclude=!0;var o=document.createElement("div");return n.appendChild(o),this.cssOnly&&(n.className=e.$5c("_shadow"),o.className=this.$5c("_shadow_inner")),this.cssOnly||(o.style.position="absolute",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px","Fill"===c?(o.style.backgroundColor="#aaaaaa",o.style.opacity=.5,o.style.filter="alpha(opacity=50)",o.style.border="2px solid #aaaaaa"):o.style.border="2px dotted #666666",this.roundedCorners&&(o.style.MozBorderRadius="5px",o.style.webkitBorderRadius="5px",o.style.borderRadius="5px")),h.events.appendChild(n),n},this.$5d=function(){return this.$5e()/36e5},this.$5f=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.$5g=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.$5e=function(a){var b=0;if("BusinessHoursNoScroll"===this.heightSpec)b=this.$5f();else if(this.hideFreeCells&&!a){var c=(this.$5h-1)*this.cellDuration/this.cellHeight,d=Math.ceil(c/60),e=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;b=Math.max(this.dayBeginsHour+d,e)-this.$5i()}else b=this.$5g();return 60*b*60*1e3},this.message=function(a,b,c,d){if(a){var g,b=b||this.messageHideAfter||2e3,c=c||"#ffffff",d=d||"#000000",f=.8,h=this.$5j(),i=this.showHours?this.hourWidth:0,j=DayPilot.sw(e.$5k());if(this.cssOnly||(h+=1,i+=2,j-=2),e.rtl){var k=i;i=j,j=k}if(this.nav.message)g=e.nav.message,this.nav.message.style.top=h+"px";else{g=document.createElement("div"),g.style.position="absolute",g.style.left=i+"px",g.style.top=h+"px",g.style.right="0px",g.style.display="none",g.onmousemove=function(){g.messageTimeout&&!g.status&&clearTimeout(g.messageTimeout)},g.onmouseout=function(){"none"!==e.nav.message.style.display&&(g.messageTimeout=setTimeout(e.$5l,500))};var l=document.createElement("div");l.onclick=function(){e.nav.message.style.display="none"},this.cssOnly?l.className=this.$5c("_message"):(l.style.padding="5px",l.style.opacity=f,l.style.filter="alpha(opacity="+100*f+")"),g.appendChild(l);var m=document.createElement("div");m.style.position="absolute",this.cssOnly?m.className=this.$5c("_message_close"):(m.style.top="5px",m.style.right=DayPilot.sw(e.$5k())+5+"px",m.style.color=c,m.style.lineHeight="100%",m.style.cursor="pointer",m.style.fontWeight="bold",m.innerHTML="X"),m.onclick=function(){e.nav.message.style.display="none"},g.appendChild(m),this.nav.top.insertBefore(g,this.nav.loading),this.nav.message=g,this.nav.messageClose=m}this.nav.cornerRight?this.nav.message.style.right=j+"px":this.nav.message.style.right="0px";var n=function(){if(e.nav.message){var h=e.nav.message.firstChild;e.cssOnly||(h.style.padding="5px",h.style.opacity=f,h.style.backgroundColor=d,h.style.color=c),h.innerHTML=a;var i=function(){g.messageTimeout=setTimeout(e.$5l,b)};DayPilot.fade(e.nav.message,.2,i)}};clearTimeout(g.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(e.nav.message,-.2,n):n()}},this.message.show=function(a){e.message(a)},this.message.hide=function(){e.$5l()},this.$5l=function(){var a=function(){e.nav.message.style.display="none"};DayPilot.fade(e.nav.message,-.2,a)},this.$4X=function(){this.nav.message&&(this.nav.message.style.top=this.$5j()+"px")},this.$5m=function(){return this.$5e()/(6e4*this.cellDuration)},this.eventClickPostBack=function(a,b){this.$4u("EventClick",b,a)},this.eventClickCallBack=function(a,b){this.$4w("EventClick",a,b)},this.$5n=function(a){var b=this,a=a||window.event,c=a.ctrlKey,d=a.metaKey;if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===e.eventDoubleClickHandling)return void e.$5o(b,c,d);if(e.timeouts){for(var f in e.timeouts)window.clearTimeout(e.timeouts[f]);e.timeouts=[]}else e.timeouts=[];var g=function(a,b,c){return function(){e.$5o(a,b,c)}};e.timeouts.push(window.setTimeout(g(this,c,d),e.doubleClickTimeout))},this.$5o=function(a,b,c){var d=a.event;if(d.client.clickEnabled())if(e.$59()){var f={};if(f.e=d,f.ctrl=b,f.meta=c,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventClick&&(e.onEventClick(f),f.preventDefault.value))return;switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(d);break;case"CallBack":e.eventClickCallBack(d);break;case"Edit":e.$5p(a);break;case"Select":e.$5q(a,d,b,c);break;case"Bubble":e.bubble&&e.bubble.showEvent(d);break;case"ContextMenu":var g=d.client.contextMenu();g?g.show(d):e.contextMenu&&e.contextMenu.show(d)}"function"==typeof e.onEventClicked&&e.onEventClicked(f)}else switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(d);break;case"CallBack":e.eventClickCallBack(d);break;case"JavaScript":e.onEventClick(d);break;case"Edit":e.$5p(a);break;case"Select":e.$5q(a,d,b,c);break;case"Bubble":e.bubble&&e.bubble.showEvent(d);break;case"ContextMenu":var g=d.client.contextMenu();g?g.show(d):e.contextMenu&&e.contextMenu.show(d)}},this.eventDoubleClickPostBack=function(a,b){this.$4u("EventDoubleClick",b,a)},this.eventDoubleClickCallBack=function(a,b){this.$4w("EventDoubleClick",a,b)},this.$5r=function(a){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),e.timeouts){for(var b in e.timeouts)window.clearTimeout(e.timeouts[b]);e.timeouts=null}var c=this.event,a=a||window.event;if(e.$59()){var d={};if(d.e=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDoubleClick&&(e.onEventDoubleClick(d),d.preventDefault.value))return;switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(c);break;case"CallBack":e.eventDoubleClickCallBack(c);break;case"Edit":c.allday()||e.$5p(this);break;case"Select":c.allday()||e.$5q(this,c,a.ctrlKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}"function"==typeof e.onEventDoubleClicked&&e.onEventDoubleClicked(d)}else switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(c);break;case"CallBack":e.eventDoubleClickCallBack(c);break;case"JavaScript":e.onEventDoubleClick(c);break;case"Edit":c.allday()||e.$5p(this);break;case"Select":c.allday()||e.$5q(this,c,a.ctrlKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}},this.eventRightClickPostBack=function(a,b){this.$4u("EventRightClick",b,a)},this.eventRightClickCallBack=function(a,b){this.$4w("EventRightClick",a,b)},this.$5s=function(a){var b=this.event;if(!b.client.rightClickEnabled())return!1;if(e.$59()){var c={};if(c.e=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventRightClick&&(e.onEventRightClick(c),c.preventDefault.value))return;switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(b);break;case"CallBack":e.eventRightClickCallBack(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(b)}"function"==typeof e.onEventRightClicked&&e.onEventRightClicked(c)}else switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(b);break;case"CallBack":e.eventRightClickCallBack(b);break;case"JavaScript":e.onEventRightClick(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(b)}return a.preventDefault&&a.preventDefault(),!1},this.headerClickPostBack=function(a,b){this.$4u("HeaderClick",b,a)},this.headerClickCallBack=function(a,b){this.$4w("HeaderClick",a,b)},this.$5t=function(b){var c=this.data,d=new a.Column(c.id,c.name,c.start);if(e.$59()){var f={};if(f.header={},f.header.id=c.id,f.header.name=c.name,f.header.start=c.start,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onHeaderClick&&(e.onHeaderClick(f),f.preventDefault.value))return;switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(d);break;case"CallBack":e.headerClickCallBack(d)}"function"==typeof e.onHeaderClicked&&e.onHeaderClicked(f)}else switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(d);break;case"CallBack":e.headerClickCallBack(d);break;case"JavaScript":e.onHeaderClick(d)}},this.$5u=function(){if("undefined"!=typeof DayPilotBubble&&e.columnBubble)if("Resources"===e.viewType){var b={};b.calendar=e,b.id=this.data.id,b.toJSON=function(){var a={};return a.id=this.id,a},e.columnBubble.showResource(b)}else{var c=new DayPilot.Date(this.data.start),d=c.addDays(1),f={};f.calendar=e,f.start=c,f.end=d,f.toJSON=function(){var a={};return a.start=this.start,a.end=this.end,a},e.columnBubble.showTime(f)}var g=this,h=g.firstChild;if(!h.active){var i=g.data,j=new a.Column(i.id,i.name,i.start);j.areas=g.data.areas,DayPilot.Areas.showAreas(h,j)}},this.$5v=function(a){"undefined"!=typeof DayPilotBubble&&e.columnBubble&&e.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,a)},this.eventDeletePostBack=function(a,b){this.$4u("EventDelete",b,a)},this.eventDeleteCallBack=function(a,b){this.$4w("EventDelete",a,b)},this.$5w=function(a){var b;if(b=a&&a.isEvent?a:a.parentNode.parentNode.event,e.$59()){var c={};if(c.e=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDelete&&(e.onEventDelete(c),c.preventDefault.value))return;switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(b);break;case"CallBack":e.eventDeleteCallBack(b);break;case"Update":e.events.remove(b)}"function"==typeof e.onEventDeleted&&e.onEventDeleted(c)}else switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(b);break;case"CallBack":e.eventDeleteCallBack(b);break;case"JavaScript":e.onEventDelete(b)}},this.eventResizePostBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$4u("EventResize",d,e)},this.eventResizeCallBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$4w("EventResize",e,d)},this.$5x=function(a,b,c,d){if("PostBack"===a)e.postBack2(b,c,d);else if("CallBack"===a)e.$4w(b,c,d,"CallBack");else if("Immediate"===a)e.$4w(b,c,d,"Notify");else if("Queue"===a)e.queue.add(new DayPilot.Action(this,b,c,d));else{if("Notify"!==a)throw"Invalid event invocation type";"Notify"===h.notifyType()?e.$4w(b,c,d,"Notify"):e.queue.add(new DayPilot.Action(e,b,c,d))}},this.$5i=function(a){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!a){var b=this.$5y*this.cellDuration/this.cellHeight,c=Math.floor(b/60);return c=Math.max(0,c),Math.min(this.dayBeginsHour+c,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){return this.$5b[0].start},this.visibleEnd=function(){var a=this.$5b,b=a.length-1;return a[b].start.addDays(1)},this.$59=function(){return 2===e.api},this.$5z=function(a,b,c,d){if("Disabled"!==this.eventResizeHandling){var f=0,g=new Date,h=new Date,i=a.start(),k=(a.end(),e.cellDuration),l=e.$5b[a.part.dayIndex].start;if("top"===d){var l=i.getDatePart(),m=Math.floor((c-f)/e.cellHeight),n=m*k,o=60*n*1e3,p=60*e.$5i()*60*1e3;g=l.addTime(o+p),h=a.end()}else if("bottom"===d){var m=Math.floor((c+b-f)/e.cellHeight),n=m*k,o=60*n*1e3,p=60*e.$5i()*60*1e3;g=i,h=l.addTime(o+p)}if(e.$59()){var q={};if(q.e=a,q.newStart=g,q.newEnd=h,q.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventResize&&(e.onEventResize(q),q.preventDefault.value))return;switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,g,h);break;case"CallBack":e.eventResizeCallBack(a,g,h);break;case"Notify":e.eventResizeNotify(a,g,h);break;case"Update":a.start(g),a.end(h),e.events.update(a)}"function"==typeof e.onEventResized&&e.onEventResized(q)}else switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,g,h);break;case"CallBack":e.eventResizeCallBack(a,g,h);break;case"JavaScript":e.onEventResize(a,g,h);break;case"Notify":e.eventResizeNotify(a,g,h)}}};this.eventResizeNotify=function(a,b,c,d){var f=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.commit(),e.update(),this.$5A("Notify",f,b,c,d)};this.$5A=function(a,b,c,d,e){var f={};f.e=b,f.newStart=c,f.newEnd=d,this.$5x(a,"EventResize",f,e)},this.eventMovePostBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.newResource=d,this.$4u("EventMove",e,f)},this.eventMoveCallBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.newResource=d,this.$4w("EventMove",f,e)},this.$5B=function(a,b,c,d,f){if("Disabled"!==e.eventMoveHandling){var g=0,h=Math.floor((c-g)/e.cellHeight),i=e.cellDuration,j=h*i*60*1e3,k=a.start(),l=a.end(),m=new Date;k instanceof DayPilot.Date&&(k=k.toDate()),m.setTime(Date.UTC(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()));var n="Never"!==e.useEventBoxes?k.getTime()-(m.getTime()+3600*k.getUTCHours()*1e3+Math.floor(k.getUTCMinutes()/i)*i*60*1e3):0,o=l.getTime()-k.getTime(),p=3600*e.$5i()*1e3;"undefined"==typeof b&&(b=a.part.dayIndex);var q=this.$5b[b],r=q.start.getTime(),s=new Date;s.setTime(r+j+n+p);var t=new DayPilot.Date(s),u=t.addTime(o),v=!!f,w=q.id;if(e.$59()){var x={};if(x.e=a,x.newStart=t,x.newEnd=u,x.newResource=w,x.external=v,x.ctrl=!1,d&&(x.ctrl=d.ctrlKey),x.shift=!1,d&&(x.shift=d.shiftKey),x.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventMove&&(e.onEventMove(x),x.preventDefault.value))return;switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,t,u,w);break;case"CallBack":e.eventMoveCallBack(a,t,u,w);break;case"Notify":e.eventMoveNotify(a,t,u,w);break;case"Update":a.start(t),a.end(u),a.resource(w),v?(a.commit(),e.events.add(a)):e.events.update(a),e.$5C()}"function"==typeof e.onEventMoved&&e.onEventMoved(x)}else switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,t,u,w);break;case"CallBack":e.eventMoveCallBack(a,t,u,w);break;case"JavaScript":e.onEventMove(a,t,u,w,v,!!d&&d.ctrlKey,!!d&&d.shiftKey);break;case"Notify":e.eventMoveNotify(a,t,u,w,null)}}},this.eventMoveNotify=function(a,b,c,d,f){var g=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.resource(d),a.commit(),e.update(),this.$5D("Notify",g,b,c,d,f)},this.$5D=function(a,b,c,d,e,f){var g={};g.e=b,g.newStart=c,g.newEnd=d,g.newResource=e,this.$5x(a,"EventMove",g,f)},this.$5C=function(){if(e.todo&&e.todo.del){var a=e.todo.del;a.parentNode.removeChild(a),e.todo.del=null}},this.$5E=function(a,b){var c=e.$5F(b),d={};d.args=a,d.guid=c,e.$4w("Bubble",d)},this.$5F=function(a){var b=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[b]=a,b},this.eventMenuClickPostBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$4u("EventMenuClick",c,d)},this.eventMenuClickCallBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$4w("EventMenuClick",d,c)},this.$5G=function(a,b,c){switch(c){case"PostBack":e.eventMenuClickPostBack(b,a);break;case"CallBack":e.eventMenuClickCallBack(b,a)}},this.timeRangeMenuClickPostBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$4u("TimeRangeMenuClick",c,d)},this.timeRangeMenuClickCallBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$4w("TimeRangeMenuClick",d,c)},this.$5H=function(a,b,c){switch(c){case"PostBack":e.timeRangeMenuClickPostBack(b,a);break;case"CallBack":e.timeRangeMenuClickCallBack(b,a)}},this.timeRangeSelectedPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4u("TimeRangeSelected",d,e)},this.timeRangeSelectedCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4w("TimeRangeSelected",e,d)},this.$5I=function(a,b,c){a=new DayPilot.Date(a),b=new DayPilot.Date(b);var d=c;if(e.$59()){var f={};if(f.start=a,f.end=b,f.resource=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeSelect&&(e.onTimeRangeSelect(f),f.preventDefault.value))return;switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b,d);break;case"CallBack":e.timeRangeSelectedCallBack(a,b,d)}"function"==typeof e.onTimeRangeSelected&&e.onTimeRangeSelected(f)}else switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b,c);break;case"CallBack":e.timeRangeSelectedCallBack(a,b,c);break;case"JavaScript":e.onTimeRangeSelected(a,b,c)}},this.timeRangeDoubleClickPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4u("TimeRangeDoubleClick",d,e)},this.timeRangeDoubleClickCallBack=function(a,b,c,d){
var e={};e.start=a,e.end=b,e.resource=c,this.$4w("TimeRangeDoubleClick",e,d)},this.$5J=function(a,b,c){if(e.$59()){var d=c,f={};if(f.start=a,f.end=b,f.resource=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeDoubleClick&&(e.onTimeRangeDoubleClick(f),f.preventDefault.value))return;switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b,d);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b,d)}"function"==typeof e.onTimeRangeDoubleClicked&&e.onTimeRangeDoubleClicked(f)}else switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b,c);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b,c);break;case"JavaScript":e.onTimeRangeDoubleClick(a,b,c)}},this.eventEditPostBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$4u("EventEdit",c,d)},this.eventEditCallBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$4w("EventEdit",d,c)},this.$5K=function(a,b){if(e.$59()){var c={};if(c.e=a,c.newText=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventEdit&&(e.onEventEdit(c),c.preventDefault.value))return;switch(e.eventEditHandling){case"PostBack":e.eventEditPostBack(a,b);break;case"CallBack":e.eventEditCallBack(a,b);break;case"Update":a.text(b),e.events.update(a)}if("function"==typeof e.onEventEdited&&(e.onEventEdited(c),c.preventDefault.value))return}else switch(e.eventEditHandling){case"PostBack":e.eventEditPostBack(a,b);break;case"CallBack":e.eventEditCallBack(a,b);break;case"JavaScript":e.onEventEdit(a,b)}},this.eventSelectPostBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$4u("EventSelect",c,d)},this.eventSelectCallBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$4w("EventSelect",d,c)},this.$5L=function(a,b,c,d){var f=e.multiselect,g=!1,h=f.isSelected(b),i=c||d;if(i||!h||g||1!==f.$5M.length)if(e.$59()){f.previous=f.events();var j={};if(j.e=b,j.selected=f.isSelected(b),j.ctrl=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventSelect&&(e.onEventSelect(j),j.preventDefault.value))return;switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"Update":f.$5N(a,c)}"function"==typeof e.onEventSelected&&(j.change=f.isSelected(b)?"selected":"deselected",j.selected=f.isSelected(b),e.onEventSelected(j))}else{f.previous=f.events(),f.$5N(a,c);var k=f.isSelected(b)?"selected":"deselected";switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"JavaScript":e.onEventSelect(b,k)}}},this.commandCallBack=function(a,b){this.$4C();var c={};c.command=a,this.$4w("Command",c,b)},this.$5O=function(b){if(!g.active&&!g.using&&(clearTimeout(a.selectedTimeout),!a.selecting)){if(a.editing)return void a.editing.blur();if(e.selectedCells&&"Disabled"!==e.timeRangeDoubleClickHandling)for(var c=0;c<e.selectedCells.length;c++)if(this===e.selectedCells[c])return;if("Disabled"!==e.timeRangeSelectedHandling){var d=DayPilot.Util.mouseButton(b);d.left&&(a.firstMousePos=DayPilot.mc(b||window.event),e.clearSelection(),a.topSelectedCell=this,a.bottomSelectedCell=this,a.column=a.getColumn(this),e.selectedCells.push(this),a.firstSelected=this)}}},this.$5P=function(){var a=this.getSelection();if(a&&e.selectedCells)for(var b=0;b<e.selectedCells.length;b++){var c=e.selectedCells[b];if(c&&!c.selected){var d=document.createElement("div");d.style.height=e.cellHeight-1+"px",d.style.backgroundColor=e.selectedColor,c.firstChild.style.display="none",c.insertBefore(d,c.firstChild),c.selected=d}}},this.$5Q=function(a){"undefined"!=typeof DayPilotBubble&&e.cellBubble&&e.cellBubble.hideOnMouseOut()},this.$5R=function(b){if("undefined"!=typeof a&&!g.active&&!g.using){if("undefined"!=typeof DayPilotBubble&&e.cellBubble){var c=a.getColumn(this),d=e.$5b[c].id,f={};f.calendar=e,f.start=this.start,f.end=this.end,f.resource=d,f.toJSON=function(){var a={};return a.start=this.start,a.end=this.end,a.resource=this.resource,a},e.cellBubble.showCell(f)}if(a.firstMousePos){var h=a.firstMousePos,i=DayPilot.mc(b||window.event);h.x===i.x&&h.y===i.y||(a.selecting=!0,e.clearSelection(),e.$5P())}if(a.selecting){var j=DayPilot.mc(b||window.event),k=a.getColumn(this);k===a.column&&(e.clearSelection(),j.y<a.firstMousePos.y?(e.selectedCells=a.getCellsBelow(this),a.topSelectedCell=e.selectedCells[0],a.bottomSelectedCell=a.firstSelected):(e.selectedCells=a.getCellsAbove(this),a.topSelectedCell=a.firstSelected,a.bottomSelectedCell=e.selectedCells[0]),e.$5P())}}},this.getSelection=function(){if(!a.topSelectedCell)return null;if(!a.bottomSelectedCell)return null;var b=a.topSelectedCell.start,c=a.bottomSelectedCell.end,d=a.topSelectedCell.resource;return new DayPilot.Selection(b,c,d,e)},this.$5S=function(b){if(a.firstMousePos){var c=function(){a.selecting=!0,e.$5P(),a.firstMousePos=null,a.selecting=!1;var b=e.getSelection();e.$5I(b.start,b.end,b.resource)};a.selecting&&null!==a.topSelectedCell?c():a.selectedTimeout=setTimeout(c,100)}else a.selecting=!1},this.$5T=function(a){var b="Fixed"===e.columnWidthSpec;if(b||e.$5U){if(!e.nav.bottomLeft)return;e.nav.bottomLeft.scrollTop=e.nav.bottomRight.scrollTop,e.nav.upperRight&&(e.nav.upperRight.scrollLeft=e.nav.bottomRight.scrollLeft),e.nav.scrollLayer.scrollLeft=e.nav.bottomRight.scrollLeft}var c=e.$5V();e.scrollPos=c.scrollTop,e.$5W=c.clientHeight,e.nav.scrollpos.value=e.scrollPos,e.$57()},this.$57=function(){if(this.scrollLabelsVisible&&this.$5X){var a=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(a){for(var c=(this.$5b,this.showHours?this.hourWidth:0),d=this.nav.main.rows[0].cells[0].clientWidth,f=10,g=1,h=0;h<this.nav.scrollUp.length;h++){var i=this.nav.scrollUp[h],j=this.nav.scrollDown[h],k=Math.floor(c+h*d+d/2-f/2+g);k<0&&(k=0),k-=e.nav.bottomRight.scrollLeft,i&&i.style&&(i.style.left=k+"px"),j&&j.style&&(j.style.left=k+"px")}for(var l=this.$5Y(),h=0;h<this.nav.scrollUp.length;h++){var m=this.nav.scrollUp[h],n=this.nav.scrollDown[h],o=this.$5X[h].minEnd-l,p=this.$5X[h].maxStart-l;m&&n&&(o<=e.scrollPos&&parseInt(m.style.left)>=e.hourWidth?(m.style.top=this.$5j()+"px",m.style.display=""):m.style.display="none",p>=e.scrollPos+e.$5W&&parseInt(n.style.left)>=e.hourWidth?(n.style.top=this.$5j()+this.$5W-10+"px",n.style.display=""):n.style.display="none")}}}},this.$5Z=function(a){var b=a.parentNode,c=0,d=a.offsetTop,e=a.parentNode.offsetWidth,f=a.offsetHeight;a.event.allday()&&(c=a.offsetLeft,e=a.offsetWidth);var g=document.createElement("textarea");g.style.boxSizing="border-box",g.style.position="absolute",g.style.width=e+"px",g.style.height=f+"px";var h=DayPilot.gs(a,"fontFamily");h||(h=DayPilot.gs(a,"font-family")),g.style.fontFamily=h;var i=DayPilot.gs(a,"fontSize");return i||(i=DayPilot.gs(a,"font-size")),g.style.fontSize=i,g.style.left=c+"px",g.style.top=d+"px",g.style.border="1px solid black",g.style.padding="0px",g.style.marginTop="0px",g.style.backgroundColor="white",g.value=DayPilot.tr(a.event.text()),g.event=a.event,b.appendChild(g),g},this.$5q=function(a,b,c,d){e.$5L(a,b,c,d)},this.multiselect={},this.multiselect.$4P=[],this.multiselect.$5M=[],this.multiselect.$60=[],this.multiselect.$61=[],this.multiselect.$62=function(){var a=e.multiselect;return DayPilot.JSON.stringify(a.events())},this.multiselect.events=function(){var a=e.multiselect,b=[];b.ignoreToJSON=!0;for(var c=0;c<a.$5M.length;c++)b.push(a.$5M[c]);return b},this.multiselect.$63=function(){var a=e.nav.select;a.value=e.multiselect.$62()},this.multiselect.$5N=function(a,b){var c=e.multiselect;if(c.isSelected(a.event))if(e.allowMultiSelect)if(b)c.remove(a.event,!0);else{var d=c.$5M.length;c.clear(!0),d>1&&c.add(a.event,!0)}else c.clear(!0);else e.allowMultiSelect&&b?c.add(a.event,!0):(c.clear(!0),c.add(a.event,!0));c.redraw(),c.$63()},this.multiselect.$64=function(a){var b=e.multiselect;return b.$65(a,b.$4P)},this.multiselect.$66=function(){for(var a=e.multiselect,b=[],c=0;c<a.$5M.length;c++){var d=a.$5M[c];b.push(d.value())}alert(b.join("\n"))},this.multiselect.add=function(a,b){var c=e.multiselect;c.$67(a)===-1&&c.$5M.push(a),c.$63(),b||c.redraw()},this.multiselect.remove=function(a,b){var c=e.multiselect,d=c.$67(a);d!==-1&&c.$5M.splice(d,1),c.$63(),b||c.redraw()},this.multiselect.clear=function(a){var b=e.multiselect;b.$5M=[],b.$63(),a||b.redraw()},this.multiselect.redraw=function(){for(var a=e.multiselect,b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];a.isSelected(c.event)?a.$68(c):a.$69(c)}},this.multiselect.$68=function(a){var b=e.multiselect,c=e.cssOnly?e.$5c("_selected"):e.$5c("selected"),d=b.$6a(a);DayPilot.Util.addClass(d,c),e.useEventSelectionBars&&b.$6b(a),b.$60.push(a)},this.multiselect.$6a=function(a){if(e.cssOnly)return a;for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];if("1"===c.getAttribute("c"))return c}return null},this.multiselect.$6c=function(){for(var a=e.multiselect,b=0;b<a.$60.length;b++){var c=a.$60[b];a.$69(c,!0)}a.$60=[]},this.multiselect.$69=function(a,b){var c=e.multiselect,d=e.cssOnly?e.$5c("_selected"):e.$5c("selected"),f=c.$6a(a);if(DayPilot.Util.removeClass(f,d),e.useEventSelectionBars&&c.$6d(a),!b){var g=DayPilot.indexOf(c.$60,a);g!==-1&&c.$60.splice(g,1)}},this.multiselect.isSelected=function(a){return e.multiselect.$65(a,e.multiselect.$5M)},this.multiselect.$67=function(a){return DayPilot.indexOf(e.multiselect.$5M,a)},this.multiselect.$65=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(a===d)return!0;if("function"==typeof d.value){if(null!==d.value()&&null!==a.value()&&d.value()===a.value())return!0;if(null===d.value()&&null===a.value()&&d.recurrentMasterId()===a.recurrentMasterId()&&a.start().toStringSortable()===d.start())return!0}else{if(null!==d.value&&null!==a.value()&&d.value===a.value())return!0;if(null===d.value&&null===a.value()&&d.recurrentMasterId===a.recurrentMasterId()&&a.start().toStringSortable()===d.start)return!0}}return!1},this.multiselect.$6b=function(a){var b=5;if(!a.top){var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.left=a.offsetLeft+"px",c.style.width=a.offsetWidth+"px",c.style.top=a.offsetTop-b+"px",c.style.height=b+"px",c.style.backgroundColor=e.eventSelectColor,c.style.zIndex=100,a.parentNode.appendChild(c),a.top=c}if(!a.bottom){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.style.position="absolute",d.style.left=a.offsetLeft+"px",d.style.width=a.offsetWidth+"px",d.style.top=a.offsetTop+a.offsetHeight+"px",d.style.height=b+"px",d.style.backgroundColor=e.eventSelectColor,d.style.zIndex=100,a.parentNode.appendChild(d),a.bottom=d}},this.multiselect.$6d=function(a){a.top&&(a.parentNode.removeChild(a.top),a.top=null),a.bottom&&(a.parentNode.removeChild(a.bottom),a.bottom=null)},this.$5p=function(b){if(a.editing)return void a.editing.blur();var c=this.$5Z(b);a.editing=c,DayPilot.re(c,DayPilot.touch.start,function(a){a.stopPropagation()}),c.onblur=function(){var g=(b.event.value(),b.event.tag(),b.event.text()),h=c.value;a.editing=null,c.onblur=null,DayPilot.de(c),g!==h&&(b.style.display="none",e.$5K(b.event,h))},c.onkeypress=function(b){var d=window.event?event.keyCode:b.keyCode;return 13===d?(this.onblur(),!1):(27===d&&(c.parentNode.removeChild(c),a.editing=!1),!0)},c.select(),c.focus()},this.$6e=function(){return"Resources"!==e.viewType&&(!e.columns||!e.$4x())},this.$4Q=function(){var a=e.$6e();a?(this.$5b=this.$6f(),this.$6g(this.$5b)):(this.columns||(this.columns=[]),this.$6g(this.columns),this.$5b=this.$6h(this.headerLevels,!0))},this.$6i=function(){var a=this.startDate.getDatePart(),b=this.days;switch(this.viewType){case"Day":b=1;break;case"Week":b=7,a=a.firstDayOfWeek(h.weekStarts());break;case"WorkWeek":b=5,a=a.firstDayOfWeek(1)}var c=a.addDays(b),d={};return d.start=a,d.end=c,d.days=b,d},this.$6f=function(){for(var a=[],b=this.$6i(),c=b.start,d=b.days,f=0;f<d;f++){var g={};g.start=c.addDays(f);var i=h.locale().datePattern;e.headerDateFormat&&(i=e.headerDateFormat),g.name=g.start.toString(i,h.locale()),g.html=g.name,a.push(g)}return a},this.$6j=function(a){a.Start&&(a.id=a.Value,a.start=a.Start,a.name=a.Name,a.html=a.InnerHTML,a.toolTip=a.ToolTip,a.backColor=a.BackColor,a.areas=a.Areas,a.children=a.Children,delete a.Value,delete a.Start,delete a.Name,delete a.InnerHTML,delete a.ToolTip,delete a.BackColor,delete a.Areas,delete a.Children),a.start=a.start||e.startDate,a.start=new DayPilot.Date(a.start),a.html=a.html||a.name,a.getChildren=function(a,b){var c=[];if(a<=1)return c.push(this),c;if(!this.children||0===this.children.length)return b?c.push(this):c.push("empty"),c;for(var d=0;d<this.children.length;d++)for(var e=this.children[d],f=e.getChildren(a-1,b),g=0;g<f.length;g++)c.push(f[g]);return c},a.getChildrenCount=function(a){var b=0;if(!this.children||this.children.length<=0||a<=1)return 1;for(var c=0;c<this.children.length;c++)b+=this.children[c].getChildrenCount(a-1);return b},a.putIntoBlock=function(a){for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];if(c.overlapsWith(a.part.top,a.part.height))return c.events.push(a),c.min=Math.min(c.min,a.part.top),c.max=Math.max(c.max,a.part.top+a.part.height),b}var c=[];return c.lines=[],c.events=[],c.overlapsWith=function(a,b){var c=a+b-1;return!(c<this.min||a>this.max-1)},c.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.top,a.part.height))return d.push(a),c}var d=[];return d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.top||a>f.part.top+f.part.height-1))return!1}return!0},d.push(a),this.lines.push(d),this.lines.length-1},c.events.push(a),c.min=a.part.top,c.max=a.part.top+a.part.height,this.blocks.push(c),this.blocks.length-1},a.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.top,a.part.height))return d.push(a),c}var d=[];return d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.top||a>f.part.top+f.part.height-1))return!1}return!0},d.push(a),this.lines.push(d),this.lines.length-1},a.children&&this.$6g(a.children)},this.$6g=function(a){DayPilot.list(a).each(function(a){e.$6j(a)})},this.$6h=function(a,b){for(var c=this.$6e()?this.$5b:this.columns,d=[],e=0;e<c.length;e++)for(var f=c[e].getChildren(a,b),g=0;g<f.length;g++)d.push(f[g]);return d},this.$56=function(){if(this.showAllDayEvents){var a=this.nav.header;if(a){a.style.display="none";for(var b=this.$5b.length,c=0;c<this.$6k.lines.length;c++)for(var d=this.$6k.lines[c],f=0;f<d.length;f++){var g=d[f],i=document.createElement("div");i.event=g,i.setAttribute("unselectable","on"),i.style.position="absolute",e.rtl?i.style.right=100*g.part.colStart/b+"%":i.style.left=100*g.part.colStart/b+"%",i.style.width=100*g.part.colWidth/b+"%",i.style.height=h.allDayEventHeight()+"px",this.cssOnly?(i.className=this.$5c("_alldayevent"),i.style.top=this.headerLevels*h.headerHeight()+c*h.allDayEventHeight()+"px"):i.style.top=3+this.headerLevels*h.headerHeight()+c*(h.allDayEventHeight()+2)+"px",i.style.textAlign="left",i.style.lineHeight="1.2",g.client.clickEnabled()&&(i.onclick=this.$5n),g.client.doubleClickEnabled()&&(i.ondblclick=this.$5r),g.client.clickEnabled()||g.client.doubleClickEnabled()?i.style.cursor="pointer":i.style.cursor="default",DayPilot.re(i,"contextmenu",this.$5s),i.onmousemove=function(a){var b=this;if(!b.active){var c=[];g.client.deleteEnabled()&&c.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:e.$5c("_event_delete"),js:function(a){e.$5w(a)}});var d=b.event.cache?b.event.cache.areas:b.event.data.areas;d&&d.length>0&&(c=c.concat(d)),DayPilot.Areas.showAreas(b,b.event,null,c),e.cssOnly&&DayPilot.Util.addClass(b,e.$5c("_alldayevent_hover"))}"undefined"!=typeof DayPilotBubble&&e.bubble&&"Disabled"!==e.eventHoverHandling&&e.bubble.showEvent(this.event)},i.onmouseout=function(a){var b=this;e.cssOnly&&DayPilot.Util.removeClass(b,e.$5c("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,a),e.bubble&&e.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&i.setAttribute("title",g.client.toolTip());var j=g.start().getTime()===g.part.start.getTime(),k=g.end().getTime()===g.part.end.getTime(),l=g.data.backColor;if(this.cssOnly){var m=document.createElement("div");m.setAttribute("unselectable","on"),m.className=this.$5c("_alldayevent_inner"),l&&(m.style.background=l),e.rtl?(j||DayPilot.Util.addClass(i,this.$5c("_alldayevent_continueright")),k||DayPilot.Util.addClass(i,this.$5c("_alldayevent_continueleft"))):(j||DayPilot.Util.addClass(i,this.$5c("_alldayevent_continueleft")),k||DayPilot.Util.addClass(i,this.$5c("_alldayevent_continueright"))),g.client.innerHTML()?m.innerHTML=g.client.innerHTML():m.innerHTML=g.text(),i.appendChild(m)}else{var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.marginLeft="2px",m.style.marginRight="3px",m.style.paddingLeft="2px",m.style.height=h.allDayEventHeight()-2+"px",m.style.border="1px solid "+this.allDayEventBorderColor,m.style.overflow="hidden",m.style.position="relative",m.style.backgroundColor=l,m.className=this.$5c("alldayevent"),this.roundedCorners&&(m.style.MozBorderRadius="5px",m.style.webkitBorderRadius="5px",m.style.borderRadius="5px");var n=[],o=!0,p=this.showAllDayEventStartEnd,q=this.showAllDayEventStartEnd,r="Center",s=0;if(p&&("Left"===r?(n.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;"),n.push("width:"),n.push(s-4),n.push("px;"),n.push("><span style='background-color:")):n.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:"),n.push("transparent"),n.push("' unselectable='on'>"),j?g.start().getDatePart().getTime()!==g.start().getTime()&&n.push(DayPilot.DateUtil.hours(g.start(),"Clock12Hours"===this.$6l.timeFormat())):n.push("~"),n.push("</span></div></div>")),q&&(n.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:"),n.push("transparent"),n.push("' unselectable='on'>"),k?g.end().getDatePart().getTime()!==g.end().getTime()&&n.push(DayPilot.DateUtil.hours(g.end(),"Clock12Hours"===this.$6l.timeFormat())):n.push("~"),n.push("</span></div></div>")),"Left"===r){var t=p?s:0;n.push("<div style='margin-top:0px;height:"),n.push(h.allDayEventHeight()-2),n.push("px;"),n.push(";overflow:hidden;text-align:left;padding-left:"),n.push(t),n.push("px;font-size:"),n.push(this.allDayEventFontSize),n.push(";color:"),n.push(this.allDayEventFontColor),n.push(";font-family:"),n.push(this.eventFontFamily),n.push("' unselectable='on'>"),g.client.innerHTML()?n.push(g.client.innerHTML()):n.push(g.text()),n.push("</div>")}else"Center"===r&&(o?(n.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>"),n.push("<span style='background-color:"),n.push("transparent"),n.push(";font-size:"),n.push(this.allDayEventFontSize),n.push(";color:"),n.push(this.allDayEventFontColor),n.push(";font-family:"),n.push(this.allDayEventFontFamily),n.push("' unselectable='on'>"),g.client.innerHTML()?n.push(g.client.innerHTML()):n.push(g.text()),n.push("</span>"),n.push("</div>")):(n.push("<div style='margin-top:0px;height:"),n.push(h.allDayEventHeight()-2),n.push("px;"),n.push(";overflow:hidden;text-align:center;font-size:"),n.push(this.allDayEventFontSize),n.push(";color:"),n.push(this.allDayEventFontColor),n.push(";font-family:"),n.push(this.allDayEventFontFamily),n.push("' unselectable='on'>"),g.client.innerHTML()?n.push(g.client.innerHTML()):n.push(g.text()),n.push("</div>")));m.innerHTML=n.join(""),i.appendChild(m)}if(e.$59()){if("function"==typeof e.onAfterEventRender){var u={};u.e=i.event,u.div=i,e.onAfterEventRender(u)}}else e.afterEventRender&&e.afterEventRender(i.event,i);this.nav.allday.appendChild(i),this.elements.events.push(i)}a.style.display=""}}},this.$4D=function(a){if(e.multiselect.$6c(),this.elements.events)for(var b=0;b<this.elements.events.length;b++){var c=this.elements.events[b],d=c.event;if(!d||!a||d.allday()){if(d&&(d.div=null,d.root=null),c.onclick=null,c.onclickSave=null,c.ondblclick=null,c.oncontextmenu=null,c.onmouseover=null,c.onmouseout=null,c.onmousemove=null,c.onmousedown=null,c.firstChild&&c.firstChild.firstChild&&c.firstChild.firstChild.tagName&&"IMG"===c.firstChild.firstChild.tagName.toUpperCase()){var f=c.firstChild.firstChild;f.onmousedown=null,f.onmousemove=null,f.onclick=null}c.helper=null,c.event=null,DayPilot.de(c)}}this.elements.events=[]},this.$6m=function(a){var b=this.nav.events,c=this.roundedCorners,d=this.roundedCorners&&(this.$4s.ff||this.$4s.opera105||this.$4s.webkit522||!this.$4s.ielt9),g=(this.roundedCorners&&!d,a.cache||a.data),h=g.borderColor||this.eventBorderColor,i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.MozUserSelect="none",i.style.KhtmlUserSelect="none",i.style.WebkitUserSelect="none",i.style.position="absolute",this.cssOnly?i.className=this.$5c("_event"):(i.style.fontFamily=this.eventFontFamily,i.style.fontSize=this.eventFontSize,i.style.color=g.fontColor||this.eventFontColor,c||(i.style.backgroundColor=h)),i.style.left=a.part.left+"%",i.style.top=a.part.top-this.$5Y()+"px",i.style.width=a.part.width+"%",i.style.height=Math.max(a.part.height,2)+"px",i.style.overflow="hidden",i.isFirst=a.part.start.getTime()===a.start().getTime(),i.isLast=a.part.end.getTime()===a.end().getTime(),a.client.clickEnabled()&&(i.onclick=this.$5n),a.client.doubleClickEnabled()&&(i.ondblclick=this.$5r),DayPilot.re(i,"contextmenu",this.$5s),i.onmousemove=this.$6n,i.onmouseout=this.$6o,i.onmousedown=this.$6p,DayPilot.re(i,DayPilot.touch.start,this.$6q.onEventTouchStart),DayPilot.re(i,DayPilot.touch.move,this.$6q.onEventTouchMove),DayPilot.re(i,DayPilot.touch.end,this.$6q.onEventTouchEnd);g.cssClass&&DayPilot.Util.addClass(i,g.cssClass),this.showToolTip&&!this.bubble&&i.setAttribute("title",a.client.toolTip());var k=document.createElement("div");if(k.setAttribute("unselectable","on"),k.className=e.$5c("_event_inner"),k.innerHTML=a.client.innerHTML(),g.fontColor&&(k.style.color=g.fontColor),g.backColor&&(k.style.background=g.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(k.style.filter="")),g.borderColor&&(k.style.borderColor=g.borderColor),g.backgroundImage&&(k.style.backgroundImage="url("+g.backgroundImage+")",g.backgroundRepeat&&(k.style.backgroundRepeat=g.backgroundRepeat)),i.appendChild(k),a.client.barVisible()){var l=a.part.height-2,m=100*a.part.barTop/l,n=Math.ceil(100*a.part.barHeight/l);"PercentComplete"===this.durationBarMode&&(m=0,n=g.complete);var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$5c("_event_bar"),o.style.position="absolute",g.barBackColor&&(o.style.backgroundColor=g.barBackColor);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.$5c("_event_bar_inner"),p.style.top=m+"%",0<n&&n<=1?p.style.height="1px":p.style.height=n+"%",g.barColor&&(p.style.backgroundColor=g.barColor),o.appendChild(p),i.appendChild(o)}if(g.areas)for(var q=0;q<g.areas.length;q++){var r=g.areas[q],s=r.v||"Visible";if("Visible"===s){var t=DayPilot.Areas.createArea(i,a,r);i.appendChild(t)}}if(b.rows[0].cells[a.part.dayIndex]){var u=b.rows[0].cells[a.part.dayIndex].events;if(u.appendChild(i),e.$6r(i),i.event=a,e.multiselect.$64(a)&&e.multiselect.add(i.event,!0),e.$59()){if("function"==typeof e.onAfterEventRender){var v={};v.e=i.event,v.div=i,e.onAfterEventRender(v)}}else e.afterEventRender&&e.afterEventRender(i.event,i)}e.elements.events.push(i)},this.$6r=function(a){for(var b=a&&a.childNodes?a.childNodes.length:0,c=0;c<b;c++)try{var d=a.childNodes[c];1===d.nodeType&&(d.setAttribute("unselectable","on"),this.$6r(d))}catch(a){}},this.$55=function(){for(var a=new Date,b=0;b<this.$5b.length;b++){var c=this.$5b[b];if(c.blocks)for(var d=0;d<c.blocks.length;d++)for(var e=c.blocks[d],f=0;f<e.lines.length;f++)for(var g=e.lines[f],h=0;h<g.length;h++){var i=g[h];if(i.part.width=100/e.lines.length,i.part.left=i.part.width*f,"Cascade"===this.eventArrangement){var j=f===e.lines.length-1;j||(i.part.width=1.5*i.part.width)}"Full"===this.eventArrangement&&(i.part.left=i.part.left/2,i.part.width=100-i.part.left),i.allday()||this.$6m(i)}}this.multiselect.redraw();var k=new Date;k.getTime()-a.getTime()},this.$6s=function(){this.multiselect.$5M=[];for(var a=0;a<this.$5b.length;a++)for(var b=this.$5b[a],c=0;c<b.lines.length;c++)for(var d=b.lines[c],e=0;e<d.length;e++){var f=d[e];f.part.width=100/b.lines.length,f.part.left=f.Width*c,f.allday()||this.$6m(f)}},this.$5c=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$54=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$6t=function(){var a=this.$5j()+this.$6u();return e.debug.message("Getting totalHeight, headerHeight: "+this.$5j()+" scrollable: "+this.$6u()),a<0?0:a},this.$6v=function(){if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),this.cssOnly||(this.nav.top.style.lineHeight="1.2",this.nav.top.style.textAlign="left"),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.$6t()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.$6u()+"px",this.cssOnly&&DayPilot.Util.addClass(this.nav.top,this.$5c("_main")),this.nav.scroll.style.position="relative",this.cssOnly||(this.nav.scroll.style.border="1px solid "+this.borderColor,this.nav.scroll.style.backgroundColor=this.hourNameBackColor),this.showHeader){var a=this.$6w();this.nav.top.appendChild(a)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.$5j()+"px";var b=this.$6x();this.nav.scrollable=b.firstChild,this.nav.scroll.appendChild(b),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=e.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=e.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.$6y=function(){for(var a="Fixed"===this.columnWidthSpec,b=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],c=this.nav.events.rows[0],d=0;d<e.$5b.length;d++){var f=b&&b.cells[d],g=c.cells[d],h=f&&f.firstChild,i=e.$5b[d];if(a){var j=i.width?i.width:e.columnWidth;h&&(h.style.width=j+"px"),g&&(g.style.width=j+"px")}else h&&(h.style.width=null),g&&(g.style.width=null)}},this.$5k=function(){return this.$5U?e.nav.bottomRight:e.nav.scroll},this.$52=function(){var a="Fixed"===this.columnWidthSpec;if(!a){var b=e.$5k();"Fixed"===this.heightSpec?b.style.overflowY="scroll":"BusinessHours"===this.heightSpec&&this.$5d()<=this.businessEndsHour-this.businessBeginsHour?b.style.overflow="hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?b.style.overflow="auto":b.style.overflow="hidden"}if(a){var c=0,d=this.$5b.length*this.columnWidth,f=e.$5V();d>f.clientWidth&&(c=DayPilot.sw(e.nav.bottomRight)),e.nav.headerParent&&(e.nav.headerParent.style.width=d+c+"px"),e.nav.main.style.width=d+"px",e.nav.events.style.width=d+"px",e.nav.crosshair.style.width=d+"px"}else e.nav.headerParent&&(e.nav.headerParent.style.width="100%"),e.nav.main.style.width="100%",e.nav.events.style.width="100%",e.nav.crosshair.style.width="100%";this.$6y()},this.$4Z=function(){this.$4o?this.$6z():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.$6A(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.$6z=function(){if(this.nav.hourTable)for(var a=0;a<this.nav.hourTable.rows.length;a++){var b=this.nav.hourTable.rows[a],c=b.cells[0].firstChild;c.data=null,c.onmousemove=null,c.onmouseout=null}},this.$6x=function(){var a=document.createElement("div");a.style.zoom=1,a.style.position="relative",a.onmousemove=this.$6B,DayPilot.re(a,DayPilot.touch.start,this.$6q.onMainTouchStart),DayPilot.re(a,DayPilot.touch.move,this.$6q.onMainTouchMove),DayPilot.re(a,DayPilot.touch.end,this.$6q.onMainTouchEnd),DayPilot.re(a,"contextmenu",function(a){var a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1}),navigator.msPointerEnabled&&(a.style.msTouchAction="none",a.style.touchAction="none"),a.daypilotMainD=!0,a.calendar=this;var b=null,c=null,d=null,e="Fixed"===this.columnWidthSpec;if(e||this.$5U){if(this.showHours){var f=document.createElement("div");f.style.cssFloat="left",f.style.styleFloat="left",f.style.width=this.hourWidth+"px",f.style.height=this.$6u()+"px",f.style.overflow="hidden",f.style.position="relative",a.appendChild(f),b=f;var g=30,h=this.$5e()*this.cellHeight/(6e4*this.cellDuration)+g;d=document.createElement("div"),d.style.height=h+"px",f.appendChild(d)}var i=document.createElement("div");i.style.height=this.$6u()+"px",this.showHours&&(i.style.marginLeft=this.hourWidth+"px"),i.style.position="relative",i.style.overflow="auto",a.appendChild(i),c=i}else{var j=document.createElement("table");j.cellSpacing="0",j.cellPadding="0",j.border="0",j.style.border="0px none",j.style.width="100%",j.style.position="relative";var l,k=j.insertRow(-1);this.showHours&&(l=k.insertCell(-1),l.style.verticalAlign="top",l.style.padding="0px",l.style.border="0px none",d=l),l=k.insertCell(-1),l.width="100%",l.style.padding="0px",l.style.border="0px none",l.style.verticalAlign="top",this.cssOnly||(l.style.borderLeft="1px solid "+this.borderColor),c=l,a.appendChild(j)}if(d&&(this.nav.hourTable=this.$6A(),d.appendChild(this.nav.hourTable)),this.cssOnly||this.$4p){var m=document.createElement("div");m.style.height="0px",
m.style.position="relative",m.appendChild(this.$6C());var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="100%",n.style.height="0px",m.appendChild(n),this.nav.crosshair=n,m.appendChild(this.$6D()),c.appendChild(m)}else c.appendChild(this.$6C());return this.nav.zoom=a,this.nav.bottomLeft=b,this.nav.bottomRight=c,this.nav.hoursPlaceholder=d,a},this.$6C=function(){var a=document.createElement("table");a.cellPadding="0",a.cellSpacing="0",a.border="0";var b="Fixed"===this.columnWidthSpec;return b||(a.style.width="100%"),a.style.border="0px none",!this.cssOnly,a.style.tableLayout="fixed",this.nav.main=a,this.nav.events=a,a},this.$6E=function(){var a="Fixed"===this.columnWidthSpec;if(a){for(var b=0,c=0;c<e.$5b.length;c++){var d=e.$5b[c];b+=d.width?d.width:e.columnWidth}return b+"px"}return"100%"},this.$6D=function(){var a=document.createElement("table");a.style.position="absolute",a.style.top="0px",a.cellPadding="0",a.cellSpacing="0",a.border="0",a.style.width=e.$6E(),a.style.border="0px none",a.style.tableLayout="fixed",this.nav.events=a;for(var b=!0,c=this.$5b,d=c.length,f=b?a.insertRow(-1):a.rows[0],g=0;g<d;g++){var h=b?f.insertCell(-1):f.cells[g];b&&(h.style.padding="0px",h.style.border="0px none",h.style.height="0px",h.style.overflow="visible",e.rtl||(h.style.textAlign="left"),e.$6F(h))}return a},this.$6A=function(){var a=document.createElement("table");a.cellSpacing="0",a.cellPadding="0",a.border="0",a.style.border="0px none",a.style.width=this.hourWidth+"px",a.oncontextmenu=function(){return!1},a.onmousemove=function(){e.$4K()};for(var b=this.$5e()/(60*this.timeHeaderCellDuration*1e3),c=0;c<b;c++)this.$6G(a,c);return a},this.$6H=function(){return(this.$5i()-this.$5i(!0))*(60/this.cellDuration)},this.$6I=function(){return this.$5i()-this.$5i(!0)},this.$5Y=function(){return this.$6H()*this.cellHeight},this.$6G=function(a,b){var c=60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration),d=a.insertRow(-1);d.style.height=c+"px";var f=d.insertCell(-1);f.valign="bottom",f.setAttribute("unselectable","on"),this.cssOnly||(f.className=this.$5c("rowheader"),f.style.backgroundColor=this.hourNameBackColor,f.style.cursor="default"),f.style.padding="0px",f.style.border="0px none";var g=document.createElement("div");this.cssOnly&&(g.className=this.$5c("_rowheader")),g.style.position="relative",g.style.width=this.hourWidth+"px",g.style.height=c+"px",g.style.overflow="hidden",g.setAttribute("unselectable","on");var h=document.createElement("div");this.cssOnly&&(h.className=this.$5c("_rowheader_inner")),h.setAttribute("unselectable","on"),this.cssOnly||(h.style.borderBottom="1px solid "+this.hourNameBorderColor,h.style.textAlign="right",h.style.height=c-1+"px");var i=null,j=null;if(this.hours){var k=b+this.$6I();j=this.hours[k],i=j.html}var l=this.timeHeaderCellDuration,m=this.startDate.addMinutes(l*b+60*this.$5i()),n=m.getHours();if(!i){var o=document.createElement("div");o.setAttribute("unselectable","on"),this.cssOnly||(o.style.padding="2px",o.style.fontFamily=this.hourFontFamily,o.style.fontSize=this.hourFontSize,o.style.color=this.hourFontColor);var p=n<12;"Clock12Hours"===this.$6l.timeFormat()&&(n%=12,0===n&&(n=12)),60!==this.timeHeaderCellDuration&&(n+=":"+m.toString("mm")),o.innerHTML=n;var q=document.createElement("span");q.setAttribute("unselectable","on"),this.cssOnly?q.className=this.$5c("_rowheader_minutes"):(q.style.fontSize="10px",q.style.verticalAlign="super");var r;r="Clock12Hours"===this.$6l.timeFormat()?p?"AM":"PM":"00",this.cssOnly?q.innerHTML=r:q.innerHTML="&nbsp;"+r,o.appendChild(q),i=o.outerHTML}if("function"==typeof e.onBeforeTimeHeaderRender){var s={};s.header={},s.header.hours=n,s.header.minutes=m.getMinutes(),s.header.start=m.toString("HH:mm"),s.header.html=i,s.header.areas=j?j.areas:null,e.onBeforeTimeHeaderRender(s),null!==s.header.html&&(i=s.header.html),j=s.header}j&&(g.data=j,g.onmousemove=e.$6J,g.onmouseout=e.$6K),h.innerHTML=i,g.appendChild(h),f.appendChild(g)},this.$6J=function(a){e.$4K();var b=this;b.active||DayPilot.Areas.showAreas(b,b.data)},this.$6K=function(a){DayPilot.Areas.hideAreas(this,a)},this.$6u=function(){switch(this.heightSpec){case"Fixed":return this.height;case"Parent100Pct":return this.height;case"Full":return this.$5e()*this.cellHeight/(6e4*this.cellDuration);case"BusinessHours":case"BusinessHoursNoScroll":var a=this.$5f();return a*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.$5j=function(){if(!this.showHeader)return 0;var a=this.headerLevels*h.headerHeight();return this.showAllDayEvents&&h.allDayHeaderHeight()?a+h.allDayHeaderHeight():a},this.$4V=function(){if(this.headerHeightAutoFit){for(var a=0,b=0;b<this.nav.header.rows.length;b++)for(var c=this.nav.header.rows[b],d=0;d<c.cells.length;d++){var e=c.cells[d],f=e.firstChild,g=f.firstChild,h=f.style.height;f.style.height="auto",g.style.position="static";var i=f.offsetHeight;f.style.height=h,g.style.position="",a=Math.max(a,i)}a>this.headerHeight&&(this.$4n.headerHeight=a,this.$4T(),this.$4U())}},this.$5U=!0,this.$6L=function(){var a=this.$5U?e.nav.bottomRight:e.nav.scroll;return this.cssOnly?DayPilot.sw(a)>0:DayPilot.sw(a)>2},this.$6w=function(){var a=document.createElement("div");this.cssOnly||(a.style.borderLeft="1px solid "+this.borderColor,a.style.borderRight="1px solid "+this.borderColor);var b="Fixed"===this.columnWidthSpec;b||(a.style.overflow="auto"),a.style.position="absolute",a.style.left="0px",a.style.right="0px";var c=document.createElement("div");c.style.position="relative",c.style.zoom="1";var d=null,b="Fixed"===this.columnWidthSpec;if(b||this.$5U){var e=document.createElement("div");if(e.style.cssFloat="left",e.style.styleFloat="left",e.style.width=this.hourWidth+"px",this.showHours){var f=this.$6M();this.nav.corner=f,e.appendChild(f),c.appendChild(e),this.nav.upperLeft=e}var g=document.createElement("div");this.showHours&&(g.style.marginLeft=this.hourWidth+"px"),g.style.position="relative",g.style.overflow="hidden",g.style.height=this.$5j()+"px",c.appendChild(g),this.nav.upperRight=g,d=document.createElement("div"),d.style.position="relative",g.appendChild(d)}else{var h=document.createElement("table");h.cellPadding="0",h.cellSpacing="0",h.border="0",h.style.width="100%",h.style.borderCollapse="separate",h.style.border="0px none";var i=h.insertRow(-1);if(this.nav.fullHeader=h,this.showHours){var j=i.insertCell(-1);j.style.padding="0px",j.style.border="0px none";var f=this.$6M();j.appendChild(f),this.nav.corner=f}j=i.insertCell(-1),j.style.width="100%",this.cssOnly||(j.style.backgroundColor=this.hourNameBackColor),j.valign="top",j.style.position="relative",j.style.padding="0px",j.style.border="0px none",d=document.createElement("div"),d.style.position="relative",d.style.height=this.$5j()+"px",d.style.overflow="hidden",j.appendChild(d),this.nav.mid=d,c.appendChild(h)}this.nav.headerParent=d,this.$6N();var k=this.$6L(),b="Fixed"===this.columnWidthSpec;return k&&!b&&this.$6O(),a.appendChild(c),a},this.$6N=function(){this.nav.unifiedCornerRight=null,this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var a="Fixed"===this.columnWidthSpec;a||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.cssOnly||(this.nav.header.style.borderBottom="0px none #000000",this.nav.header.style.borderLeft="1px solid "+this.borderColor,this.nav.header.style.borderTop="1px solid "+this.borderColor),this.nav.header.oncontextmenu=function(){return!1};var b=this.$6L();if(this.cssOnly||b&&(this.nav.header.style.borderRight="1px solid "+this.borderColor),this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.height="0px";var a="Fixed"===this.columnWidthSpec;a?c.style.width=this.$5b.length*this.columnWidth+"px":(c.style.left="0px",c.style.right="0px"),this.nav.allday=c,this.nav.headerParent.appendChild(c)}},this.$6O=function(){if(this.nav.fullHeader){var a=this.nav.fullHeader.rows[0],b=a.insertCell(-1);this.cssOnly||(b.className=this.$5c("cornerright"),b.style.backgroundColor=this.hourNameBackColor,b.style.borderBottom="0px none",b.style.borderLeft="1px solid "+this.borderColor,b.style.borderRight="0px none"),b.style.padding="0px",b.style.verticalAlign="top",b.setAttribute("unselectable","on");var c=document.createElement("div");c.setAttribute("unselectable","on"),this.cssOnly&&(c.className=this.$5c("_cornerright")),c.style.overflow="hidden",c.style.position="relative",c.style.width="16px",c.style.height=this.$5j()+"px";var d=document.createElement("div");this.cssOnly?d.className=this.$5c("_cornerright_inner"):d.style.borderTop="1px solid "+this.borderColor,c.appendChild(d),b.appendChild(c),this.nav.cornerRight=c}},this.$6M=function(){var a=document.createElement("div");a.style.position="relative",this.cssOnly?a.className=this.$5c("_corner"):(a.style.backgroundColor=this.cornerBackColor,a.style.fontFamily=this.headerFontFamily,a.style.fontSize=this.headerFontSize,a.style.color=this.headerFontColor,a.className=this.$5c("corner")),a.style.width=this.hourWidth+"px",a.style.height=this.$5j()+"px",a.style.overflow="hidden",a.oncontextmenu=function(){return!1};var b=document.createElement("div");this.cssOnly?b.className=this.$5c("_corner_inner"):b.style.borderTop="1px solid "+this.borderColor,b.setAttribute("unselectable","on");var c=this.cornerHTML||this.cornerHtml;if(b.innerHTML=c?c:"",a.appendChild(b),!this.numberFormat)return a;var d=document.createElement("div");return d.style.position="absolute",d.style.padding="2px",d.style.top="0px",d.style.left="1px",d.style.backgroundColor="#1ABB9C",d.style.color="white",d.innerHTML="VineSoft",d.setAttribute("unselectable","on"),a.appendChild(d),a},this.$4E=function(){var a=this.nav.main;a.root=null,a.onmouseup=null;for(var b=0;b<a.rows.length;b++)for(var c=a.rows[b],d=0;d<c.cells.length;d++){var e=c.cells[d];e.root=null,e.onmousedown=null,e.onmousemove=null,e.onmouseout=null,e.onmouseup=null,e.onclick=null,e.ondblclick=null,e.oncontextmenu=null}this.$4o||DayPilot.pu(a)},this.$4W=function(){for(var a=0;this.nav.scrollUp&&a<this.nav.scrollUp.length;a++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[a]);for(var a=0;this.nav.scrollDown&&a<this.nav.scrollDown.length;a++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[a]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.$6F=function(a){var b=document.createElement("div");b.style.marginRight=e.columnMarginRight+"px",b.style.position="relative",b.style.height="1px",this.cssOnly||(b.style.fontSize="1px",b.style.lineHeight="1.2"),b.style.marginTop="-1px",a.events=b;var c=document.createElement("div");c.style.position="relative",b.style.height="1px",b.style.marginTop="-1px",a.separators=c,a.appendChild(c),a.appendChild(b)},this.$4Y=function(){var b=this.nav.main,c=60*this.cellDuration*1e3,d=this.$5m(),f=this.$6I()*(60/this.cellDuration),g=e.$5b,h=!0,i=0;if(b&&(i=e.$5V().scrollTop,this.$4E(),e.$4s.ielt9&&h)){DayPilot.de(this.nav.scrollable.parentNode);var j=this.$6x();this.$6P(),this.nav.scrollable=j.firstChild,this.nav.scroll.appendChild(j),b=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;b&&b.rows&&b.rows.length>0&&h;)this.$4o||DayPilot.pu(b.rows[0]),b.deleteRow(0);if(this.$6Q=!0,this.scrollLabelsVisible)for(var g=this.$5b,k=this.showHours?this.hourWidth:0,l=(this.nav.scroll.clientWidth-k)/g.length,m=0;m<g.length;m++){var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left=k+2+m*l+l/2+"px",n.style.display="none";var o=document.createElement("div");o.style.height="10px",o.style.width="10px",this.cssOnly?o.className=this.$5c("_scroll_up"):(o.style.backgroundRepeat="no-repeat",this.scrollUpUrl&&(o.style.backgroundImage="url('"+this.scrollUpUrl+"')"),o.className=this.$5c("scroll_up")),n.appendChild(o),this.nav.scrollLayer.appendChild(n),this.nav.scrollUp.push(n);var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left=k+2+m*l+l/2+"px",p.style.display="none";var o=document.createElement("div");o.style.height="10px",o.style.width="10px",this.cssOnly?o.className=this.$5c("_scroll_down"):(o.style.backgroundRepeat="no-repeat",this.scrollDownUrl&&(o.style.backgroundImage="url('"+this.scrollDownUrl+"')"),o.className=this.$5c("scroll_down")),p.appendChild(o),this.nav.scrollLayer.appendChild(p),this.nav.scrollDown.push(p)}var q=g.length;if(this.cssOnly||this.$4p){for(var r=this.nav.events;r&&r.rows&&r.rows.length>0&&h;)this.$4o||DayPilot.pu(r.rows[0]),r.deleteRow(0);for(var s=h?r.insertRow(-1):r.rows[0],t=0;t<q;t++){var u=h?s.insertCell(-1):s.cells[t];if(h){u.style.padding="0px",u.style.border="0px none",u.style.height="1px",u.style.overflow="visible";var v="Fixed"===this.columnWidthSpec;v&&(g[t].width?u.style.width=g[t].width+"px":u.style.width=this.columnWidth+"px"),e.rtl||(u.style.textAlign="left"),e.$6F(u)}}}for(var m=0;m<d;m++){var s=h?b.insertRow(-1):b.rows[m],w=m+f;h&&(s.style.MozUserSelect="none",s.style.KhtmlUserSelect="none",s.style.WebkitUserSelect="none");for(var t=0;t<q;t++){var x=this.$5b[t],u=h?s.insertCell(-1):s.cells[t];if(u.start=x.start.addTime(w*c).addHours(this.$5i()),u.end=u.start.addTime(c),u.resource=x.id,"function"==typeof this.onBeforeCellRender){this.cellProperties||(this.cellProperties={});var y={};y.resource=u.resource,y.start=u.start,y.end=u.end;var z=t+"_"+w;y.cssClass=null,y.html=null,y.backImage=null,y.backRepeat=null,y.backColor=null,y.business=this.$6R(u.start,u.end),this.cellProperties[z]&&DayPilot.Util.copyProps(this.cellProperties[z],y,["cssClass","html","backImage","backRepeat","backColor","business"]);var A={};A.cell=y,this.onBeforeCellRender(A),this.cellProperties[z]=y}var B=e.$6S(t,w);if(h)if(u.root=this,u.style.padding="0px",u.style.border="0px none",u.style.verticalAlign="top",u.style.height=e.cellHeight+"px",u.style.overflow="hidden",u.setAttribute("unselectable","on"),this.cssOnly){var C=document.createElement("div");C.className=e.$5c("_cell"),C.style.position="relative",C.style.height=e.cellHeight+"px",C.style.overflow="hidden",C.setAttribute("unselectable","on");var F=document.createElement("div");F.className=e.$5c("_cell_inner"),C.appendChild(F),u.appendChild(C)}else{var C=document.createElement("div");C.style.height=e.cellHeight-1+"px",C.style.width="100%",C.style.overflow="hidden",C.setAttribute("unselectable","on"),u.appendChild(C);var D=document.createElement("div");D.setAttribute("unselectable","on"),D.style.fontSize="1px",D.style.height="0px",u.appendChild(D),(!e.rtl&&t!==q-1||e.rtl)&&(u.style.borderRight="1px solid "+e.cellBorderColor);var E=u.end.getMinutes()+u.end.getSeconds()+u.end.getMilliseconds()>0;E?(""!==e.hourHalfBorderColor&&(D.style.borderBottom="1px solid "+e.hourHalfBorderColor),D.className=e.$5c("hourhalfcellborder")):(""!==e.hourBorderColor&&(D.style.borderBottom="1px solid "+e.hourBorderColor),D.className=e.$5c("hourcellborder"))}else C=u.firstChild,C.className=e.$5c("_cell");u.onmousedown=this.$5O,u.onmousemove=this.$5R,u.onmouseout=this.$5Q,DayPilot.re(u,DayPilot.touch.end,this.$6q.onCellTouchEnd),u.onmouseup=function(){return!1},u.onclick=function(){return!1},u.ondblclick=function(){if(a.firstMousePos=null,e.$5P(),clearTimeout(a.selectedTimeout),"Disabled"!==e.timeRangeDoubleClickHandling){var b=e.getSelection();e.$5J(b.start,b.end,b.resource)}},u.oncontextmenu=function(){if(this.selected||(e.clearSelection(),a.column=a.getColumn(this),e.selectedCells.push(this),a.firstSelected=this,a.topSelectedCell=this,a.bottomSelectedCell=this,e.$5P()),"Disabled"===e.timeRangeRightClickHandling)return!1;var b=e.getSelection(),c={};return c.start=b.start,c.end=b.end,c.resource=b.resource,c.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof e.onTimeRangeRightClick||(e.onTimeRangeRightClick(c),!c.preventDefault.value))&&("ContextMenu"===e.timeRangeRightClickHandling&&e.contextMenuSelection&&e.contextMenuSelection.show(e.getSelection()),"function"==typeof e.onTimeRangeRightClicked&&e.onTimeRangeRightClicked(c),!1)};var G=e.$6T(t,w);C=u.firstChild;var v="Fixed"===this.columnWidthSpec;v&&(x.width?C.style.width=x.width+"px":C.style.width=this.columnWidth+"px"),G&&(this.cssOnly?C.firstChild.style.background=G:C.style.background=G);var H=B?B.business:this.$6R(u.start,u.end);H&&this.cssOnly&&DayPilot.Util.addClass(C,e.$5c("_cell_business"));var I=this.cssOnly?C.firstChild:C;I&&(I.innerHTML=""),C.style.backgroundImage="",C.style.backgroundRepeat="",B&&(B.html&&(I.innerHTML=B.html),B.cssClass&&(this.cssOnly?DayPilot.Util.addClass(C,B.cssClass):DayPilot.Util.addClass(u,e.$5c(B.cssClass))),B.backImage&&(C.style.backgroundImage="url('"+B.backImage+"')"),B.backRepeat&&(C.style.backgroundRepeat=B.backRepeat)),this.cssOnly||DayPilot.Util.addClass(u,e.$5c("cellbackground"))}}b.onmouseup=this.$5S,b.root=this,e.nav.scrollable.style.display="",e.$5V().scrollTop=i},this.$6R=function(a,b){return this.businessBeginsHour<this.businessEndsHour?!(a.getHours()<this.businessBeginsHour||a.getHours()>=this.businessEndsHour||6===a.getDayOfWeek()||0===a.getDayOfWeek()):a.getHours()>=this.businessBeginsHour||a.getHours()<this.businessEndsHour},this.$6B=function(b){b=b||window.event,b.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),a.activeCalendar=this;var c=e.nav.main;e.coords=DayPilot.mo3(c,b);var d=DayPilot.mc(b),f=e.crosshairType&&"Disabled"!==e.crosshairType,g=e.coords.x<e.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||a.selecting||g?e.$4K():f&&e.$6U(),DayPilot.Global.resizing)e.$6V(d);else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return void(a.movingShadow=null);if(!a.movingShadow){var h=3;if(!(DayPilot.distance(d,a.originalMouse)>h))return;a.movingShadow=e.$5a(DayPilot.Global.moving,!e.$4s.ie,e.shadow),a.movingShadow.style.width=a.movingShadow.parentNode.offsetWidth+1+"px"}if(!e.coords)return;var i=e.cellHeight,j=0,k=a.moveOffsetY;k||(k=i/2),"Top"===this.moveBy&&(k=0);var l=Math.floor((e.coords.y-k-j+i/2)/i)*i+j;l<j&&(l=j);var m=e.nav.main,n=m.clientHeight,o=parseInt(a.movingShadow.style.height);l+o>n&&(l=n-o),a.movingShadow.style.top=l+"px";var p=m.clientWidth/m.rows[0].cells.length,q=Math.floor(e.coords.x/p);q<0&&(q=0),e.rtl&&(q=e.$5b.length-q-1);var r=e.nav.events;q<r.rows[0].cells.length&&q>=0&&a.movingShadow.column!==q&&(a.movingShadow.column=q,a.moveShadow(r.rows[0].cells[q]))}if(a.drag){if(a.gShadow&&document.body.removeChild(a.gShadow),a.gShadow=null,!a.movingShadow&&e.coords){var s=e.$5a(a.drag,!1,a.drag.shadowType);if(s){a.movingShadow=s;var t=DayPilot.Date.today(),b={value:a.drag.id,start:t,end:t.addSeconds(a.drag.duration),text:a.drag.text},u=new DayPilot.Event(b,e);u.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=u,DayPilot.Global.moving.helper={}}}b.cancelBubble=!0}},this.$6V=function(b){if(!DayPilot.Global.resizing.event)return DayPilot.Global.resizing=null,DayPilot.de(a.resizingShadow),void(a.resizingShadow=null);a.resizingShadow||(a.resizingShadow=e.$5a(DayPilot.Global.resizing,!1,e.shadow));var c=DayPilot.Global.resizing.event.calendar.cellHeight,d=0,f=b.y-a.originalMouse.y;if(console.log(DayPilot.Global.resizing.dpBorder),"bottom"===DayPilot.Global.resizing.dpBorder){var g=Math.floor((a.originalHeight+a.originalTop+f+c/2)/c)*c-a.originalTop+d;g<c&&(g=c);var h=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;a.originalTop+g>h&&(g=h-a.originalTop),a.resizingShadow.style.height=g+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var i=Math.floor((a.originalTop+f-d+c/2)/c)*c+d;i<d&&(i=d),i>a.originalTop+a.originalHeight-c&&(i=a.originalTop+a.originalHeight-c);var g=a.originalHeight-(i-a.originalTop);g<c?g=c:a.resizingShadow.style.top=i+"px",a.resizingShadow.style.height=g+"px"}},this.$6W={};var f=this.$6W;f.getWidth=function(){return e.nav.top.offsetWidth},f.getHeight=function(){return e.nav.top.offsetHeight-DayPilot.sh(e.nav.scroll)-1},f.download=function(a){var b=f.canvas(),a=a||"image.png";if(window.navigator.msSaveBlob){var c=b.msToBlob();window.navigator.msSaveBlob(c,a)}else{var d=document.createElement("a");d.download=a,d.href=b.toDataURL(),d.click()}},f.getCanvas=function(){return f.canvas()},f.getRectangles=function(){var a=e.showHours?e.hourWidth:0,b=e.$5j(),c={};return c.main={x:0,y:0,w:f.getWidth(),h:f.getHeight()},c.corner={x:0,y:0,w:a,h:b},c.grid={x:a,y:b,w:f.getWidth()-a,h:f.getHeight()-b},c},f.fakeDurationBar=function(){var a=document.createElement("div");a.style.display="none",a.className=e.$5c("_event");var b=document.createElement("div");b.className=e.$5c("_event_bar");var c=document.createElement("div");return c.className=e.$5c("_event_bar_inner"),document.body.appendChild(a),b.appendChild(c),a.appendChild(b),a},f.fakeCell=function(){var a=document.createElement("div");a.style.display="none",a.className=e.$5c("_cell");var b=document.createElement("div");return b.className=e.$5c("_cell_inner"),document.body.appendChild(a),a.appendChild(b),a},f.extractUrl=function(a){var b=/url\((.*)\)/.exec(a);return b[1]},f.getImages=function(){var a={},b=f.fakeExpand();return a.expand=f.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=e.$5c("_tree_image_collapse"),a.collapse=f.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=e.$5c("_tree_image_no_children"),a.nochildren=f.extractUrl(new DayPilot.StyleReader(b).get("background-image")),DayPilot.de(b),a},f.canvas=function(){var a=f.getRectangles(),b=new DayPilot.Canvas(a.main.w,a.main.h);console.log(a);var c=new DayPilot.StyleReader(e.nav.top).get("border-color"),d=new DayPilot.StyleReader(e.nav.header.rows[0].cells[0].firstChild.firstChild).get("border-bottom-color");return b.rect(a.main,c),b.line(a.grid.x,0,a.grid.x,a.main.h,d),b.line(0,a.grid.y,a.main.w,a.grid.y,d),b.getCanvasElement()},this.temp={},this.temp.getPosition=function(){var a=e.$6X.getCellCoords();if(!a)return null;var b=e.$5b[a.x],c={};return c.resource=b.id,c.start=new DayPilot.Date(b.start).addHours(e.$5i(!0)).addMinutes(a.y*e.cellDuration),c.end=c.start.addMinutes(e.cellDuration),c},this.temp.img=e.$6W,this.$6X={},this.$6X.getCellCoords=function(){var a={};if(a.x=0,a.y=0,!e.coords)return null;for(var b=e.nav.main,c=e.coords.x,d=0,f=this.col(b,d);f&&c>f.left;)d+=1,f=this.col(b,d);a.x=d-1;var g=0,h=Math.floor((e.coords.y-g)/e.cellHeight);return a.y=h,a.x<0?null:a},this.$6X.col=function(a,b){var c={};if(c.left=0,c.width=0,!a)return null;if(!a.rows)return null;if(0===a.rows.length)return null;if(0==a.rows[0].cells.length)return null;var d=a.rows[0].cells[b];if(!d)return null;var e=DayPilot.abs(a),f=DayPilot.abs(d);return c.left=f.x-e.x,c.width=d.offsetWidth,c},this.$6U=function(){this.$4K(),this.elements.crosshair||(this.elements.crosshair=[]);var a=this.$6X.getCellCoords();if(a){var b=a.x,c=Math.floor(a.y/(60/e.cellDuration)*(60/e.timeHeaderCellDuration));if(!(c<0)){if(this.nav.hourTable){if(c>=this.nav.hourTable.rows.length)return;var d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.top="0px",d.style.bottom="0px",d.style.opacity=.5,d.style.backgroundColor=this.crosshairColor,d.style.opacity=this.crosshairOpacity/100,d.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[c].cells[0].firstChild.appendChild(d),this.elements.crosshair.push(d)}if(this.nav.header){var f=document.createElement("div");f.style.position="absolute",f.style.left="0px",f.style.right="0px",f.style.top="0px",f.style.bottom="0px",f.style.opacity=.5,f.style.backgroundColor=this.crosshairColor,f.style.opacity=this.crosshairOpacity/100,f.style.filter="alpha(opacity="+this.crosshairOpacity+")";var g=this.nav.header.rows[this.headerLevels-1];g.cells[b]&&(g.cells[b].firstChild.appendChild(f),this.elements.crosshair.push(f))}if("Header"!==this.crosshairType){var h=this.nav.crosshair,i=0,j=Math.floor((e.coords.y-i)/e.cellHeight)*e.cellHeight+i,k=e.cellHeight,l=document.createElement("div");l.style.position="absolute",l.style.left="0px",l.style.right="0px",l.style.top=j+"px",l.style.height=k+"px",l.style.backgroundColor=this.crosshairColor,l.style.opacity=this.crosshairOpacity/100,l.style.filter="alpha(opacity="+this.crosshairOpacity+")",l.onmousedown=this.$6Y,h.appendChild(l),this.elements.crosshair.push(l);var m=this.$6X.col(this.nav.main,b);if(k=this.nav.main.clientHeight,m){var n=document.createElement("div");n.style.position="absolute",n.style.left=m.left+"px",n.style.width=m.width+"px",n.style.top="0px",n.style.height=k+"px",n.style.backgroundColor=this.crosshairColor,n.style.opacity=this.crosshairOpacity/100,n.style.filter="alpha(opacity="+this.crosshairOpacity+")",n.onmousedown=this.$6Y,h.appendChild(n),this.elements.crosshair.push(n)}}}}},this.$6Y=function(a){e.$4K();var b=e.$6X.getCellCoords(),c=0,d=e.nav.main.rows[b.y+c].cells[b.x];e.$5O.apply(d,[a])},this.$4K=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var a=0;a<this.elements.crosshair.length;a++){var b=this.elements.crosshair[a];b&&b.parentNode&&b.parentNode.removeChild(b)}this.elements.crosshair=[]}},this.$4R=function(){if(this.cellConfig){var a=this.cellConfig;if(a.vertical)for(var b=0;b<a.x;b++)for(var c=this.cellProperties[b+"_0"],d=1;d<a.y;d++)this.cellProperties[b+"_"+d]=c;if(a.horizontal)for(var d=0;d<a.y;d++)for(var c=this.cellProperties["0_"+d],b=1;b<a.x;b++)this.cellProperties[b+"_"+d]=c;if(a.default)for(var c=a.default,d=0;d<a.y;d++)for(var b=0;b<a.x;b++)this.cellProperties[b+"_"+d]||(this.cellProperties[b+"_"+d]=c)}},this.$6S=function(a,b){return this.cellProperties?this.cellProperties[a+"_"+b]:null},this.$6Z=function(a,b){var c=a+"_"+b;return!(!this.cellProperties||!this.cellProperties[c])&&this.cellProperties[c].business},this.$6T=function(a,b){var c=a+"_"+b;return this.cellProperties&&this.cellProperties[c]?this.cellProperties[c].backColor:null},this.$4F=function(){var a=this.nav.header;if(a&&a.rows)for(var b=0;b<a.rows.length;b++)for(var c=a.rows[b],d=0;d<c.cells.length;d++){var e=c.cells[d];e.onclick=null,e.onmousemove=null,e.onmouseout=null}this.$4o||DayPilot.pu(a)},this.$70=function(a,b){for(var c=b?this.nav.header.insertRow(-1):this.nav.header.rows[a-1],d=this.$6h(a),f=d.length,g=a===e.headerLevels,i=0;i<f;i++){var j=d[i];if(e.$59()&&"function"==typeof e.onBeforeHeaderRender){var k={};k.header={},DayPilot.Util.copyProps(j,k.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(k),DayPilot.Util.copyProps(k.header,j,["html","backColor","toolTip","areas"])}var l=!!j.getChildren,m=b?c.insertCell(-1):c.cells[i];if(m.data=j,g);else{var n=1;l&&(n=j.getChildrenCount(e.headerLevels-a+1)),m.colSpan=n}l&&(m.onclick=this.$5t,m.onmousemove=this.$5u,m.onmouseout=this.$5v,j.toolTip&&(m.title=j.toolTip)),m.style.overflow="hidden",m.style.padding="0px",m.style.border="0px none",m.style.height=h.headerHeight()+"px",this.cssOnly||(m.style.borderLeft="0px none",i!==f-1&&(m.style.borderRight="1px solid "+this.borderColor));var o=b?document.createElement("div"):m.firstChild;if(b){if(o.setAttribute("unselectable","on"),o.style.MozUserSelect="none",o.style.KhtmlUserSelect="none",o.style.WebkitUserSelect="none",o.style.position="relative",o.style.height=h.headerHeight()+"px",this.cssOnly){o.className=e.$5c("_colheader");var q=document.createElement("div");q.className=e.$5c("_colheader_inner"),j.backColor&&(q.style.background=j.backColor),o.appendChild(q)}else{o.className=e.$5c("colheader"),o.style.cursor="default",o.style.fontFamily=this.headerFontFamily,o.style.fontSize=this.headerFontSize,o.style.color=this.headerFontColor,o.style.backgroundColor=j.backColor,o.style.textAlign="center";var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.right="0px",p.style.top="0px",p.style.bottom="0px",p.style.padding="2px",p.setAttribute("unselectable","on"),1!==a&&(p.style.borderTop="1px solid "+this.borderColor),"Disabled"!==this.headerClickHandling&&(p.style.cursor="pointer"),o.appendChild(p)}m.appendChild(o)}else o.style.height=h.headerHeight()+"px";this.$71(o,j),l&&(o.firstChild.innerHTML=j.html)}},this.$71=function(b,c){for(var d=[],e=0;e<b.childNodes.length;e++){var f=b.childNodes[e];f.isActiveArea&&d.push(f)}for(var e=0;e<d.length;e++){var f=d[e];DayPilot.de(f)}if(c.areas)for(var g=c.areas,e=0;e<g.length;e++){var h=g[e];if("Visible"===h.v){var i=new a.Column(c.id,c.name,c.start),j=DayPilot.Areas.createArea(b,i,h);b.appendChild(j)}}},this.$4U=function(){if(this.showHeader){var a=this.nav.header,b=!0,c=this.$6h(e.headerLevels,!0),d=c.length;for(this.$72&&e.$4s.ielt9&&b&&(DayPilot.de(this.nav.header),this.$6N());this.$72&&a&&a.rows&&a.rows.length>0&&b;)this.$4o||DayPilot.pu(a.rows[0]),a.deleteRow(0);this.$72=!0;var f=e.cornerHTML||e.cornerHtml;if(!b){var g=e.nav.corner;g&&(this.cssOnly||(e.cornerBackColor?g.style.backgroundColor=e.cornerBackColor:g.style.backgroundColor=e.hourBackColor),this.$4o||DayPilot.pu(g.firstChild),g.firstChild.innerHTML=f?f:"")}for(var i=0;i<e.headerLevels;i++)this.$70(i+1,b);if(this.showAllDayEvents)for(var j=b?this.nav.header.insertRow(-1):this.nav.header.rows[e.headerLevels],i=0;i<d;i++){var k=c[i],l=b?j.insertCell(-1):j.cells[i];l.data=k,l.style.padding="0px",l.style.border="0px none",l.style.overflow="hidden",this.cssOnly||(l.style.lineHeight="1.2");var m=b?document.createElement("div"):l.firstChild;if(b){if(m.setAttribute("unselectable","on"),m.style.MozUserSelect="none",m.style.KhtmlUserSelect="none",m.style.WebkitUserSelect="none",m.style.overflow="hidden",m.style.position="relative",m.style.height=h.allDayHeaderHeight()+"px",this.cssOnly){m.className=this.$5c("_alldayheader");var o=document.createElement("div");o.className=this.$5c("_alldayheader_inner"),m.appendChild(o)}else{m.className=this.$5c("alldayheader"),m.style.textAlign="center",m.style.backgroundColor=k.backColor,m.style.cursor="default";var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top="0px",n.style.bottom="0px",n.setAttribute("unselectable","on"),n.style.borderTop="1px solid "+this.borderColor,m.appendChild(n),e.rtl?i===d-1?n.style.borderLeft="1px solid "+k.backColor:n.style.borderLeft="1px solid "+this.borderColor:i!==d-1&&(n.style.borderRight="1px solid "+this.borderColor)}l.appendChild(m)}m.style.height=h.allDayHeaderHeight()+"px"}}},this.$4y=function(){this.loadingLabelVisible&&this.nav.loading&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.$5j()+5+"px",this.nav.loading.style.display="")},this.$4N=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.$6P=function(){var a=this.$5V(),b=this.initScrollPos;if(!b){var c=this.businessBeginsHour;b=c*(60/e.cellDuration)*e.cellHeight}a.root=this,a.onscroll=this.$5T,0===a.scrollTop?a.scrollTop=b-this.$5Y():this.$5T()},this.$73=function(){var a=e.nav.top;return a.offsetWidth>0&&a.offsetHeight>0},this.$74=function(){var a=e.$73;a()||(e.$75=setInterval(function(){a()&&(e.$6P(),e.$51(),clearInterval(e.$75))},100))},this.scrollToY=function(a){var b=this.$5V();b.scrollTop=a},this.scrollToHour=function(a){var b=this.$5V(),c=a*(60/e.cellDuration)*e.cellHeight;b.scrollTop=c-this.$5Y()},this.$5V=function(){var a="Fixed"===this.columnWidthSpec;return a||this.$5U?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(a,b){alert("Error!\r\nResult: "+a+"\r\nContext:"+b)},this.$51=function(){if(e.showHeader){var a=this.$6L(),b=!!this.nav.cornerRight;if(this.$5U){this.nav.unifiedCornerRight&&DayPilot.de(this.nav.unifiedCornerRight);var c=this.$6E();if("100%"!=c&&parseInt(c)<this.$5V().clientWidth)return;var d=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);
var f=this.nav.unifiedCornerRight;f.rowSpan=this.nav.header.rows.length,f.style.width=d+"px";var g=document.createElement("div");g.setAttribute("unselectable","on"),this.cssOnly&&(g.className=this.$5c("_cornerright")),g.style.overflow="hidden",g.style.height=this.$5j()+"px",g.style.position="relative";var h=document.createElement("div");this.cssOnly&&(h.className=this.$5c("_cornerright_inner")),g.appendChild(h),f.appendChild(g);var i="Fixed"===this.columnWidthSpec;return void(!i&&this.nav.allday&&(this.nav.allday.style.right=d+"px"))}if(a!==b)if(a)this.$6O();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var f=this.nav.fullHeader.rows[0].cells[2];f.parentNode&&f.parentNode.removeChild(f)}this.nav.cornerRight=null}var j=this.nav.cornerRight;if(j){var d=DayPilot.sw(e.$5k());return this.cssOnly?j&&(j.style.width=d+"px"):d>=3&&(j.style.width=d-3+"px"),d}}},this.$58=function(a){if(a&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$4r>=this.autoRefreshMaxCount)){this.$4C();var b=this.autoRefreshInterval;if(!b||b<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){e.$76()},1e3*this.autoRefreshInterval)}},this.$4C=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$76=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||a.drag||a.selecting)){var b=!1;if("function"==typeof this.onAutoRefresh){var c={};c.i=this.$4r,c.preventDefault=function(){this.preventDefault.value=!0},e.onAutoRefresh(c),c.preventDefault.value&&(b=!0)}!b&&this.$4x()&&this.commandCallBack(this.autoRefreshCommand),this.$4r++}this.$4r<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){e.$76()},1e3*this.autoRefreshInterval))},this.$4G=function(){e.$50(),"Parent100Pct"===e.heightSpec&&e.setHeight(parseInt(e.nav.top.clientHeight,10)),e.$57()},this.$77=function(){a.globalHandlers||(a.globalHandlers=!0,DayPilot.re(document,"mousemove",a.gMouseMove),DayPilot.re(document,"mouseup",a.gMouseUp),DayPilot.re(document,DayPilot.touch.move,a.gTouchMove),DayPilot.re(document,DayPilot.touch.end,a.gTouchEnd)),DayPilot.re(window,"resize",this.$4G)},this.$6p=function(b){if(!g.active&&!g.using){b=b||window.event;var c=DayPilot.Util.mouseButton(b);if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!c.left){if(("move"===this.style.cursor||"Full"===e.moveBy&&this.event.client.moveEnabled())&&c.left){DayPilot.Global.moving=this;var d=DayPilot.Global.moving.helper={};d.oldColumn=e.$5b[this.event.part.dayIndex].id,a.originalMouse=DayPilot.mc(b),a.originalTop=this.offsetTop;var f=DayPilot.mo3(this,b);f?a.moveOffsetY=f.y:a.moveOffsetY=0,e.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,a.originalMouse=DayPilot.mc(b),a.originalHeight=this.offsetHeight,a.originalTop=this.offsetTop,e.nav.top.style.cursor=this.style.cursor;return!1}},this.$78=function(a){var b=this.$4n.events,c=this.events.list[a],d={};for(var f in c)d[f]=c[f];if(e.showEventStartEnd){var g=c.start.getDatePart().getTime()===c.end.getDatePart().getTime(),i=g?h.locale().timePattern:h.locale().dateTimePattern,j=c.start.toString(i),k=c.end.toString(i);d.html=d.text+" ("+j+" - "+k+")"}if("function"==typeof this.onBeforeEventRender){var l={};l.e=d,l.data=d,this.onBeforeEventRender(l)}b[a]=d},this.$6q={};var g=e.$6q;g.active=!1,g.start=null,g.timeout=null,g.startcell=null,this.$6q.getCellCoords=function(a){var b,c;a.touches?(b=a.touches[0].pageX,c=a.touches[0].pageY):(b=a.pageX,c=a.pageY);var d=DayPilot.abs(e.nav.main),f={x:b-d.x,y:c-d.y},g=e.nav.main.clientWidth/e.$5b.length,h={pageX:b,pageY:c,x:Math.floor(f.x/g),y:Math.floor(f.y/e.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}};return h},this.$6q.startSelecting=function(b){var c=e.nav.main.rows[b.y].cells[b.x];g.startcell=b,e.clearSelection(),a.column=a.getColumn(c),e.selectedCells.push(c),a.firstSelected=c,a.topSelectedCell=c,a.bottomSelectedCell=c,e.$5P()},this.$6q.extendSelection=function(b){var c=e.nav.main.rows[b.y].cells[b.x];e.clearSelection(),b.y<g.startcell.y?(e.selectedCells=a.getCellsBelow(c),a.topSelectedCell=e.selectedCells[0],a.bottomSelectedCell=a.firstSelected):(e.selectedCells=a.getCellsAbove(c),a.topSelectedCell=a.firstSelected,a.bottomSelectedCell=e.selectedCells[0]),e.$5P()},this.$6q.onMainTouchStart=function(a){if(!DayPilot.Util.isMouseEvent(a)&&!(g.active||a.touches.length>1)){g.using=!0;var b=g.getCellCoords(a);g.startCoords=b;var c=e.tapAndHoldTimeout;g.timeout=window.setTimeout(function(){switch(a.preventDefault(),g.active=!0,e.timeRangeTapAndHoldHandling){case"Select":g.startSelecting(b);break;case"ContextMenu":g.startSelecting(b),g.active=!1,e.contextMenuSelection&&e.contextMenuSelection.show(e.getSelection())}},c)}},this.$6q.onCellTouchMove=function(a){},this.$6q.onCellTouchEnd=function(a){if(!g.active)return void window.clearTimeout(g.timeout);a.preventDefault(),g.startcell=null;var b=e.getSelection();b.toString=function(){return"start: "+this.start+"\nend: "+this.end},e.$5I(b.start,b.end,b.resource),window.setTimeout(function(){g.active=!1},500)},this.$6q.startMoving=function(b,c){DayPilot.Global.moving=b;var d=DayPilot.Global.moving.helper={};d.oldColumn=e.$5b[b.event.part.dayIndex].id,a.originalMouse=c,a.originalTop=this.offsetTop;var f=DayPilot.abs(b);a.moveOffsetY=c.y-f.y,a.movingShadow||(a.movingShadow=e.$5a(DayPilot.Global.moving,!e.$4s.ie,e.shadow),a.movingShadow.style.width=a.movingShadow.parentNode.offsetWidth+1+"px")},this.$6q.startResizing=function(b,c,d){DayPilot.Global.resizing=b,b.dpBorder=c,a.originalMouse=d,a.originalHeight=b.offsetHeight,a.originalTop=b.offsetTop},this.$6q.updateResizing=function(a){e.$6V(a)},this.$6q.updateMoving=function(){var b=e.coords,c=e.cellHeight,d=0,f=a.moveOffsetY;f||(f=c/2);var g=Math.floor((b.y-f-d+c/2)/c)*c+d;g<d&&(g=d);var h=e.nav.main,i=h.clientHeight,j=parseInt(a.movingShadow.style.height);g+j>i&&(g=i-j),a.movingShadow.style.top=g+"px";var k=h.clientWidth/h.rows[0].cells.length,l=Math.floor(b.x/k);l<0&&(l=0);var m=e.nav.events;l<m.rows[0].cells.length&&l>=0&&a.movingShadow.column!==l&&(a.movingShadow.column=l,a.moveShadow(m.rows[0].cells[l]))},this.$6q.onEventTouchStart=function(a){if(!g.active&&!DayPilot.Util.isMouseEvent(a)){a.stopPropagation(),g.preventEventTap=!1,g.using=!0,g.startCoords=g.getCellCoords(a);var b=this,c=a.touches?a.touches[0].pageX:a.pageX,d=a.touches?a.touches[0].pageY:a.pageY,f={x:c,y:d,$d:this};e.coords=g.relativeCoords(a);var h=e.tapAndHoldTimeout;g.timeout=window.setTimeout(function(){var c=b.event;switch(g.active=!0,e.eventTapAndHoldHandling){case"Move":c.client.moveEnabled()&&g.startMoving(b,f);break;case"ContextMenu":var d=c.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(a),d?d.show(c):e.contextMenu&&e.contextMenu.show(c)}},h)}},this.$6q.onMainTouchMove=function(b){if(!DayPilot.Util.isMouseEvent(b)){if(g.timeout){var c=g.getCellCoords(b);c&&g.startCoords&&(c.pageX===g.startCoords.pageX&&c.pageY===g.startCoords.pageY||window.clearTimeout(e.$6q.timeout))}if(DayPilot.Global.moving&&a.movingShadow)return b.preventDefault(),e.coords=g.relativeCoords(b),void g.updateMoving();if(DayPilot.Global.resizing){b.preventDefault();var d=b.touches?b.touches[0]:b,c={x:d.pageX,y:d.pageY};return void g.updateResizing(c)}if(g.startcell){if(b.preventDefault(),!g.active)return void window.clearTimeout(g.timeout);var c=g.getCellCoords(b);g.extendSelection(c)}g.preventEventTap=!0}},this.$6q.relativeCoords=function(a){var b=e.nav.main,c=a.touches?a.touches[0].pageX:a.pageX,d=a.touches?a.touches[0].pageY:a.pageY,f=DayPilot.abs(b),g={x:c-f.x,y:d-f.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return g},this.$6q.onMainTouchEnd=function(b){if(!DayPilot.Util.isMouseEvent(b))if(DayPilot.Global.moving){g.active=!1,b.preventDefault(),b.stopPropagation();var c=a.movingShadow.offsetTop;a.deleteShadow(a.movingShadow);var d=DayPilot.Global.moving.event,f=a.movingShadow.column;DayPilot.Global.moving=null,a.movingShadow=null,d.calendar.$5B(d,f,c,b,a.drag)}else if(g.startcell){if(!g.active)return void window.clearTimeout(g.timeout);b.preventDefault(),g.startcell=null;var h=e.getSelection();h.toString=function(){return"start: "+this.start+"\nend: "+this.end},e.$5I(h.start,h.end,h.resource),window.setTimeout(function(){g.active=!1},500)}},this.$6q.onEventTouchMove=function(a){g.preventEventTap=!0},this.$6q.onEventTouchEnd=function(a){if(!DayPilot.Util.isMouseEvent(a)){if(!g.active){if(g.preventEventTap)return;return a.preventDefault(),window.clearTimeout(g.timeout),void e.$5o(this,!1)}return g.active=!1,g.timeout?void window.clearTimeout(g.timeout):void a.preventDefault()}},this.$6n=function(b){var c=5,d=Math.max(e.durationBarWidth,10),g="Top"===e.moveBy;if("undefined"!=typeof a){var h=DayPilot.mo3(this,b);if(h){var i=this;if(!i.active){var j=[];i.event.client.deleteEnabled()&&j.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:e.$5c("_event_delete"),js:function(a){e.$5w(a)}});var k=i.event.cache?i.event.cache.areas:i.event.data.areas;k&&k.length>0&&(j=j.concat(k)),DayPilot.Areas.showAreas(i,i.event,null,j),e.cssOnly&&DayPilot.Util.addClass(i,e.$5c("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var l=this.isFirst,m=this.isLast;if("Disabled"!==e.moveBy&&"None"!==e.moveBy&&(!g&&h.x<=d&&this.event.client.moveEnabled()?l?this.style.cursor="move":this.style.cursor="not-allowed":!g&&h.y<=c&&this.event.client.resizeEnabled()?l?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":g&&h.y<=d&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-h.y<=c&&this.event.client.resizeEnabled()?m?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.event.client.clickEnabled()?this.style.cursor="pointer":this.style.cursor="default"),"undefined"!=typeof DayPilotBubble&&e.bubble&&"Disabled"!==e.eventHoverHandling&&("default"===this.style.cursor||"pointer"===this.style.cursor))){var n=this.$79&&h.x===this.$79.x&&h.y===this.$79.y;n||(this.$79=h,e.bubble.showEvent(this.event))}}}}},this.$6o=function(a){e.cssOnly&&DayPilot.Util.removeClass(this,e.$5c("_event_hover")),e.bubble&&e.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,a)},this.$7a=null,this.$53=function(){if(this.showCurrentTime){this.$7b();var a=(new DayPilot.Date).addMinutes(e.showCurrentTimeOffset);if("Full"===e.showCurrentTimeMode)this.$7c(a);else{if("Day"!==e.showCurrentTimeMode)throw"Invalid DayPilot.Calendar.showCurrentTimeMode value: "+e.showCurrentTimeMode;this.$7d(a)}if(this.nav.events&&!this.$7a){var b=30;this.$7a=setTimeout(function(){e.$7a=null,e.$53()},1e3*b)}}},this.$7b=function(){DayPilot.de(e.elements.separators),e.elements.separators=[]},this.$7d=function(a){var b=a.getTime(),c=e.nav.events;if(c)for(var d=0;d<e.$5b.length;d++){var f=e.$5b[d],g=e.$5e(!0),h=new DayPilot.Date(f.start).addHours(this.$5i(!0)),i=h.getTime(),j=h.addTime(g),k=j.getTime();if(i<=b&&b<=k){var l=this.$7e(a,f.start).top-1,m=c.rows[0].cells[d],n=m.separators,o=document.createElement("div");o.style.position="absolute",o.style.top=l+"px",o.style.height="1px",o.style.left="0px",o.style.right="0px",o.className=e.$5c("_now"),n.insertBefore(o,n.firstChild),e.elements.separators.push(o)}}},this.$7c=function(a){var b=a.getTime(),c=e.nav.events;if(c){var d=e.$5b[0];if(d)for(var f=d.start.getDatePart().addTime(a.getTimePart()),g=this.$7e(f,d.start).top-1,h=0;h<e.$5b.length;h++){var d=e.$5b[h],i=e.$5e(!0),j=new DayPilot.Date(d.start).addHours(this.$5i(!0)),k=j.getTime(),l=j.addTime(i),m=l.getTime();if(k<=b&&b<=m){var n=document.createElement("div");return n.style.position="absolute",n.style.top=g+"px",n.style.height="1px",n.style.left="0px",n.style.right="0px",n.className=e.$5c("_now"),e.nav.events.appendChild(n),void e.elements.separators.push(n)}}}},this.$4S=function(a){if(a?this.events.list=a:a=this.events.list,a){this.$6k={},this.$6k.events=[],this.$6k.lines=[];var b=a.length,c=this.$5e(!0);this.$4n.pixels={};var d=[];this.$5X=[],this.$5y=1e4,this.$5h=0,this.startDate=new DayPilot.Date(this.startDate);for(var f=0;f<b;f++){var g=a[f];g.start=new DayPilot.Date(g.start),g.end=new DayPilot.Date(g.end)}if("function"==typeof this.onBeforeEventRender||e.showEventStartEnd)for(var f=0;f<b;f++)this.$78(f);for(var i="Resources"===this.viewType,j=this.$6i(),k=j.start,l=j.end,f=0;f<this.$5b.length;f++){var m={};m.minEnd=1e6,m.maxStart=-1,this.$5X.push(m);var n=this.$5b[f];n.events=[],n.lines=[],n.blocks=[];var o=new DayPilot.Date(n.start).addHours(this.$5i(!0)),p=o.getTime(),q=o.addTime(c),r=q.getTime();i&&(k=o.getDatePart(),l=q.getDatePart());for(var s=0;s<b;s++)if(!d[s]){var g=a[s],t=g.start,u=g.end,v=t.getTime(),w=u.getTime();if(!(w<v))if(g.allday){var x=!1;if(x=v===w?!(w<k.getTime()||v>=l.getTime()):"Date"===e.allDayEnd?!(w<k.getTime()||v>=l.getTime()):!(w<=k.getTime()||v>=l.getTime()),i&&(x=x&&(g.resource===n.id||"*"===n.id)),x){var y=new DayPilot.Event(g,this);y.part.start=k.getTime()<v?t:k,y.part.end=l.getTime()>w?u:l,y.part.colStart=DayPilot.DateUtil.daysDiff(k,y.part.start),y.part.colWidth=DayPilot.DateUtil.daysSpan(y.part.start,y.part.end)+1,i&&(y.part.colStart=f,y.part.colWidth=1),this.$6k.events.push(y),("function"==typeof this.onBeforeEventRender||e.showEventStartEnd)&&(y.cache=this.$4n.events[s]),d[s]=!0,!i||y.part.start.getTime()===v&&y.part.end.getTime()===w||(d[s]=!1)}}else{var x=!1;if(x=i?n.id===g.resource&&!(w<=p||v>=r):!(w<=p||v>=r)||w===v&&v===p){var y=new DayPilot.Event(g,e);y.part.dayIndex=f,y.part.start=p<v?t:o,y.part.end=r>w?u:q;var z=this.$7e(y.part.start,n.start),A=this.$7e(y.part.end,n.start),B=z.top,C=A.top;if(B===C&&(z.cut||A.cut))continue;y.part.box=h.useBox(w-v);var D=0;if(y.part.box){var E=A.boxBottom;y.part.top=Math.floor(B/this.cellHeight)*this.cellHeight+D,y.part.height=Math.max(Math.ceil(E/this.cellHeight)*this.cellHeight-y.part.top,this.cellHeight-1),y.part.barTop=Math.max(B-y.part.top-1,0),y.part.barHeight=Math.max(C-B-2,1)}else y.part.top=B+D,y.part.height=Math.max(C-B,0),y.part.barTop=0,y.part.barHeight=Math.max(C-B-2,1);var t=y.part.top,u=y.part.top+y.part.height;t>m.maxStart&&(m.maxStart=t),u<m.minEnd&&(m.minEnd=u),t<this.$5y&&(this.$5y=t),u>this.$5h&&(this.$5h=u),n.events.push(y),("function"==typeof this.onBeforeEventRender||e.showEventStartEnd)&&(y.cache=this.$4n.events[s]),y.part.start.getTime()===v&&y.part.end.getTime()===w&&(d[s]=!0)}}}}for(var f=0;f<this.$5b.length;f++){var n=this.$5b[f];n.events.sort(this.$7f);for(var s=0;s<n.events.length;s++){var g=n.events[s];n.putIntoBlock(g)}for(var s=0;s<n.blocks.length;s++){var F=n.blocks[s];F.events.sort(this.$7g);for(var G=0;G<F.events.length;G++){var g=F.events[G];F.putIntoLine(g)}}}this.$6k.events.sort(this.$7g),this.$6k.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.colStart,a.part.colWidth))return d.push(a),c}var d=[];return d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.colStart||a>f.part.colStart+f.part.colWidth-1))return!1}return!0},d.push(a),this.lines.push(d),this.lines.length-1};for(var f=0;f<this.$6k.events.length;f++){var g=this.$6k.events[f];this.$6k.putIntoLine(g)}var H=Math.max(this.$6k.lines.length,1);this.$4n.allDayHeaderHeight=H*(h.allDayEventHeight()+2)+2}},this.$7f=function(a,b){if(!(a&&b&&a.start&&b.start))return 0;var c=a.start().ticks-b.start().ticks;if(0!==c)return c;var d=b.end().ticks-a.end().ticks;return d},this.$7g=function(a,b){if(!a||!b)return 0;if(!(a.data&&b.data&&a.data.sort&&b.data.sort&&0!==a.data.sort.length&&0!==b.data.sort.length))return e.$7f(a,b);for(var c=0,d=0;0===c&&"undefined"!=typeof a.data.sort[d]&&"undefined"!=typeof b.data.sort[d];)c=a.data.sort[d]===b.data.sort[d]?0:e.$7h(a.data.sort[d],b.data.sort[d],e.sortDirections[d]),d++;return c},this.$7h=function(a,b,c){var d="desc"!==c,e=d?-1:1,f=-e;if(null===a&&null===b)return 0;if(null===b)return f;if(null===a)return e;var g=[];return g[0]=a,g[1]=b,g.sort(),a===g[0]?e:f},this.$7i=function(a){for(var b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];if(c.event===a||c.event.data===a.data)return c}return null},this.events.find=function(a){if(!e.events.list||"undefined"==typeof e.events.list.length)return null;for(var b=e.events.list.length,c=0;c<b;c++)if(e.events.list[c].id===a)return new DayPilot.Event(e.events.list[c],e);return null},this.events.findRecurrent=function(a,b){if(!e.events.list||"undefined"==typeof e.events.list.length)return null;for(var c=e.events.list.length,d=0;d<c;d++)if(e.events.list[d].recurrentMasterId===a&&e.events.list[d].start.getTime()===b.getTime())return new DayPilot.Event(e.events.list[d],e);return null},this.events.all=function(){for(var a=[],b=0;b<e.events.list.length;b++){var c=new DayPilot.Event(e.events.list[b],e);a.push(c)}return DayPilot.list(a)},this.events.edit=function(a){function b(){var b=e.$7i(a);b&&e.$5p(b)}b()},this.events.update=function(a,b){var c={};c.oldEvent=new DayPilot.Event(a.copy(),e),c.newEvent=new DayPilot.Event(a.temp(),e);var d=new DayPilot.Action(e,"EventUpdate",c,b);return a.commit(),e.$4q&&e.update(),e.$7j.notify(),d},this.events.remove=function(a,b){var c={};c.e=new DayPilot.Event(a.data,e);var d=new DayPilot.Action(e,"EventRemove",c,b),f=DayPilot.indexOf(e.events.list,a.data);return e.events.list.splice(f,1),e.$4q&&e.update(),e.$7j.notify(),d},this.events.add=function(a,b){a.calendar=e,e.events.list||(e.events.list=[]),e.events.list.push(a.data);var c={};c.e=a;var d=new DayPilot.Action(e,"EventAdd",c,b);return e.$4q&&e.update(),e.$7j.notify(),d},this.events.load=function(a,b,c){var d=function(a){var b={};b.exception=a.exception,b.request=a.request,"function"==typeof c&&c(b)},f=function(a){var f,c=a.request;try{f=DayPilot.Util.parseJSON(c.responseText)}catch(a){var g={};return g.exception=a,void d(g)}if(DayPilot.isArray(f)){var h={};if(h.preventDefault=function(){this.preventDefault.value=!0},h.data=f,"function"==typeof b&&b(h),h.preventDefault.value)return;e.events.list=f,e.$4q&&e.update()}};DayPilot.ajax({method:"POST",data:{start:e.visibleStart().toString(),end:e.visibleEnd().toString()},url:a,success:f,error:d})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(a){if(a){if(!a.isAction)throw"DayPilot.Action object required for queue.add()";e.queue.list.push(a)}},this.queue.notify=function(a){var b={};b.actions=e.queue.list,e.$4w("Notify",b,a,"Notify"),e.queue.list=[]},this.queue.clear=function(){e.queue.list=[]},this.queue.pop=function(){return e.queue.list.pop()},this.$7k=function(a){if(this.$4q&&this.$5b){var a=a||{},b=!a.eventsOnly;e.cssOnly||(e.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$4x()||(e.cellProperties={}),b?(e.$4D(),this.$7l(),this.$4Q(),this.$4S(),e.$4U(),e.$4V(),e.$4T(),e.$4W(),e.$4X(),e.$4t(),e.$4Y(),e.$5P(),e.$4Z(),e.$50(),e.$51(),e.$52(),this.$55(),this.$56(),this.$53(),e.$57()):(e.$4D(),e.$4S(),e.$4T(),e.$55(),e.$56(),e.$57()),this.visible?this.show():this.hide()}},this.update=function(){if(this.$7k(),"function"==typeof e.onAfterRender){var a={};a.isUpdate=!0,a.data=null,e.onAfterRender(a)}},this.show=function(){e.visible=!0,e.nav.top.style.display="",e.$4G(),e.$51(),e.$5T()},this.hide=function(){e.visible=!1,e.nav.top.style.display="none"},this.$7j={},this.$7j.scope=null,this.$7j.notify=function(){e.$7j.scope&&e.$7j.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$7e=function(a,b){b||(b=this.startDate);var c=b.getTime(),d=a.getTime(),e=this.$4n.pixels[d+"_"+c];if(e)return e;c=b.addHours(this.$5i(!0)).getTime();var f=60*this.cellDuration*1e3,g=d-c,h=g%f,i=g-h,j=i+f;0===h&&(j=i);var k={};return k.cut=!1,k.top=this.$7m(g),k.boxTop=this.$7m(i),k.boxBottom=this.$7m(j),this.$4n.pixels[d+"_"+c]=k,k},this.$7m=function(a){return Math.floor(this.cellHeight*a/(6e4*this.cellDuration))},this.$7l=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.$7n=h.allDayEventHeight()+4},this.$4T=function(){var a=this.$5j(),b=this.$6t();if(this.nav.corner&&(this.nav.corner.style.height=a+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=a+"px"),this.nav.mid&&(this.nav.mid.style.height=a+"px"),this.showAllDayEvents&&this.nav.header)for(var c=this.nav.header.rows[this.nav.header.rows.length-1],d=0;d<c.cells.length;d++){var e=c.cells[d];e.firstChild.style.height=h.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=a+"px"),this.nav.scroll.style.top=a+"px",this.nav.top.style.height=b+"px"},this.$50=function(){var a=this.$6u();this.nav.scroll&&a>0&&(this.nav.scroll.style.height=a+"px",this.$5W=e.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=a+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=a+"px")),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.$6t()+"px"},this.setHeight=function(a){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.cssOnly?this.height=a-this.$5j():this.height=a-(this.$5j()+3),this.$50()},this.$7o=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$5c(a),document.body.appendChild(b);var c=b.offsetHeight,d=b.offsetWidth;document.body.removeChild(b);var e={};return e.height=c,e.width=d,e},this.$6l={};var h=this.$6l;h.locale=function(){return DayPilot.Locale.find(e.locale)},h.weekStarts=function(){return"number"==typeof e.weekStarts?e.weekStarts:h.locale().weekStarts},h.timeFormat=function(){return"Auto"!==e.timeFormat?e.timeFormat:this.locale().timeFormat},h.useBox=function(a){return"Always"===e.useEventBoxes||"Never"!==e.useEventBoxes&&a<60*e.cellDuration*1e3},h.notifyType=function(){var a;if("Immediate"===e.notifyCommit)a="Notify";else{if("Queue"!==e.notifyCommit)throw"Invalid notifyCommit value: "+e.notifyCommit;a="Queue"}return a},h.allDayEventHeight=function(){if(e.$4n.allDayEventHeight)return e.$4n.allDayEventHeight;var a=e.$7o("_alldayevent_height").height;return a||(a=e.allDayEventHeight),e.$4n.allDayEventHeight=a,a},h.allDayHeaderHeight=function(){if(e.$4n.allDayHeaderHeight)return e.$4n.allDayHeaderHeight;var a=e.$7n;return e.$4n.allDayHeaderHeight=a,a},h.headerHeight=function(){if(e.$4n.headerHeight)return e.$4n.headerHeight;var a=e.$7o("_header_height").height;return a||(a=e.headerHeight),e.$4n.headerHeight=a,a},this.$7p=function(){return!!this.backendUrl&&("undefined"==typeof e.events.list||!e.events.list)},this.$7q=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+b+"'."}},this.$7r=function(){this.$7q(),this.$7l(),this.$4Q(),this.$6v(),this.$4U(),this.$4V(),this.$4Y(),this.$51(),this.$6P(),this.$77(),this.$4H(),this.$52(),a.register(this),this.$4G(),this.$53(),this.$74(),this.$58(),this.$4w("Init")},this.init=function(){if(this.$7q(),!this.nav.top.dp){var b=this.$7p();if(e.cssOnly||(e.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),b)return this.$7r(),void(this.$4q=!0);this.$7l(),this.$4Q(),this.$4R(),this.events.list||(this.events.list=[]),this.$4S(),this.$6v(),this.$4U(),this.$4V(),this.$4Y(),this.$54(),this.$52(),this.$51(),this.$6P(),this.$77(),this.$4H(),a.register(this),this.$4T(),this.$55(),this.$56(),this.$4G(),this.messageHTML&&this.message(this.messageHTML),this.$53(),this.$4O(null,!1),this.$74(),this.$58(),this.$4q=!0,this.$7s()}},this.$7t=null,this.$7u=function(a){var b={events:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?e.events.list=a.list:e.events.list=a)}},scrollToHour:{postInit:function(){"undefined"!=typeof this.data&&e.scrollToHour(this.data)}}};this.$7t=b;for(var c in a)if(b[c]){var d=b[c];d.data=a[c],d.preInit&&d.preInit()}else e[c]=a[c]},this.$7s=function(){var a=this.$7t;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.internal={},this.internal.initialized=function(){return e.$4q},this.internal.invokeEvent=this.$5x,this.internal.eventMenuClick=this.$5G,this.internal.timeRangeMenuClick=this.$5H,this.internal.bubbleCallBack=this.$5E,this.internal.findEventDiv=this.$7i,this.internal.eventDeleteDispatch=this.$5w,this.internal.touch=this.$6q,this.Init=this.init,this.$7u(c)};var a={};a.topSelectedCell=null,a.bottomSelectedCell=null,a.selecting=!1,a.column=null,a.firstSelected=null,a.firstMousePos=null,a.originalMouse=null,a.originalHeight=null,a.originalTop=null,a.globalHandlers=!1,a.editing=!1,a.originalText=null,a.register=function(b){a.registered||(a.registered=[]);for(var c=a.registered,d=0;d<c.length;d++)if(c[d]===b)return;c.push(b)},a.unregister=function(b){var c=a.registered;if(c){var d=DayPilot.indexOf(c,b);d!==-1&&c.splice(d,1),0===c.length&&(c=null)}c||(DayPilot.ue(document,"mousemove",a.gMouseMove),DayPilot.ue(document,"mouseup",a.gMouseUp),DayPilot.ue(document,"touchmove",a.gTouchMove),DayPilot.ue(document,"touchend",a.gTouchEnd),a.globalHandlers=!1)},a.getCellsAbove=function(b){for(var c=[],d=a.getColumn(b),e=b.parentNode,f=null;e&&f!==a.firstSelected;)for(f=e.getElementsByTagName("td")[d],c.push(f),e=e.previousSibling;e&&"TR"!==e.tagName;)e=e.previousSibling;return c},a.getCellsBelow=function(b){for(var c=[],d=a.getColumn(b),e=b.parentNode,f=null;e&&f!==a.firstSelected;)for(f=e.getElementsByTagName("td")[d],c.push(f),e=e.nextSibling;e&&"TR"!==e.tagName;)e=e.nextSibling;return c},a.getColumn=function(a){for(var b=0;a.previousSibling;)a=a.previousSibling,"TD"===a.tagName&&b++;return b},a.getShadowColumn=function(a){if(!a)return null;for(var b=a.parentNode;b&&"TD"!==b.tagName;)b=b.parentNode;return b},a.gTouchMove=function(b){if(!DayPilot.Util.isMouseEvent(b)&&a.drag){b.preventDefault();var c=b.touches?b.touches[0].pageX:b.pageX,d=b.touches?b.touches[0].pageY:b.pageY,e={};e.x=c,e.y=d;var f=function(){for(var a=b.touches?b.touches[0].clientX:b.clientX,c=b.touches?b.touches[0].clientY:b.clientY,d=document.elementFromPoint(a,c);d&&d.parentNode;)if(d=d.parentNode,d.daypilotMainD)return d.calendar;return!1}();if(f){if(a.gShadow&&document.body.removeChild(a.gShadow),a.gShadow=null,f.coords=f.$6q.relativeCoords(b),!a.movingShadow&&f.coords){var g=f.$5a(a.drag,!1,a.drag.shadowType);if(g){a.movingShadow=g;var h=DayPilot.Date.today(),b={value:a.drag.id,start:h,end:h.addSeconds(a.drag.duration),text:a.drag.text},i=new DayPilot.Event(b,f);i.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=i,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&f.$6q.updateMoving()}else{DayPilot.de(a.movingShadow),DayPilot.Global.moving=null,a.movingShadow=null,a.gShadow||(a.gShadow=a.createGShadow(a.drag.shadowType));var g=a.gShadow;g.style.left=e.x+"px",g.style.top=e.y+"px"}}},a.gTouchEnd=function(b){DayPilot.Util.isMouseEvent(b)||a.gMouseUp(b)},a.gMouseMove=function(b){if("undefined"!=typeof a&&!(b.insideMainD||b.srcElement&&b.srcElement.inside)){var c=DayPilot.mc(b);if(a.drag){document.body.style.cursor="move",a.gShadow||(a.gShadow=a.createGShadow(a.drag.shadowType));var d=a.gShadow;d.style.left=c.x+"px",d.style.top=c.y+"px",DayPilot.Global.moving=null,a.deleteShadow(a.movingShadow),a.movingShadow=null}for(var e=0;e<a.registered.length;e++)a.registered[e].$4J&&a.registered[e].$4J()}},a.gUnload=function(b){if(a.registered)for(var c=a.registered,d=0;d<c.length;d++){var e=c[d];a.unregister(e)}},a.gMouseUp=function(b){var b=b||window.event;if(DayPilot.Global.resizing){if(!a.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var c=DayPilot.Global.resizing.event,d=DayPilot.Global.resizing.dpBorder,e=a.resizingShadow.clientHeight,f=a.resizingShadow.offsetTop;if(a.deleteShadow(a.resizingShadow),a.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",c.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,c.calendar.overlap)return;c.calendar.$5z(c,e,f,d)}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return a.deleteShadow(a.movingShadow),DayPilot.Global.moving=null,void(a.movingShadow=null);if(!a.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var f=(DayPilot.Global.moving.helper.oldColumn,a.movingShadow.offsetTop);a.deleteShadow(a.movingShadow);var c=DayPilot.Global.moving.event,h=a.movingShadow.column,i=a.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,a.movingShadow=null,i&&(c.calendar.todo||(c.calendar.todo={}),c.calendar.todo.del=i.element),c.calendar.overlap)return;var j=b||window.event;c.calendar.$5B(c,h,f,j,i)}a.drag&&(a.drag=null,document.body.style.cursor=""),a.gShadow&&(document.body.removeChild(a.gShadow),a.gShadow=null),a.moveOffsetY=null},a.dragStart=function(b,c,d,e,f){DayPilot.us(b);var g=a.drag={};return g.element=b,g.duration=c,g.text=e,g.id=d,g.shadowType=f?f:"Fill",!1},DayPilot.Calendar.makeDraggable=function(b){var c=b.element,d=b.keepElement?null:c,e=b.duration||1;navigator.msPointerEnabled&&(c.style.msTouchAction="none",c.style.touchAction="none"),DayPilot.us(c),DayPilot.re(c,"mousedown",function(c){a.dragStart(d,e,b.id,b.text);var f=c.target||c.srcElement;if(f.tagName){var g=f.tagName.toLowerCase();if("textarea"===g||"select"===g||"input"===g)return!1}return c.preventDefault&&c.preventDefault(),!1});var f=function(c){if(!DayPilot.Util.isMouseEvent(c)){var f=0;window.setTimeout(function(){var f=a.drag={};f.element=d,f.id=b.id,f.text=b.text||"",f.duration=e,f.shadowType="Fill",a.gTouchMove(c),c.preventDefault()},f),c.preventDefault()}};DayPilot.re(c,DayPilot.touch.start,f)},a.deleteShadow=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},a.createGShadow=function(a){var b=document.createElement("div");return b.setAttribute("unselectable","on"),b.style.position="absolute",b.style.width="100px",b.style.height="20px",b.style.border="2px dotted #666666",b.style.zIndex=101,b.style.pointerEvents="none","Fill"===a&&(b.style.backgroundColor="#aaaaaa",b.style.opacity=.5,b.style.filter="alpha(opacity=50)",b.style.border="2px solid #aaaaaa"),document.body.appendChild(b),b},a.moveShadow=function(b){var c=a.movingShadow;c.parentNode&&c.parentNode.removeChild(c),b.firstChild.appendChild(c),c.style.left="0px",c.style.width=a.movingShadow.parentNode.offsetWidth+"px"},a.Column=function(a,b,c){this.value=a,this.id=a,this.name=b,this.date=new DayPilot.Date(c)},DayPilot.CalendarVisible.dragStart=a.dragStart,DayPilot.CalendarVisible.Calendar=a.Calendar,"undefined"!=typeof jQuery&&!function(a){a.fn.daypilotCalendar=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Calendar(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotCalendar",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(c,d){return c.replaceWith(this.template.replace("{{id}};",d.id)),function(c,d,e){var f=new DayPilot.Calendar(d[0]);f.$7j.scope=c,f.init();var g=e.id;g&&(c[g]=f);var h=e.publishAs;if(h){var i=a(h),j=i.assign;j(c,f)}for(var k in e)0===k.indexOf("on")&&!function(b){f[b]=function(d){var f=a(e[b]);c.$apply(function(){f(c,{args:d})})}}(k);var l=c.$watch,m=e.config||e.daypilotConfig,n=e.events||e.daypilotEvents;l.call(c,m,function(a,b){for(var c in a)f[c]=a[c];f.update()},!0),l.call(c,n,function(a){f.events.list=a,f.$7k({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded();
}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.DatePicker&&(DayPilot.DatePicker=function(a){this.v="2130";var b="navigator_"+(new Date).getTime(),c=this;this.onShow=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.$m.locale().datePattern,this.theme=null,this.patterns=[],a)for(var b in a)this[b]=a[b];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var a=this.$n();this.resetTarget&&!a&&this.$o(this.date),DayPilot.re(document,"mousedown",function(){c.close()})},this.close=function(){this.$p&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.$n=function(){var a=this.$q();if(!a)return this.date;var b=null;if(b="INPUT"===a.tagName?a.value:a.innerText,!b)return null;for(var d=DayPilot.Date.parse(b,c.pattern),e=0;e<c.patterns.length;e++){if(d)return d;d=DayPilot.Date.parse(b,c.patterns[e])}return d},this.$o=function(a){var b=this.$q();if(b){var d=a.toString(c.pattern,c.locale);"INPUT"===b.tagName?b.value=d:b.innerHTML=d}},this.$m={},this.$m.locale=function(){return DayPilot.Locale.find(c.locale)},this.$q=function(){var a=this.target,b=a&&a.nodeType&&1===a.nodeType?a:document.getElementById(a);return b},this.show=function(){var a=this.$q(),d=this.navigator,d=new DayPilot.Navigator(b);d.api=2,d.cssOnly=!0,d.theme=c.theme,d.weekStarts="Auto",d.locale=c.locale,d.onTimeRangeSelected=function(a){c.date=a.start;var b=a.start.addTime(d.$r),e=b.toString(c.pattern,c.locale),a={};a.start=b,a.date=b,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeRangeSelect&&(c.onTimeRangeSelect(a),a.preventDefault.value)||(c.$o(e),c.close(),"function"==typeof c.onTimeRangeSelected&&c.onTimeRangeSelected(a))},this.navigator=d;var e=DayPilot.abs(a),f=a.offsetHeight,g=document.createElement("div");g.style.position="absolute",g.style.left=e.x+"px",g.style.top=e.y+f+"px";var h=document.createElement("div");h.id=b,g.appendChild(h),DayPilot.re(g,"mousedown",function(a){var a=a||window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}),document.body.appendChild(g),this.div=g;var i=c.$n()||(new DayPilot.Date).getDatePart();d.startDate=i,d.$r=i.getTimePart(),d.selectionStart=i.getDatePart(),d.init(),this.$p=!0,this.onShow&&this.onShow()},this.prepare()})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Gantt){var a=function(){};DayPilot.Gantt=function(b,c){this.v="2130";var d=this;this.id=b,this.isGantt=!0;var e=new DayPilot.Scheduler(b);this.scheduler=e,e.viewType="Resources",e.onCallBackHeader=function(a){a.header.taskGroupMode=d.taskGroupMode,a.header.rowHeaderColumns=d.columns,a.header.clientState=d.clientState},e.onGetNodeState=function(a){var b=function(a){var b={};if(a.tags)for(var c in a.tags)b[c]=""+a.tags[c];return b},c=function(a){var c=a.task,d={};return d.start=c.start,d.end=c.end,d.id=c.id,d.complete=c.complete,d.text=c.text,d.type=c.type,d.expanded=a.expanded,d.loaded=a.loaded,d.tags=b(c),d.versions=c.versions,d.children=e.internal.getNodeChildren(a.children),d};a.result=c(a.row),a.preventDefault()},e.$0r=function(a){},e.onCallBackResult=function(a){var b=a.result;a.preventDefault();var c=function(){b.scrollToTaskId&&e.scrollToResource(b.scrollToTaskId)};if("None"===b.updateType)return void c();var f=function(a){for(var c=0;c<a.length;c++){var e=a[c];"undefined"!=typeof b[e]&&(d[e]=b[e])}};d.links.list=b.links,d.tasks.list=b.tasks,d.startDate=new DayPilot.Date(b.startDate),f(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),f(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),h.translate(),h.$0s(),h.$0t(),e.update(),e.show(),c()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null,this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=10,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=24,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.visible=!0,this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(a){if(a){var b=a.isLink?a.data:a;d.links.list.push(b),d.$0u&&(h.$0t(),e.update()),d.$0v.notify()}},this.links.remove=function(a){if(a){var b;b=a.isLink?a.data:a;var c=DayPilot.indexOf(d.links.list,b);c!==-1&&(d.links.list.splice(c,1),d.$0u&&(h.$0t(),e.update()),d.$0v.notify())}},this.links.find=function(a){if(!DayPilot.isArray(d.links.list))return null;for(var b=0;b<d.links.list.length;b++){var c=d.links.list[b];if(c.id===a)return new DayPilot.Link(c,d)}return null},this.links.findFromTo=function(a,b){if(!DayPilot.isArray(d.links.list))return null;for(var c=0;c<d.links.list.length;c++){var e=d.links.list[c];if(e.from===a&&e.to===b)return new DayPilot.Link(e,d)}return null},this.$0w={};var f=this.$0w;f.timeout=null,f.update=function(){d.$0u&&(window.clearTimeout(f.timeout),f.timeout=setTimeout(function(){h.$0s(),e.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(a){if(a){if(a instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var b=a.isTask?a.data:a;d.tasks.list.push(b),f.update(),d.$0v.notify()}},this.tasks.find=function(a){var b=g.findInCache(a);return b?new DayPilot.Task(b,d):null},this.tasks.update=function(a){if(a){if(!a.isTask)throw"DayPilot.Task object expected";a.commit(),f.update(),d.$0v.notify()}},this.tasks.remove=function(a){if(a){if(!a.isTask)throw"DayPilot.Task object expected";var b=g.findParentArray(a.data);if(b){var c=DayPilot.indexOf(b,a.data);b.splice(c,1),f.update(),d.$0v.notify()}}},this.visibleStart=function(){return e.visibleStart()},this.visibleEnd=function(){return e.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.$0x=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$0y=function(){if("string"==typeof d.startDate&&(d.startDate=new DayPilot.Date(d.startDate)),!d.startDate||!d.days){for(var a=DayPilot.Date.today(),b=a.addDays(1),c=null,f=null,g=0;g<d.tasks.list.length;g++){var h=d.tasks.list[g];a=new DayPilot.Date(h.start),b=new DayPilot.Date(h.end),(null===c||a.getTime()<c)&&(c=a.getTime()),(null===f||b.getTime()>f)&&(f=b.getTime())}c&&f?(a=new DayPilot.Date(c).getDatePart(),b=new DayPilot.Date(f).getDatePart().addDays(1),e.startDate=d.startDate||a,e.days=d.days||DayPilot.DateUtil.daysDiff(a,b)):(e.startDate=a,e.days=1)}},this.commandCallBack=function(a,b){h.translate(),e.commandCallBack(a,b)},this.message=function(a,b,c,d){e.message(a,b,c,d)},this.setHeight=function(a){e.setHeight(a)},this.$0z=function(){return!!this.backendUrl&&(!DayPilot.isArray(d.tasks.list)||0==d.tasks.list.length)},this.init=function(){h.translate(),h.$0s(),h.$0t(),this.$0y(),e.init(),this.$0u=!0,this.$0A(),this.$0z()&&e.internal.callback("Init")},this.update=function(){h.translate(),h.$0s(),h.$0t(),d.$0y(),e.update()},this.scrollTo=function(a){e.scrollTo(a)},this.scrollToTask=function(a){e.scrollToResource(a)},this.$0B={};var g=this.$0B;g.cache={},g.clearCache=function(){g.cache={}},g.addToCache=function(a,b){var c=a.id;if(c){var d={};if(d.isTaskWrapper=!0,d.data=a,d.parent=b,g.cache[c])throw"Duplicate task id detected";g.cache[c]=d}},g.findInCache=function(a){return a?g.cache[a.toString()]:null},g.getProperty=function(a,b){return a.tags&&a.tags[b]?a.tags[b]:a[b]},g.findParentArray=function(a){return g.findInArray(d.tasks.list,a)},g.findInArray=function(a,b){if(DayPilot.indexOf(a,b)!==-1)return a;for(var c=0;c<a.length;c++){var d=a[c];if(d.children&&d.children.length>0){var e=g.findInArray(d.children,b);if(e)return e}}return null},this.$0C={};var h=this.$0C;h.translate=function(){if(e.durationBarMode="PercentComplete",e.timeRangeSelectedHandling="Disabled",e.treeEnabled=!0,e.autoRefreshCommand=d.autoRefreshCommand,e.autoRefreshEnabled=d.autoRefreshEnabled,e.autoRefreshInterval=d.autoRefreshInterval,e.autoRefreshMaxCount=d.autoRefreshMaxCount,e.autoScroll=d.autoScroll,e.backendUrl=d.backendUrl,e.crosshairColor=d.crosshairColor,e.crosshairOpacity=d.crosshairOpacity,e.crosshairType=d.crosshairType,e.doubleClickTimeout=d.doubleClickTimeout,e.durationBarVisible=d.completeBarVisible,e.durationBarHeight=d.completeBarHeight,e.dynamicEventRendering=d.progressiveTaskRendering?"Progressive":"Disabled",e.dynamicEventRenderingMargin=d.progressiveTaskRenderingMargin,e.dynamicEventRenderingCacheSweeping=d.progressiveTaskRenderingCacheSweeping,e.dynamicEventRenderingCacheSize=d.progressiveTaskRenderingCacheSize,e.startDate=new DayPilot.Date(d.startDate),e.days=d.days,e.cellDuration=d.cellDuration,e.cellGroupBy=d.cellGroupBy,e.cellWidth=d.cellWidth,e.cellWidthSpec=d.cellWidthSpec,e.cornerHtml=d.cornerHtml,e.eventHeight=d.taskHeight,e.eventResizeMargin=d.taskResizeMargin,e.floatingEvents=d.floatingTasks,e.floatingTimeHeaders=d.floatingTimeHeaders,e.headerHeight=d.headerHeight,e.heightSpec=d.heightSpec,e.height=d.height,e.linkBottomMargin=d.linkBottomMargin,e.linkPointSize=d.linkPointSize,e.loadingLabelVisible=d.loadingLabelVisible,e.loadingLabelText=d.loadingLabelText,e.locale=d.locale,e.messageBarPosition=d.messageBarPosition,e.messageHideAfter=d.messageHideAfter,e.rowCreateHandling=d.rowCreateHandling,e.numberFormat=d.numberFormat,e.progressiveRowRendering=d.progressiveRowRendering,e.progressiveRowRenderingPreload=d.progressiveRowRenderingPreload,e.scale=d.scale,e.scrollDelayEvents=d.scrollDelayTasks,e.scrollDelayCells=d.scrollDelayCells,e.scrollDelayFloats=d.scrollDelayFloats,e.scrollX=d.scrollX,e.scrollY=d.scrollY,d.scrollToTaskId&&(e.scrollToResourceId=d.scrollToTaskId),e.separators=d.separators,e.tapAndHoldTimeout=d.tapAndHoldTimeout,e.eventMovingStartEndEnabled=d.taskMovingStartEndEnabled,e.eventMovingStartEndFormat=d.taskMovingStartEndFormat,e.eventResizingStartEndEnabled=d.taskResizingStartEndEnabled,e.eventResizingStartEndFormat=d.taskResizingStartEndFormat,e.hideUntilInit=d.hideUntilInit,e.treeIndent=d.treeIndent,e.treeAutoExpand=d.treeAutoExpand,e.treeImageMarginLeft=d.treeImageMarginLeft,e.treeImageMarginTop=d.treeImageMarginTop,e.timeHeaders=d.timeHeaders,e.rowHeaderHideIconEnabled=d.rowHeaderHideIconEnabled,e.rowHeaderScrolling=d.rowHeaderScrolling,e.rowHeaderSplitterWidth=d.rowHeaderSplitterWidth,e.rowHeaderWidth=d.rowHeaderWidth,e.rowHeaderWidthAutoFit=d.rowHeaderWidthAutoFit,e.rowMarginBottom=d.rowMarginBottom,e.rowMinHeight=d.rowMinHeight,e.selectedRows=d.selectedRows,e.theme=d.theme,e.useEventBoxes=d.useEventBoxes,e.snapToGrid=d.snapToGrid,e.uniqueID=d.uniqueID,e.bubble=d.bubbleTask,e.cellBubble=d.bubbleCell,e.resourceBubble=d.bubbleRow,e.contextMenu=d.contextMenuTask,e.contextMenuResource=d.contextMenuRow,e.contextMenuLink=d.contextMenuLink,e.syncResourceTree=d.syncTasks,e.syncLinks=d.syncLinks,e.timeline=d.timeline,e.visible=d.visible,e.eventMoveHandling=d.taskMoveHandling,e.eventClickHandling=d.taskClickHandling,e.eventResizeHandling=d.taskResizeHandling,e.linkCreateHandling=d.linkCreateHandling,e.eventRightClickHandling=d.taskRightClickHandling,e.eventDoubleClickHandling=d.taskDoubleClickHandling,e.rowMoveHandling=d.rowMoveHandling,e.rowClickHandling=d.rowClickHandling,e.rowDoubleClickHandling=d.rowDoubleClickHandling,e.rowEditHandling=d.rowEditHandling,e.rowSelectHandling=d.rowSelectHandling,e.eventVersionsEnabled=d.taskVersionsEnabled,e.eventVersionHeight=d.taskVersionHeight,e.eventVersionMargin=d.taskVersionMargin,DayPilot.isArray(d.columns)){e.rowHeaderColumns=[];for(var a=0;a<d.columns.length;a++){var b=d.columns[a],c={};DayPilot.Util.copyProps(b,c,["title","width"]),e.rowHeaderColumns.push(c)}}d.$0x()&&(e.timeHeader=d.timeHeader,e.cellProperties=d.cellProperties,e.cellConfig=d.cellConfig),e.onRowCreate=function(a){"function"==typeof d.onRowCreate&&d.onRowCreate(a)},e.onRowCreated=function(a){"function"==typeof d.onRowCreated&&d.onRowCreated(a)},e.onAfterRender=function(a){"function"==typeof d.onAfterRender&&d.onAfterRender(a)},e.onAfterUpdate=function(a){"function"==typeof d.onAfterUpdate&&d.onAfterUpdate(a)},e.onRowHeaderResized=function(a){d.rowHeaderWidth=e.rowHeaderWidth},e.onAjaxError=function(a){"function"==typeof d.onAjaxError&&d.onAjaxError(a)},e.onRowHeaderColumnResized=function(a){for(var b=a.column,c=DayPilot.indexOf(e.rowHeaderColumns,b),f=0;f<d.columns.length;f++){var g=e.rowHeaderColumns[f],h=d.columns[f];h.width=g.width}if("function"==typeof d.onColumnResized){var i={};i.column=d.columns[c],d.onColumnResized(i)}},e.onBeforeRowHeaderRender=function(a){a.task=new DayPilot.Task(a.row.$.row.task,d);var b=[];if(DayPilot.isArray(d.columns))for(var c=0;c<d.columns.length;c++){var e=d.columns[c],f=e.property,h={};h.value=g.getProperty(a.task.data,f),a.task.data.row&&a.task.data.row.columns&&a.task.data.row.columns[c]?h.html=a.task.data.row.columns[c].html:h.html=h.value,b.push(h)}if(a.row.columns=b,"function"==typeof d.onBeforeRowHeaderRender&&d.onBeforeRowHeaderRender(a),DayPilot.isArray(d.columns))for(var c=0;c<d.columns.length;c++){var i=b[c].html;0===c?a.row.html=i:a.row.columns[c-1].html=i}},e.onBeforeCellRender=function(a){a.task=d.tasks.find(a.cell.resource),delete a.cell.resource,"function"==typeof d.onBeforeCellRender&&d.onBeforeCellRender(a)},e.onBeforeTimeHeaderRender=function(a){"function"==typeof d.onBeforeTimeHeaderRender&&d.onBeforeTimeHeaderRender(a)},e.onEventClick=function(a){a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskClick&&d.onTaskClick(a)},e.onEventClicked=function(a){"function"==typeof d.onTaskClicked&&d.onTaskClicked(a)},e.onEventDelete=function(a){"function"==typeof d.onTaskDelete&&d.onTaskDelete(a)},e.onEventDeleted=function(a){"function"==typeof d.onTaskDeleted&&d.onTaskDeleted(a)},e.onEventDoubleClick=function(a){a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskDoubleClick&&d.onTaskDoubleClick(a)},e.onEventDoubleClicked=function(a){"function"==typeof d.onTaskDoubleClicked&&d.onTaskDoubleClicked(a)},e.onEventRightClick=function(a){a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskRightClick&&d.onTaskRightClick(a)},e.onEventRightClicked=function(a){"function"==typeof d.onTaskRightClicked&&d.onTaskRightClicked(a)},e.onRowMoving=function(a){a.$0D=a.source,a.$0E=a.target,a.source=new DayPilot.Task(a.$0D.$.row.task,d),a.target=new DayPilot.Task(a.$0E.$.row.task,d),"function"==typeof d.onRowMoving&&d.onRowMoving(a)},e.onRowMove=function(a){a.$0D=a.source,a.$0E=a.target,a.source=new DayPilot.Task(a.$0D.$.row.task,d),a.target=new DayPilot.Task(a.$0E.$.row.task,d),"function"==typeof d.onRowMove&&d.onRowMove(a),a.source=a.$0D,a.target=a.$0E},e.onRowMoved=function(a){var b="Update"===d.rowMoveHandling||"Notify"===d.rowMoveHandling;if(b){var c=a.$0D.$.row.task,e=a.$0E.$.row.task,f=a.position;if("forbidden"===f)return;var h=g.findParentArray(c);if(!h)throw"Cannot find source node parent";var i=DayPilot.indexOf(h,c);h.splice(i,1);var j=g.findParentArray(e);if(!j)throw"Cannot find target node parent";var k=DayPilot.indexOf(j,e);switch(f){case"before":j.splice(k,0,c);break;case"after":j.splice(k+1,0,c);break;case"child":e.children||(e.children=[],e.expanded=!0),e.children.push(c)}d.$0v.notify(),d.update()}a.source=new DayPilot.Task(a.$0D.$.row.task,d),a.target=new DayPilot.Task(a.$0E.$.row.task,d),"function"==typeof d.onRowMoved&&d.onRowMoved(a)},e.onRowClick=function(a){a.task=new DayPilot.Task(a.resource.$.row.task,d),"function"==typeof d.onRowClick&&d.onRowClick(a)},e.onRowClicked=function(a){"function"==typeof d.onRowClicked&&d.onRowClicked(a)},e.onRowDoubleClick=function(a){a.task=new DayPilot.Task(a.resource.$.row.task,d),"function"==typeof d.onRowDoubleClick&&d.onRowDoubleClick(a)},e.onRowDoubleClicked=function(a){"function"==typeof d.onRowDoubleClicked&&d.onRowDoubleClicked(a)},e.onRowEdit=function(a){a.task=new DayPilot.Task(a.resource.$.row.task,d),"function"==typeof d.onRowEdit&&d.onRowEdit(a)},e.onRowEdited=function(a){"function"==typeof d.onRowEdited&&d.onRowEdited(a)},e.onRowSelect=function(a){a.task=new DayPilot.Task(a.row.$.row.task,d),"function"==typeof d.onRowSelect&&d.onRowSelect(a)},e.onRowSelected=function(a){"function"==typeof d.onRowSelected&&d.onRowSelected(a)},e.onEventMove=function(a){a._e=a.e,a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskMove&&d.onTaskMove(a)},e.onEventMoved=function(a){if("Auto"===d.taskGroupMode){var b=a._e,c=b.data.task;for(c.start=b.start(),c.end=b.end();b.data.parent;){var f=e.events.find(b.data.parent.id),g=h.childrenStartEnd(b.data.parent);f.start(g.start),f.end(g.end),e.events.update(f),b=f}}d.$0v.notify(),"function"==typeof d.onTaskMoved&&d.onTaskMoved(a)},e.onEventMoving=function(a){a.task=new DayPilot.Task(a.e,d),a._e=a.e,delete a.position,delete a.overlapping,delete a.resource,"function"==typeof d.onTaskMoving&&d.onTaskMoving(a)},e.onEventResize=function(a){a._e=a.e,a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskResize&&d.onTaskResize(a)},e.onEventResized=function(a){if("Auto"===d.taskGroupMode){var b=a._e,c=b.data.task;for(c.start=b.start(),c.end=b.end();b.data.parent;){var f=e.events.find(b.data.parent.id),g=h.childrenStartEnd(b.data.parent);f.start(g.start),f.end(g.end),e.events.update(f),b=f}}d.$0v.notify(),"function"==typeof d.onTaskResized&&d.onTaskResized(a)},e.onEventResizing=function(a){a.task=new DayPilot.Task(a.e,d),a._e=a.e,"function"==typeof d.onTaskResizing&&d.onTaskResizing(a)},e.onLinkCreate=function(a){a.source=d.tasks.find(a.from),a.target=d.tasks.find(a.to),"function"==typeof d.onLinkCreate&&d.onLinkCreate(a)},e.onLinkCreated=function(a){"function"==typeof d.onLinkCreated&&d.onLinkCreated(a)},e.onResourceExpand=function(a){var b=a.resource.$.row.task;b.row||(b.row={}),b.row.collapsed=!1},e.onResourceCollapse=function(a){var b=a.resource.$.row.task;b.row||(b.row={}),b.row.collapsed=!0}},h.$0F=function(a){for(var b=0;b<e.rowlist.length;b++){var c=e.rowlist[b];if(c.task===a)return e.internal.createRowObject(c)}return null},h.$0t=function(){e.links.list=d.links.list?d.links.list:[]},h.$0s=function(){e.resources=[],e.events.list=[],g.clearCache(),h.$0G(d.tasks.list,e.resources,null),j.sheet&&(j.sheet.commit(),j.sheet=null)},h.$0H=function(a){var b=a.type||"Task";a.children&&a.children.length&&(b="Group");var c={};for(var e in a)"children"!==e&&(c[e]=a[e]);var f={};if(f.data=c,f.type=b,c.box||(c.box={}),"undefined"==typeof c.box.html)if("Task"===f.type){var g=c.complete||0;c.box.html=g+"%"}else c.box.html="";return"undefined"==typeof c.box.htmlRight&&(c.box.htmlRight=c.text),"function"==typeof d.onBeforeTaskRender&&d.onBeforeTaskRender(f),f.type=b,f};var j={};j.keys={},j.sheet=null,h.$0I=function(a){if(a.data.box&&!a.data.box.cssClass&&a.data.box.backColor&&"Task"!==a.type){var b=DayPilot.Util.normalizeColor(a.data.box.backColor),c=a.type+"_"+b.replace("#",""),e=d.theme,f=d.theme+"_"+c;return j.keys[c]||(j.keys[c]=!0,j.sheet||(j.sheet=DayPilot.sheet()),"Group"===a.type?(j.sheet.add("."+f+"."+e+"_task_group ."+e+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+b+"; filter: none; border: 0px none;"),j.sheet.add("."+f+"."+e+"_task_group."+e+"_event:before","content:''; border-color: transparent transparent transparent "+b+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),j.sheet.add("."+f+"."+e+"_task_group."+e+"_event:after","content:''; border-color: transparent "+b+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===a.type&&(j.sheet.add("."+f+"."+e+"_task_milestone ."+e+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+b+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),j.sheet.add("."+f+"."+e+"_browser_ie8 ."+e+"_task_milestone ."+e+"_event_inner","-ms-filter: \"progid:$03.Microsoft.Matrix($04='auto expand',$05=0.7071067811865476,$06=-0.7071067811865475,$07=0.7071067811865475,$08=0.7071067811865476);\""))),f}},h.$0G=function(b,c,f){if(DayPilot.isArray(b))for(var i=0;i<b.length;i++){var j=b[i];g.addToCache(j,f);var k=h.$0H(j),l=k.data,m=k.type,n={};if(DayPilot.Util.copyProps(l,n,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(l.box,n),n.parent=f,n.task=j,n.resource=l.id,"Group"==m){n.type="Group",n.html="";var o=h.$0I(k);if(o&&(n.cssClass=(n.cssClass||"")+" "+o,console.log(n.cssClass)),delete n.backColor,"Auto"===d.taskGroupMode){var p=h.childrenStartEnd(j);n.start=p.start,n.end=p.end,n.resizeDisabled=!0,n.moveDisabled=!0}}else if("Milestone"===m){n.html="",j.end=j.start;var o=h.$0I(k);o&&(n.cssClass=(n.cssClass||"")+" "+o),l.end=l.start,n.end=l.start,n.barHidden=!0,n.resizeDisabled=!0,n.type="Milestone",n.width=d.taskHeight,delete n.backColor}else"Task"===m&&a();n.moveVDisabled=!0,n.htmlRight=l.box.htmlRight,n.htmlLeft=l.box.htmlLeft,e.events.list.push(n);var q={};q.task=j,DayPilot.Util.copyProps(l.row,q),q.name=l.text,q.id=l.id,q.children=[],q.expanded=!l.row||!l.row.collapsed,j.children&&j.children.length&&h.$0G(j.children,q.children,j),c.push(q)}},h.childrenStartEnd=function(a){if(!a.children||!a.children.length){var b=a.start,c=a.end;return"Milestone"===a.type&&(c=b),{start:new DayPilot.Date(b),end:new DayPilot.Date(c)}}for(var b=null,c=null,d=0;d<a.children.length;d++){var e=h.childrenStartEnd(a.children[d]);(!b||e.start.getTime()<b.getTime())&&(b=e.start),(!c||e.end.getTime()>c.getTime())&&(c=e.end)}return{start:b,end:c}},this.rows={},this.rows.expand=function(a){e.rows.expand(a)},this.rows.expandAll=function(){e.rows.expandAll()},this.rows.selection={},this.rows.selection.add=function(a){e.rows.find(a.data.id)},this.rows.selection.clear=function(){e.rows.selection.clear()},this.rows.selection.get=function(){return e.rows.selection.get().map(function(a){return new DayPilot.Task(a.$.row.task,d)})},this.internal={},this.internal.initialized=function(){return d.$0u},this.internal.rowObjectForTaskData=h.$0F,this.$0v={},this.$0v.scope=null,this.$0v.notify=function(){d.$0v.scope&&d.$0v.scope.$apply()},this.$0J=null,this.$0K=function(a){var b={tasks:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?d.tasks.list=a.list:d.tasks.list=a)}},links:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?d.links.list=a.list:d.links.list=a)}},scrollTo:{postInit:function(){this.data&&d.scrollTo(this.data)}},scrollToTask:{postInit:function(){this.data&&d.scrollToTask(this.data)}}};this.$0J=b;for(var c in a)if(b[c]){var e=b[c];e.data=a[c],e.preInit&&e.preInit()}else d[c]=a[c]},this.$0A=function(){var a=this.$0J;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.$0K(c)},"undefined"!=typeof jQuery&&!function(a){a.fn.daypilotGantt=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Gantt(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotGantt",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(c,d){return c.replaceWith(this.template.replace("{{id}};",d.id)),function(c,d,e){var f=new DayPilot.Gantt(d[0]);f.$0v.scope=c,f.init();var g=e.id;g&&(c[g]=f);var h=e.publishAs;if(h){var i=a(h),j=i.assign;j(c,f)}for(var k in e)0===k.indexOf("on")&&!function(b){f[b]=function(d){var f=a(e[b]);c.$apply(function(){f(c,{args:d})})}}(k);var l=c.$watch,m=e.config||e.daypilotConfig;l.call(c,m,function(a,b){f.$0K(a),f.update()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.Kanban&&(DayPilot.Kanban=function(a,b){this.v="2130";var c=this;this.barWidth=5,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=20,this.crosshairColor="gray",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.rowMinHeight=0,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.onBeforeCellRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var d=new DayPilot.Scheduler(a);this.scheduler=d;var e={},f=15,g=15;e.translate=function(){var a=d;a.startDate="2000-01-01",a.scale="Day",a.timeHeaders=[{$g:"Cell",$h:"d"}],a.heightSpec=c.heightSpec,a.cellWidthSpec="Auto",a.cellsMarkBusiness=!1,a.crosshairColor=c.crosshairColor,a.dynamicEventRendering="Disabled",a.floatingEvents=!1,a.floatingTimeHeaders=!1,a.rowMinHeight=c.rowMinHeight,a.rowMarginTop=c.cellMarginTop,a.rowMarginBottom=c.cellMarginBottom,a.eventMoveToPosition=!0,a.headerHeight=c.columnHeaderHeight,a.eventResizeHandling="Disabled",a.timeRangeSelectedHandling="Disabled",a.eventHeight=c.cardHeight,a.eventMarginLeft=c.cardMarginLeft,a.eventMarginRight=c.cardMarginRight,a.eventMarginBottom=c.cardMarginBottom,a.eventTextWrappingEnabled=!0,a.cellStacking=!0,a.cellStackingAutoHeight=c.cardAutoHeight,a.durationBarVisible=!1,a.theme=c.theme,a.visible=c.visible,a.rowHeaderWidth=c.swimlaneHeaderWidth,a.eventDeleteHandling=c.cardDeleteHandling,a.eventMoveHandling=c.cardMoveHandling,a.rowMoveHandling=DayPilot.list(c.swimlanes.list).isEmpty()?"Disabled":c.swimlaneMoveHandling,a.onHeightChanged=c.onHeightChanged,a.internal.cssNames.timeheadercol="_colheadercell",a.internal.cssNames.timeheadercolInner="_colheadercell_inner",a.internal.cssNames.resourcedivider="_rowheaderdivider",a.internal.cssNames.event="_card",a.internal.cssNames.eventInner="_card_inner",a.internal.cssNames.eventDelete="_card_delete",a.internal.cssNames.eventMovingSource="_card_moving_source",c.swimlaneCollapsingEnabled&&(a.rowHeaderWidthMarginRight=f+0),a.onBeforeTimeHeaderRender=function(a){var b=c.$Z(a.header.start);if(a.header.html=b.name,a.header.toolTip=b.toolTip||"",a.header.areas=b.areas||[],DayPilot.list(a.header.areas).each(function(a){a.target=new DayPilot.Column(b,c)}),"Disabled"!==c.columnMoveHandling){var d=c.theme+"_columnmove_handle";a.header.areas.push({left:0,top:0,width:20,height:20,css:d,mousedown:c.$00,action:"None"})}},a.onBeforeCellRender=function(b){var d={};d.cell={},d.cell.column=new DayPilot.Column(c.$Z(b.cell.start),c),d.cell.swimlane=null;var e=c.$01(b.cell.resource);e&&(d.cell.swimlane=new DayPilot.Swimlane(e,c)),d.cell.areas=[],d.cell.cssClass=null,d.cell.html=null,d.cell.backImage=null,d.cell.backRepeat=null,d.cell.backColor=null,"function"==typeof c.onBeforeCellRender&&(c.onBeforeCellRender(d),DayPilot.Util.copyProps(d.cell,b.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),DayPilot.list(b.cell.areas).each(function(a){a.target={swimlane:d.cell.swimlane,column:d.cell.column}}));var f=a.rows.find(b.cell.resource),g=a.resources[f.index];g.collapsed&&(b.cell.cssClass||(b.cell.cssClass=""),b.cell.cssClass+=" "+c.theme+"_collapsed")},a.onEventClick=function(a){var b=new DayPilot.Args(a);b.card=new DayPilot.Card(a.e.data.card,c),"function"==typeof c.onCardClick&&c.onCardClick(b),a.wrapped=b},a.onEventClicked=function(a){var b=a.wrapped;"function"==typeof c.onCardClicked&&c.onCardClicked(b)},a.onEventDelete=function(a){var b=new DayPilot.Args(a);b.card=new DayPilot.Card(a.e.data.card,c),"function"==typeof c.onCardDelete&&c.onCardDelete(b),a.wrapped=b},a.onEventDeleted=function(a){DayPilot.rfa(c.cards.list,a.e.data.card);var b=a.wrapped;"function"==typeof c.onCardDeleted&&c.onCardDeleted(b)},a.onEventMove=function(a){var b=new DayPilot.Args(a);b.card=new DayPilot.Card(a.e.data.card,c),b.column=new DayPilot.Column(c.$Z(a.newStart)),b.position=a.position,"*"!==a.newResource?b.swimlane=new DayPilot.Swimlane(c.$01(a.newResource),c):b.swimlane=null;for(var f=d.cells.find(a.newStart,a.newResource)[0].events(),g=a.position,h=null,i=g-1;f[i];){if(f[i].data!==a.e.data){h=new DayPilot.Card(f[i]);break}i-=1}for(var j=null,k=g;f[k];){if(f[k].data!==a.e.data){j=new DayPilot.Card(f[k]);break}k+=1}if(b.previous=h,
b.next=j,"function"==typeof c.onCardMove&&c.onCardMove(b),a.wrapped=b,!a.preventDefault.value){var l=0;j?l=j.wrapped.data.sort[0]:h&&(l=h.wrapped.data.sort[0]),a.e.data.sort=[l,(new DayPilot.Date).toString()],DayPilot.rfa(c.cards.list,a.e.data.card);var m=0;j?m=DayPilot.indexOf(c.cards.list,j.data):h&&(m=DayPilot.indexOf(c.cards.list,h.data)+1),c.cards.list.splice(m,0,a.e.data.card),e.updateSort()}},a.onEventMoved=function(a){var b=a.wrapped,d=DayPilot.list(c.cards.list).find(function(b){return a.e.data.card===b});d.swimlane=b.swimlane?b.swimlane.data.id:null,d.column=b.column.data.id,"function"==typeof c.onCardMoved&&c.onCardMoved(b)},a.onBeforeResHeaderRender=function(a){if(c.swimlaneCollapsingEnabled){var b=DayPilot.list(c.swimlanes.list).isEmpty();if(!b){var d=c.theme+"_swimlane_collapse";a.resource.collapsed&&(d=c.theme+"_swimlane_expand"),a.resource.areas=[{right:0,top:0,height:g,width:f,action:"JavaScript",css:d,js:function(){c.$02(a.resource.index)}}]}}},a.onRowMove=function(a){var b=new DayPilot.Args(a);a.wrapped=b,b.swimlane=new DayPilot.Swimlane(a.source.$.row.swimlane);var e=0;switch(a.position){case"before":e=a.target.index;break;case"after":e=a.target.index+1;break;default:throw"Unexpected target swimlane position: "+a.position}b.position=e,b.previous=null;for(var f=e-1;d.rowlist[f]&&d.rowlist[f].swimlane!==b.swimlane.data;)b.previous=new DayPilot.Swimlane(d.rowlist[f].swimlane),f-=1;b.next=null;for(var g=e;d.rowlist[g]&&d.rowlist[g].swimlane!==b.swimlane.data;)b.next=new DayPilot.Swimlane(d.rowlist[g].swimlane),g+=1;"function"==typeof c.onSwimlaneMove&&c.onSwimlaneMove(b)},a.onRowMoved=function(a){var b=a.wrapped;DayPilot.rfa(c.swimlanes.list,b.swimlane.data);var d=0;b.next?d=DayPilot.indexOf(c.swimlanes.list,b.next.data):b.previous&&(d=DayPilot.indexOf(c.swimlanes.list,b.previous.data)+1),c.swimlanes.list.splice(d,0,b.swimlane.data),"function"==typeof c.onSwimlaneMoved&&c.onSwimlaneMoved(b)},a.treePreventParentUsage=!0},e.loadCards=function(){var a=new DayPilot.Date("2000-01-01"),b=c.theme+"_card_header",e=c.theme+"_card_body",f=(new DayPilot.Date).toString();d.sortDirections=["asc","desc"],d.events.list=DayPilot.list(c.cards.list).map(function(d,g){var h=d.html||d.text||"",i=d.name||"",j={};return j.id=d.id,j.text=d.text,j.html="<div class='"+b+"'>"+i+"</div><div class='"+e+"'>"+h+"</div>",j.resource=d.swimlane,j.start=a.addDays(DayPilot.list(c.columns.list).findIndex(function(a){return d.column===a.id})),j.end=j.start.addDays(1),j.card=d,j.height=d.height,j.cssClass=d.cssClass,j.sort=[g,f],j.areas=DayPilot.list(d.areas).map(function(a){var b={};return DayPilot.Util.copyProps(a,b),a.js&&(b.js=function(b){a.js(new DayPilot.Card(b.data.card,c))}),b}),j.areas.push({left:0,width:5,top:0,bottom:0,backColor:d.barColor,cssClass:c.theme+"_card_bar"}),j})},e.updateSort=function(){var a=(new DayPilot.Date).toString();DayPilot.list(c.cards.list).each(function(b,c){var d=e.findSchedulerEventData(b);d&&(d.sort=[c,a])})},e.findSchedulerEventData=function(a){return DayPilot.list(d.events.list).find(function(b){return b.card===a})},e.loadSwimlanes=function(){var a=20,b=DayPilot.list(c.swimlanes.list);d.resources=b.map(function(b){var c={};return c.name=b.name,c.id=b.id,c.swimlane=b,b.collapsed&&(c.collapsed=!0,c.eventHeight=a,c.id=null),c}),b.isEmpty()&&(d.resources=[{name:"",id:"*"}])},e.loadColumns=function(){var a=DayPilot.list(c.columns.list);d.days=a.length};var h={};h.active=null,h.div=null,h.update=function(){h.clear();var a=h.findPosition();h.draw(a)},h.clear=function(){DayPilot.de(h.div),h.div=null},h.draw=function(a){var b=0;if(a>=d.itline.length){var e=d.itline[d.itline.length-1];b=e.left+e.width-3}else b=d.itline[a].left;var f=document.createElement("div");f.style.position="absolute",f.style.left=b+"px",f.style.width="3px",f.style.top=0,f.style.height=d.headerHeight+"px",f.className=c.theme+"_columnmove_position",h.div=f,d.nav.timeHeader.appendChild(f)},h.findPosition=function(){if(c.coords.x<0)return 0;var a=DayPilot.list(d.itline).findIndex(function(a){var b=a.left+d.rowHeaderWidth,e=a.width;return c.coords.x<b+e/2});return a===-1?d.itline.length:a},this.$00=function(a){h.active=a},this.$Z=function(a){return c.columns.list[a.getDay()-1]},this.$01=function(a){return DayPilot.list(c.swimlanes.list).find(function(b){return b.id===a})},this.message=function(a,b,c,e){d.message(a,b,c,e)},this.show=function(){c.visible=!0,d.show()},this.hide=function(){c.visible=!1,d.hide()},this.cards.add=function(a){var b=null;b=a&&a instanceof DayPilot.Card?a.data:a,a&&(c.cards.list.push(b),c.update())},this.cards.remove=function(a){var b=null;b=a&&a instanceof DayPilot.Card?a.data:a,a&&(DayPilot.rfa(c.cards.list,a),c.update())},this.cards.update=function(a){c.update()},this.$02=function(a){DayPilot.list(c.swimlanes.list).isEmpty()||(c.swimlanes.list[a].collapsed=!c.swimlanes.list[a].collapsed),c.update()},this.init=function(){e.translate(),e.loadSwimlanes(),e.loadColumns(),e.loadCards(),d.init(),c.$03(),this.$04=!0},this.update=function(){e.translate(),e.loadSwimlanes(),e.loadColumns(),e.loadCards(),d.update()},this.$03=function(){DayPilot.re(document,"mouseup",c.$05),DayPilot.re(document,"mousemove",c.$06)},this.$06=function(a){c.coords=DayPilot.mo3(d.nav.top,a),h.active&&h.update()},this.$05=function(a){if(h.active){var b=h.active.source,d=h.findPosition(),e=c.$Z(b.start),f=new DayPilot.Args;f.column=new DayPilot.Column(e,c),f.position=d,f.previous=null,f.next=null;for(var g=null,i=f.position;0!==i&&!g;)e!==c.columns.list[i-1]&&(g=c.columns.list[i-1]),i-=1;g&&(f.previous=new DayPilot.Column(g,c));var j=null;for(i=f.position;i<c.columns.list.length-1&&!j;)e!==c.columns.list[i]&&(j=c.columns.list[i]),i+=1;if(j&&(f.next=new DayPilot.Column(j,c)),"function"==typeof c.onColumnMove&&c.onColumnMove(f),!f.preventDefault.value){if("Update"===c.columnMoveHandling){DayPilot.rfa(c.columns.list,f.column.data);var k=0;f.next?k=DayPilot.indexOf(c.columns.list,f.next.data):f.previous&&(k=DayPilot.indexOf(c.columns.list,f.previous.data)+1),c.columns.list.splice(k,0,f.column.data),c.update()}"function"==typeof c.onColumnMoved&&c.onColumnMove(f)}h.active=null,h.clear()}}},DayPilot.Card=function(a,b){if(a instanceof DayPilot.Event){var c=a;this.data=c.data.card,this.wrapped=a}else this.data=a;this.control=b},DayPilot.Column=function(a,b){this.data=a,this.control=b},DayPilot.Swimlane=function(a,b){this.data=a,this.control=b})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotMenu)var DayPilotMenu=DayPilot.MenuVisible={};if(function(){if("undefined"==typeof DayPilot.Menu){var a={};a.mouse=null,a.menu=null,a.clickRegistered=!1,a.hideTimeout=null,a.waitingSubmenu=null,DayPilot.Menu=function(b){var c=this;this.v="2130",this.zIndex=10,this.useShadow=!0,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.$K=function(){},b&&DayPilot.isArray(b)&&(this.items=b),this.show=function(b,d){var d=d||{},e=null;if("string"==typeof b.id||"number"==typeof b.id?e=b.id:"function"==typeof b.id?e=b.id():"function"==typeof b.value&&(e=b.value()),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),d.submenu||a.menuClean(),this.$K.submenu=null,null!==a.mouse){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."));var f=document.createElement("div");if(f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.display="none",f.style.overflow="hidden",f.style.zIndex=this.zIndex+1,f.className=this.applyCssClass("main"),f.onclick=function(a){a.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(f.onmousemove=function(b){clearTimeout(a.hideTimeout)},f.onmouseout=function(a){c.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var g=document.createElement("div");g.innerHTML=this.menuTitle,g.className=this.applyCssClass("title"),f.appendChild(g)}for(var h=0;h<this.items.length;h++){var i=this.items[h],j=document.createElement("div");if(DayPilot.Util.addClass(j,this.applyCssClass("item")),i.items&&DayPilot.Util.addClass(j,this.applyCssClass("item_haschildren")),"undefined"!=typeof i){if("-"===i.text){var k=document.createElement("div");j.appendChild(k)}else{var l=document.createElement("a");if(l.style.position="relative",l.style.display="block",i.disabled)DayPilot.Util.addClass(l,c.applyCssClass("item_disabled"));else if(i.href)l.href=i.href.replace(/\x7B0\x7D/gim,e),i.target&&l.setAttribute("target",i.target);else if(i.onclick){l.item=i,l.onclick=i.onclick;var m=function(b,c){return function(d){d.stopPropagation(),d.preventDefault(),b.onclick.call(c,d),a.menuClean(),window.setTimeout(function(){c.source.calendar.internal.touch.active=!1},500)}};l.ontouchstart=function(a){a.stopPropagation(),a.preventDefault(),l.source.calendar.internal.touch.active=!0},l.ontouchend=m(i,l)}else if(i.command){var n=function(a,b){return function(c){var d=b.source,e=a;e.action=e.action?e.action:"CallBack";var f=d.calendar||d.root;if(d instanceof DayPilot.Link)return void f.internal.linkMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Selection)return void f.internal.timeRangeMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Event)return void f.internal.eventMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Selection)return void f.internal.timeRangeMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Task)return void("resource"===d.menuType?f.internal.resourceHeaderMenuClick(e.command,b.menuSource,e.action):f.internal.eventMenuClick(e.command,b.menuSource,e.action));switch(d.menuType){case"resource":return void f.internal.resourceHeaderMenuClick(e.command,d,e.action);case"selection":return void f.internal.timeRangeMenuClick(e.command,d,e.action);default:return void f.internal.eventMenuClick(e.command,d,e.action)}c.preventDefault()}};l.onclick=n(i,l),l.ontouchend=n(i,l)}b&&b.isRow&&b.$.row.task?(l.source=new DayPilot.Task(b.$.row.task,b.calendar),l.source.menuType="resource"):b&&b.isEvent&&b.data.task?l.source=new DayPilot.Task(b,b.calendar):l.source=b,l.menuSource=b;var o=document.createElement("span");if(o.innerHTML=i.text,l.appendChild(o),i.image){var p=document.createElement("img");p.src=i.image,p.style.position="absolute",p.style.top="0px",p.style.left="0px",l.appendChild(p)}var q=function(b,d){return function(){var e=d.source,f=b,g=a.waitingSubmenu;if(g){if(g.parent===f)return;clearTimeout(g.timeout),a.waitingSubmenu=null}a.waitingSubmenu={},a.waitingSubmenu.parent=f,a.waitingSubmenu.timeout=setTimeout(function(){if(a.waitingSubmenu=null,(!c.$K.submenu||c.$K.submenu.item!==f)&&(c.$K.submenu&&c.$K.submenu.item!==f&&(DayPilot.Util.removeClass(c.$K.submenu.link.parentNode,c.applyCssClass("item_haschildren_active")),c.$K.submenu.menu.hide(),c.$K.submenu=null),f.items)){var g=c.cloneOptions();g.items=f.items,c.$K.submenu={},c.$K.submenu.menu=new DayPilot.Menu(g),c.$K.submenu.menu.show(e,{submenu:!0,parentLink:d,parentItem:b}),c.$K.submenu.item=f,c.$K.submenu.link=d,DayPilot.Util.addClass(d.parentNode,c.applyCssClass("item_haschildren_active"))}},300)}};l.onmouseover=q(i,l),j.appendChild(l)}f.appendChild(j)}}var r=function(b){window.setTimeout(function(){a.menuClean()},100)};f.onclick=r,f.ontouchend=r,f.onmousedown=function(a){a=a||window.event,a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},f.oncontextmenu=function(){return!1},document.body.appendChild(f),c.$K.visible=!0,c.$K.source=b,f.style.display="";var s=f.offsetHeight,t=f.offsetWidth;f.style.display="none";var u=document.documentElement.clientHeight,v=document.documentElement.clientWidth;if(function(){var c=a.mouse.x+1,d=a.mouse.y+1;if(a.mouse.clientY>u-s&&0!==u){var e=a.mouse.clientY-(u-s)+5;f.style.top=d-e+"px"}else f.style.top=d+"px";if(a.mouse.clientX>v-t&&0!==v){var g=a.mouse.clientX-(v-t)+5;f.style.left=c-g+"px"}else f.style.left=c+"px"}(),d.parentLink){var w=d.parentLink,x=parseInt(new DayPilot.StyleReader(f).get("border-top-width")),y=DayPilot.abs(d.parentLink.parentNode),z=y.x+w.offsetWidth,A=y.y-x;z+t>v&&(z=Math.max(0,y.x-t));var B=document.body.scrollTop+document.documentElement.scrollTop;A+s-B>u&&(A=Math.max(0,u-s+B)),f.style.left=z+"px",f.style.top=A+"px"}f.style.display="",this.addShadow(f),this.$K.div=f,d.submenu||(DayPilot.Menu.active=this)}},this.applyCssClass=function(a){var b=this.theme||this.cssClassPrefix,c=this.cssOnly?"_":"";return b?b+c+a:""},this.cloneOptions=function(){for(var a={},b=["cssOnly","cssClassPrefix","useShadow","zIndex"],c=0;c<b.length;c++){var d=b[c];a[d]=this[d]}return a},this.hide=function(){this.$K.submenu&&this.$K.submenu.menu.hide(),this.removeShadow(),this.$K.div&&this.$K.div.parentNode===document.body&&document.body.removeChild(this.$K.div),c.$K.visible=!1,c.$K.source=null},this.delayedHide=function(){a.hideTimeout=setTimeout(function(){c.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(a.hideTimeout)},this.init=function(b){a.mouseMove(b)},this.addShadow=function(a){if(this.useShadow&&!this.cssOnly&&a){this.$K.shadows&&this.$K.shadows.length>0&&this.removeShadow(),this.$K.shadows=[];for(var b=0;b<5;b++){var c=document.createElement("div");c.style.position="absolute",c.style.width=a.offsetWidth+"px",c.style.height=a.offsetHeight+"px",c.style.top=a.offsetTop+b+"px",c.style.left=a.offsetLeft+b+"px",c.style.zIndex=this.zIndex,c.style.filter="alpha(opacity:10)",c.style.opacity=.1,c.style.backgroundColor="#000000",document.body.appendChild(c),this.$K.shadows.push(c)}}},this.removeShadow=function(){if(this.$K.shadows){for(var a=0;a<this.$K.shadows.length;a++)document.body.removeChild(this.$K.shadows[a]);this.$K.shadows=[]}};var d=DayPilot.isArray(b)?null:b;if(d)for(var e in d)this[e]=d[e];a.clickRegistered||(DayPilot.re(document,"mousemove",a.mouseMove),DayPilot.re(document,"touchmove",a.touchMove),DayPilot.re(document,"touchstart",a.touchStart),DayPilot.re(document,"touchend",a.touchEnd),DayPilot.re(document,"mousedown",a.menuClean),a.clickRegistered=!0)},a.menuClean=function(a){"undefined"!=typeof DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},a.mouseMove=function(b){"undefined"!=typeof a&&(a.mouse=a.mousePosition(b))},a.touchMove=function(b){"undefined"!=typeof a&&(a.mouse=a.touchPosition(b))},a.touchStart=function(b){"undefined"!=typeof a&&(a.mouse=a.touchPosition(b))},a.touchEnd=function(a){},a.touchPosition=function(a){if(!a||!a.touches)return null;var b=a.touches[0],c={};return c.x=b.pageX,c.y=b.pageY,c.clientX=b.clientX,c.clientY=b.clientY,c},a.mousePosition=function(a){var b=0,c=0;if(!a)var a=window.event;a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);var d={};return d.x=b,d.y=c,d.clientY=a.clientY,d.clientX=a.clientX,d},DayPilot.Menu.touchPosition=function(b){b.touches&&(a.mouse=a.touchPosition(b))},DayPilot.MenuVisible.Menu=a.Menu,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var a=this.list.pop();a&&a.hide()}},DayPilot.ModalStatic.remove=function(a){for(var b=DayPilot.ModalStatic.list,c=0;c<b.length;c++)if(b[c]===a)return void b.splice(c,1)},DayPilot.ModalStatic.close=function(a){DayPilot.ModalStatic.result(a),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(a){var b=DayPilot.ModalStatic.list;b.length>0&&(b[b.length-1].result=a)},DayPilot.ModalStatic.displayed=function(a){for(var b=DayPilot.ModalStatic.list,c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var a=this.list[this.list.length-1];a&&a.stretch()}};navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1;DayPilot.Modal=function(a){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.border="10px solid #ccc",this.corners="Rounded",this.className=null,this.dragDrop=!0,this.height=200,this.loadingHtml=null,this.maxHeight=null,this.opacity=30,this.scrollWithPage=!0,this.top=20,this.useIframe=!0,this.width=500,this.zIndex=null,this.closed=null,this.onClosed=null;var b=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.registered=!1,this.start=null,this.coords=null,this.showHtml=function(a){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.create(),this.update(),this.useIframe){var b=function(a,b){return function(){a.setInnerHTML(a.id+"iframe",b)}};window.setTimeout(b(this,a),0)}else a.nodeType?this.div.appendChild(a):this.div.innerHTML=a;this.update(),this.register()},this.rounded=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(a){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";this.useIframe=!0,this.div||this.create();var b=this.loadingHtml;b&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",b)),this.re(this.iframe,"load",this.onIframeLoad),this.iframe.src=a,this.update(),this.register()},this.update=function(){var a=window,c=document,d=a.pageYOffset?a.pageYOffset:c.documentElement&&c.documentElement.scrollTop?c.documentElement.scrollTop:c.body.scrollTop;this.hideDiv.style.filter="alpha(opacity="+this.opacity+")",this.hideDiv.style.opacity="0."+this.opacity,this.hideDiv.style.backgroundColor="black",this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){b.hideDiv.onclick=function(){b.hide()}},500),this.div.className=this.className,this.div.style.border=this.border,this.rounded()&&(this.div.style.MozBorderRadius="5px",this.div.style.webkitBorderRadius="5px",this.div.style.borderRadius="5px"),this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.top=d+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.onIframeLoad=function(){b.iframe.contentWindow.modal=b,b.autoStretch&&b.stretch()},this.stretch=function(){var a=function(){return b.windowRect().y},c=function(){return b.windowRect().x};if(this.useIframe){for(var d=c()-40,e=this.width;e<d&&this.hasHorizontalScrollbar();e+=10)this.div.style.width=e+"px",this.div.style.marginLeft="-"+Math.floor(e/2)+"px";for(var f=this.maxHeight||a()-2*this.top,g=this.height;g<f&&this.hasVerticalScrollbar();g+=10)this.iframe.style.height=g+"px",this.div.style.height=g+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.onIframeLoad)}else console.log("clearing height style"),this.div.style.height=""},this.hasHorizontalScrollbar=function(){for(var a=this.iframe.contentWindow.document,b="BackCompat"===a.compatMode?a.body:a.documentElement,c=b.scrollWidth,d=a.body.children,e=0;e<d.length;e++){var f=d[e].offsetLeft+d[e].offsetWidth;c=Math.max(c,f)}var g=c>b.clientWidth;return g},this.hasVerticalScrollbar=function(){for(var a=this.iframe.contentWindow.document,b="BackCompat"===a.compatMode?a.body:a.documentElement,c=b.scrollHeight,d=a.body.children,e=0;e<d.length;e++){var f=d[e].offsetTop+d[e].offsetHeight;c=Math.max(c,f)}var g=c>b.clientHeight;return g},this.windowRect=function(){var a=document;if("CSS1Compat"===a.compatMode&&a.documentElement&&a.documentElement.clientWidth){var b=a.documentElement.clientWidth,c=a.documentElement.clientHeight;return{x:b,y:c}}var b=a.body.clientWidth,c=a.body.clientHeight;return{x:b,y:c}},this.register=function(){this.registered||(this.re(window,"resize",this.resize),this.re(window,"scroll",this.resize),this.dragDrop&&(this.re(document,"mousemove",this.drag),this.re(document,"mouseup",this.drop)),this.registered=!0)},this.drag=function(a){if(b.coords){var a=a||window.event,c=b.mc(a),d=c.x-b.coords.x,e=c.y-b.coords.y;b.div.style.marginLeft="0px",b.div.style.top=b.start.y+e+"px",b.div.style.left=b.start.x+d+"px"}},this.drop=function(a){b.coords&&(b.unmaskIframe(),b.coords=null)},this.maskIframe=function(){if(this.useIframe){var a=80,b=document.createElement("div");b.style.backgroundColor="#ffffff",b.style.filter="alpha(opacity="+a+")",b.style.opacity="0."+a,b.style.width="100%",b.style.height=this.height+"px",b.style.position="absolute",b.style.left="0px",b.style.top="0px",this.div.appendChild(b),this.mask=b}},this.unmaskIframe=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.resize=function(){if(b.hideDiv&&b.div&&"none"!==b.hideDiv.style.display&&"none"!==b.div.style.display){var a=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;b.scrollWithPage||(b.div.style.top=a+b.top+"px")}},this.re=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},this.ue=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},this.mc=function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.documentElement.scrollLeft,y:a.clientY+document.documentElement.scrollTop}},this.abs=function(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a.offsetParent;)a=a.offsetParent,b.x+=a.offsetLeft,b.y+=a.offsetTop;return b},this.create=function(){var a=document.createElement("div");a.id=this.id+"hide",a.style.position="fixed",a.style.left="0px",a.style.top="0px",a.style.right="0px",a.style.bottom="0px",a.style.backgroundColor="black",a.style.opacity=.5,a.oncontextmenu=function(){return!1},document.body.appendChild(a);var b=document.createElement("div");b.id=this.id+"popup",b.style.position="fixed",b.style.left="50%",b.style.top="0px",b.style.backgroundColor="white",b.style.width="50px",b.style.height="50px",this.dragDrop&&(b.onmousedown=this.dragStart);var c=50,d=null;this.useIframe&&(d=document.createElement("iframe"),d.id=this.id+"iframe",d.name=this.id+"iframe",d.frameBorder="0",d.style.width="100%",d.style.height=c+"px",b.appendChild(d)),document.body.appendChild(b),this.div=b,this.iframe=d,this.hideDiv=a},this.dragStart=function(a){b.maskIframe(),b.coords=b.mc(a||window.event),b.start={x:b.div.offsetLeft,y:b.div.offsetTop}},this.setInnerHTML=function(a,c){var d=window.frames[a],e=d.contentWindow||d.document||d.contentDocument;e.document&&(e=e.document),null==e.body&&e.write("<body></body>"),c.nodeType?e.body.appendChild(c):e.body.innerHTML=c,b.autoStretch&&(b.autoStretchFirstLoadOnly&&b.$W||(b.stretch(),b.$W=!0))},this.close=function(a){this.result=a,this.hide()},this.hide=function(){if(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),DayPilot.ModalStatic.remove(this),this.onClosed){var a={};a.result=this.result,this.onClosed(a)}else this.closed&&this.closed()},this.$X=function(){if(a)for(var b in a)this[b]=a[b]},this.$X()},DayPilot.Modal.alert=function(a,b){b=b||{},b.height=b.height||40,b.useIframe=!1;var c=new DayPilot.Modal(b),d=document.createElement("div");d.style.padding="10px";var e=document.createElement("div");e.innerHTML=a;var f=document.createElement("div");f.style.margin="10px 0px";var g=document.createElement("button");g.innerText="OK",g.onclick=function(a){parent.DayPilot.ModalStatic.close("OK")},f.appendChild(g),d.appendChild(e),d.appendChild(f),c.showHtml(d),g.focus()},DayPilot.Modal.confirm=function(a,b){return b=b||{},b.height=b.height||40,b.useIframe=!1,DayPilot.getPromise(function(c,d){b.onClosed=function(a){"undefined"==typeof a.result?d(a):c(a)};var e=new DayPilot.Modal(b),f=document.createElement("div");f.style.padding="10px";var g=document.createElement("div");g.innerHTML=a;var h=document.createElement("div");h.style.margin="10px 0px";var i=document.createElement("button");i.innerText="OK",i.onclick=function(a){parent.DayPilot.ModalStatic.close("OK")};var j=document.createTextNode(" "),k=document.createElement("button");k.innerText="Cancel",k.onclick=function(a){parent.DayPilot.ModalStatic.close()},h.appendChild(i),h.appendChild(j),h.appendChild(k),f.appendChild(g),f.appendChild(h),e.showHtml(f),i.focus()})},DayPilot.Modal.prompt=function(a,b){return b=b||{},b.height=b.height||40,b.useIframe=!1,DayPilot.getPromise(function(c,d){b.onClosed=function(a){"undefined"==typeof a.result?d(a):c(a)};var e=new DayPilot.Modal(b),f=document.createElement("div");f.style.padding="10px";var g=document.createElement("div");g.innerHTML=a;var h=document.createElement("div");h.style.margin="10px 0px";var i=document.createElement("input");i.style.width="100%",i.onkeydown=function(a){switch(a.keyCode){case 13:parent.DayPilot.ModalStatic.close(this.value);break;case 27:parent.DayPilot.ModalStatic.close()}},h.appendChild(i);var j=document.createElement("div");j.style.margin="10px 0px";var k=document.createElement("button");k.innerText="OK",k.onclick=function(a){parent.DayPilot.ModalStatic.close(i.value)};var l=document.createTextNode(" "),m=document.createElement("button");m.innerText="Cancel",m.onclick=function(a){parent.DayPilot.ModalStatic.close()},j.appendChild(k),j.appendChild(l),j.appendChild(m),f.appendChild(g),f.appendChild(h),f.appendChild(j),e.showHtml(f),i.focus()})},DayPilot.Modal.close=function(a){if(!(parent&&parent.DayPilot&&parent.DayPilot.ModalStatic))throw"Unable to close DayPilot.Modal dialog.";parent.DayPilot.ModalStatic.close(a)},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},"undefined"==typeof DayPilot.getPromise&&(DayPilot.getPromise=function(a){return"undefined"!=typeof $T?new $T(a):(DayPilot.Promise=function(a){var b=this;this.then=function(b,c){return b=b||function(){},c=c||function(){},a(b,c),DayPilot.getPromise(a)},this.catch=function(c){return b.then(null,c),DayPilot.getPromise(a)}},new DayPilot.Promise(a))})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotMonth)var DayPilotMonth=DayPilot.MonthVisible={};if(function(){var a=function(){};if("undefined"==typeof DayPilot.Month){var b={};DayPilot.Month=function(c,d){this.v="2130",this.nav={};var e=this;this.id=c,this.isMonth=!0,this.api=2,this.$24=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width=null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=0,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.numberFormat="0.00",this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cellHeaderBackColor="",this.cellHeaderFontColor="#000000",this.cellHeaderFontFamily="Tahoma",this.cellHeaderFontSize="10pt",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.eventTextAlignment=null,this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.eventTimeFontColor="gray",this.eventTimeFontFamily="Tahoma",this.eventTimeFontSize="8pt",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.$25={},this.$25.events={},this.events={},this.$26=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.$27=function(a,b){var a=DayPilot.Util.parseJSON(a);if(a.BubbleGuid){var c=a.BubbleGuid,d=this.bubbles[c];return delete this.bubbles[c],e.$28(),void("undefined"!=typeof a.Result.BubbleHTML&&d.updateView(a.Result.BubbleHTML,d))}if(a.CallBackRedirect)return void(document.location.href=a.CallBackRedirect);if("undefined"!=typeof a.ClientState&&(e.clientState=a.ClientState),"None"===a.UpdateType)return e.$29(a.CallBackData,!0),void(a.Message&&e.message(a.Message));if(a.VsUpdate){var f=document.createElement("input");f.type="hidden",f.name=e.id+"_vsupdate",f.id=f.name,f.value=a.VsUpdate,e.$2a.innerHTML="",e.$2a.appendChild(f)}e.events.list=a.Events,"undefined"!=typeof a.TagFields&&(e.tagFields=a.TagFields),"undefined"!=typeof a.SortDirections&&(e.sortDirections=a.SortDirections),"Full"===a.UpdateType&&(e.cellProperties=a.CellProperties,e.headerProperties=a.HeaderProperties,e.startDate=a.StartDate,"undefined"!=typeof a.ShowWeekend&&(e.showWeekend=a.ShowWeekend),e.headerBackColor=a.HeaderBackColor?a.HeaderBackColor:e.headerBackColor,e.backColor=a.BackColor?a.BackColor:e.backColor,e.nonBusinessBackColor=a.NonBusinessBackColor?a.NonBusinessBackColor:e.nonBusinessBackColor,e.locale=a.Locale?a.Locale:e.locale,e.timeFormat=a.TimeFormat?a.TimeFormat:e.timeFormat,"undefined"!=typeof a.WeekStarts&&(e.weekStarts=a.WeekStarts),e.hashes=a.Hashes),e.multiselect.clear(!0),e.multiselect.initList=a.SelectedEvents,e.$2b(),e.$2c(),e.$2d(),"Full"===a.UpdateType&&(e.$2e(),e.$2f()),e.$2g(),e.$2h(),e.$2i(),e.$29(a.CallBackData,!0),e.$2j(),a.Message&&e.message(a.Message)},this.$29=function(a,b){var c=function(a,b){return function(){if(e.$2k()){if("function"==typeof e.onAfterRender){var c={};c.isCallBack=b,c.data=a,e.onAfterRender(c)}}else e.afterRender&&e.afterRender(a,b)}};window.setTimeout(c(a,b),0)},this.$2k=function(){return 2===e.api},this.$2l=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$2d=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var a=this.events.list.length,b=0;b<a;b++)this.$2m(b);this.cellMode?this.$2n():this.$2o()}},this.$28=function(){},this.$2o=function(){if(this.events.list){for(var a=0;a<this.events.list.length;a++){var b=this.events.list[a];if(b.start=new DayPilot.Date(b.start),b.end=new DayPilot.Date(b.end),!(b.start.getTime()>b.end.getTime()))for(var c=0;c<this.rows.length;c++){var d=this.rows[c];if(d.belongsHere(b)){var f=new DayPilot.Event(b,e);d.events.push(f),"function"==typeof this.onBeforeEventRender&&(f.cache=this.$25.events[a])}}}for(var g=0;g<this.rows.length;g++){var d=this.rows[g];d.events.sort(this.$2p);for(var h=0;h<this.rows[g].events.length;h++){var i=d.events[h],j=d.getStartColumn(i),k=d.getWidth(i);d.putIntoLine(i,j,k,g)}}}},this.$2n=function(){this.cellEvents=[];for(var a=0;a<this.$2q();a++){this.cellEvents[a]=[];for(var b=0;b<this.rows.length;b++){var c={},d=this.firstDate.addDays(7*b+a);
c.start=d,c.end=d.addDays(1),c.events=[],this.cellEvents[a][b]=c}}for(var f=0;f<this.events.list.length;f++){var g=this.events.list[f];if(g.start=new DayPilot.Date(g.start),g.end=new DayPilot.Date(g.start),!(g.start.getTime()>g.end.getTime()))for(var a=0;a<this.$2q();a++)for(var b=0;b<this.rows.length;b++){var c=this.cellEvents[a][b];if(g.start.getTime()>=c.start.getTime()&&g.start.getTime()<c.end.getTime()){var h=new DayPilot.Event(g,e);c.events.push(h),"function"==typeof this.onBeforeEventRender&&(h.cache=this.$25.events[f])}}}for(var a=0;a<this.$2q();a++)for(var b=0;b<this.rows.length;b++){var c=this.cellEvents[a][b];c.events.sort(this.$2p)}},this.$2b=function(){for(var a=0;a<this.elements.events.length;a++){var b=this.elements.events[a];b.event=null,b.click=null,b.parentNode.removeChild(b)}this.elements.events=[]},this.$2i=function(){this.$25.events={},this.cellMode?this.$2r():this.$2s(),this.multiselect.redraw()},this.$2r=function(){this.elements.events=[];for(var a=0;a<this.$2q();a++)for(var b=0;b<this.rows.length;b++)for(var c=this.cellEvents[a][b],e=(this.cells[a][b],0);e<c.events.length;e++){var f=c.events[e];f.part.colStart=a,f.part.colWidth=1,f.part.row=b,f.part.line=e,f.part.startsHere=!0,f.part.endsHere=!0,this.$2t(f)}},this.$2s=function(){this.elements.events=[];for(var a=0;a<this.rows.length;a++)for(var b=this.rows[a],c=0;c<b.lines.length;c++)for(var d=b.lines[c],e=0;e<d.length;e++)this.$2t(d[e])},this.$2u=function(a,b){if(!(a&&b&&a.start&&b.start))return 0;var c=a.start().ticks-b.start().ticks;if(0!==c)return c;var d=b.end().ticks-a.end().ticks;return d},this.$2p=function(a,b){if(!a||!b)return 0;if(!(a.data&&b.data&&a.data.sort&&b.data.sort&&0!==a.data.sort.length&&0!==b.data.sort.length))return e.$2u(a,b);for(var c=0,d=0;0===c&&"undefined"!=typeof a.data.sort[d]&&"undefined"!=typeof b.data.sort[d];)c=a.data.sort[d]===b.data.sort[d]?0:e.$2v(a.data.sort[d],b.data.sort[d],e.sortDirections[d]),d++;return c},this.$2v=function(a,b,c){var d="desc"!==c,e=d?-1:1,f=-e;if(null===a&&null===b)return 0;if(null===b)return f;if(null===a)return e;var g=[];return g[0]=a,g[1]=b,g.sort(),a===g[0]?e:f},this.$2w=function(a,c,d,e,f,g){f||(f=0);var h=e;this.shadow={},this.shadow.list=[],this.shadow.start={x:a,y:c},this.shadow.width=e,this.eventMoveToPosition&&(h=1,this.shadow.position=d);var i=7*c+a-f;i<0&&(h+=i,a=0,c=0);for(var j=f;j>=7;)c--,j-=7;if(j>a){var k=7-this.$2q();j>a+k?(c--,a=a+7-j):(h=h-j+a,a=0)}else a-=j;c<0&&(c=0,a=0);var l=null;for(b.resizingEvent?l="w-resize":b.movingEvent&&(l="move"),this.nav.top.style.cursor=l;h>0&&c<this.rows.length;){var m=Math.min(this.$2q()-a,h),n=this.rows[c],o=this.$2x(c),p=n.getHeight();this.eventMoveToPosition&&(o=this.$2y(c,d),p=2);var q=document.createElement("div");q.setAttribute("unselectable","on"),q.style.position="absolute",q.style.left=this.$2z()*a+"%",q.style.width=this.$2z()*m+"%",q.style.top=o+"px",q.style.height=p+"px",q.style.cursor=l;var r=document.createElement("div");r.setAttribute("unselectable","on"),q.appendChild(r),this.cssOnly&&(q.className=this.$2l("_shadow"),r.className=this.$2l("_shadow_inner")),this.cssOnly||(r.style.position="absolute",r.style.top="0px",r.style.right="0px",r.style.left="0px",r.style.bottom="0px","Fill"===this.shadowType?(r.style.backgroundColor="#aaaaaa",r.style.opacity=.5,r.style.filter="alpha(opacity=50)",g&&g.event&&(r.style.overflow="hidden",r.style.fontSize=this.eventFontSize,r.style.fontFamily=this.eventFontFamily,r.style.color=this.eventFontColor,r.innerHTML=g.event.client.innerHTML()?g.event.client.innerHTML():g.event.text())):r.style.border="2px dotted #666666");var s=this.nav.events;s.appendChild(q),this.shadow.list.push(q),h-=m+7-this.$2q(),a=0,c++}},this.$2A=function(){if(this.shadow){this.nav.events;DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor=""}},this.$2y=function(a,b){for(var c=0,d=0;d<a;d++)c+=this.rows[d].getHeight();return c+=this.cellHeaderHeight,c+=b*h.lineHeight()},this.$2B=function(a,b){return this.firstDate.addDays(7*b+a)},this.$2m=function(a){var b=this.$25.events,c=this.events.list[a],d={};for(var e in c)d[e]=c[e];if("function"==typeof this.onBeforeEventRender){var f={};f.e=d,f.data=d,this.onBeforeEventRender(f)}b[a]=d},this.$2t=function(a,b){var b=this.cellMode,c=a.part.row,d=a.part.line,g=a.part.colStart,i=a.part.colWidth,j=a.cache||a.data,k=b?0:this.$2z()*g,l=b?100:this.$2z()*i,m=b?d*h.lineHeight():this.$2y(c,d),n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.height=h.eventHeight()+"px",this.cssOnly?(n.style.position="relative",n.style.overflow="hidden",n.className=this.$2l("_event")):n.style.fontFamily=this.eventFontFamily,j.cssClass&&DayPilot.Util.addClass(n,j.cssClass),n.event=a,b?(n.style.marginRight="2px",n.style.marginBottom="2px"):(n.style.width=l+"%",n.style.position="absolute",n.style.left=k+"%",n.style.top=m+"px"),this.showToolTip&&j.toolTip&&!this.bubble&&(n.title=j.toolTip),n.onclick=this.$2C,n.ondblclick=this.$2D,n.oncontextmenu=this.$2E,n.onmousedown=this.$2F,n.onmousemove=this.$2G,n.onmouseout=this.$2H,n.ontouchstart=f.onEventTouchStart,n.ontouchmove=f.onEventTouchMove,n.ontouchend=f.onEventTouchEnd,a.part.startsHere||DayPilot.Util.addClass(n,this.$2l("_event_continueleft")),a.part.endsHere||DayPilot.Util.addClass(n,this.$2l("_event_continueright"));var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$2l("_event_inner"),a.client.innerHTML()?o.innerHTML=a.client.innerHTML():o.innerHTML=a.text(),j.backColor&&(o.style.background=j.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(o.style.filter="")),n.appendChild(o),this.eventTextAlignment&&(o.style.textAlign=this.eventTextAlignment.toLowerCase());var p=this.$2I.locale(),q=e.eventStartEndWidth;if(this.eventStartTime){var r="Clock12Hours"===e.$2I.timeFormat()?a.start().toString("h tt",p):a.start().toString("H",p),s={left:5,top:3,width:q,bottom:2,v:"Visible",html:r,css:e.$2l("_event_timeleft")},t=DayPilot.Areas.createArea(n,a,s);n.appendChild(t),o.style.paddingLeft=q+"px"}if(this.eventEndTime){var r="Clock12Hours"===e.$2I.timeFormat()?a.end().toString("h tt",p):a.end().toString("H",p),s={right:5,top:3,width:q,bottom:2,v:"Visible",html:r,css:e.$2l("_event_timeright")},t=DayPilot.Areas.createArea(n,a,s);n.appendChild(t),o.style.paddingRight=q+"px"}if(j.areas)for(var u=j.areas,v=0;v<u.length;v++){var s=u[v];if("Visible"===s.v){var t=DayPilot.Areas.createArea(n,a,s);n.appendChild(t)}}this.elements.events.push(n),b?this.cells[g][c].body.appendChild(n):this.nav.events.appendChild(n),e.multiselect.$2J(n.event)&&e.multiselect.add(n.event,!0);var w=n;if(e.$2k()){if("function"==typeof e.onAfterEventRender){var x={};x.e=w.event,x.div=w,e.onAfterEventRender(x)}}else e.afterEventRender&&e.afterEventRender(w.event,w)},this.$2C=function(a){f.start||e.$2K(this,a)},this.$2D=function(a){e.$2L(this,a)},this.$2G=function(a){var c=this,d=c.event;if("undefined"!=typeof b&&!b.movingEvent&&!b.resizingEvent){var f=DayPilot.mo3(c,a);if(f){!function(){var a=c;if(!a.active){var b=[];"Disabled"!==e.eventDeleteHandling&&b.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:e.$2l("_event_delete"),js:function(a){e.$2M(a)}});var d=a.event.cache?a.event.cache.areas:a.event.data.areas;d&&d.length>0&&(b=b.concat(d)),DayPilot.Areas.showAreas(a,a.event,null,b)}}(),e.cssOnly&&e.$2N(c.event).each(function(a){DayPilot.Util.addClass(a,e.$2l("_event_hover"))});var g=6;if(!e.cellMode&&f.x<=g&&d.client.resizeEnabled()?d.part.startsHere?(c.style.cursor="w-resize",c.dpBorder="left"):c.style.cursor="not-allowed":!e.cellMode&&c.clientWidth-f.x<=g&&d.client.resizeEnabled()?d.part.endsHere?(c.style.cursor="e-resize",c.dpBorder="right"):c.style.cursor="not-allowed":c.style.cursor="default","undefined"!=typeof DayPilotBubble&&e.bubble&&"Disabled"!==e.eventHoverHandling)if(b.movingEvent||b.resizingEvent)DayPilotBubble.hideActive();else{var h=this.$2O&&f.x===this.$2O.x&&f.y===this.$2O.y;h||(this.$2O=f,e.bubble.showEvent(c.event))}}}},this.$2H=function(a){var b=this;"undefined"!=typeof DayPilotBubble&&e.bubble&&e.bubble.hideOnMouseOut(),b.style.cursor="",e.cssOnly&&e.$2N(b.event).each(function(a){DayPilot.Util.removeClass(a,e.$2l("_event_hover"))}),DayPilot.Areas.hideAreas(b,a)},this.$2E=function(){var a=this;return e.$2P(a.event),!1},this.$2F=function(a){if(!f.start){var c=this,d=c.event,g=d.part.row,h=d.part.colStart,i=d.part.line,j=d.part.colWidth;a=a||window.event;var k=DayPilot.Util.mouseButton(a);if(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),k.left)if("undefined"!=typeof DayPilotBubble&&e.bubble&&DayPilotBubble.hideActive(),b.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var l={};l.start={},l.start.x=h,l.start.y=g,l.event=c.event,l.width=DayPilot.DateUtil.daysSpan(l.event.start(),l.event.end())+1,l.direction=this.style.cursor,b.resizingEvent=l}else if("move"===this.style.cursor||d.client.moveEnabled()){e.$2A();var m=DayPilot.mo3(e.nav.events,a);if(!m)return;var n=e.$2Q(m.x,m.y);if(!n)return;var o=DayPilot.DateUtil.daysDiff(d.start(),e.rows[g].start),p=7*n.y+n.x-(7*g+h);o&&(p+=o);var q={};q.start={},q.start.x=h,q.start.y=g,q.start.line=i,q.offset=e.eventMoveToPosition?0:p,q.colWidth=j,q.event=c.event,q.coords=m,b.movingEvent=q}}},this.temp={},this.temp.getPosition=function(){if(!e.coords)return null;var a=e.$2Q(e.coords.x,e.coords.y);if(!a)return null;var b=new DayPilot.Date(e.$2B(a.x,a.y)),a={};return a.start=b,a.end=b.addDays(1),a},this.$2R={};var f=e.$2R;f.active=!1,f.start=!1,f.timeouts=[],f.onEventTouchStart=function(a){if(!f.active&&!f.start){f.clearTimeouts(),f.start=!0,f.active=!1;var b=this,c=b.event;if(c.client.moveEnabled()){var d=e.tapAndHoldTimeout;f.timeouts.push(window.setTimeout(function(){f.active=!0,f.start=!1;var c=f.relativeCoords(a);f.startMoving(b,c),a.preventDefault()},d))}a.stopPropagation()}},f.onEventTouchMove=function(a){f.clearTimeouts(),f.start=!1},f.onEventTouchEnd=function(a){f.clearTimeouts(),f.start&&e.$2S(this,a),window.setTimeout(function(){f.start=!1,f.active=!1},500)},f.onMainTouchStart=function(a){if(!f.active&&!f.start){f.clearTimeouts(),f.start=!0,f.active=!1;var b=e.tapAndHoldTimeout;f.timeouts.push(window.setTimeout(function(){f.active=!0,f.start=!1,a.preventDefault();var b=f.relativeCoords(a);f.startRange(b)},b))}},f.onMainTouchMove=function(a){if(f.clearTimeouts(),f.start=!1,f.active){a.preventDefault();var b=f.relativeCoords(a);if(f.moving)return void f.updateMoving(b);f.range&&f.updateRange(b)}},f.onMainTouchEnd=function(a){if(f.clearTimeouts(),f.active){if(f.moving){var c=(f.moving,f.moving.event),d=e.shadow.start,g=e.shadow.position,h=f.moving.offset;e.$2A(),f.moving=null,e.$2T(c,d.x,d.y,h,a,g)}if(f.range){var i=f.range,d=new DayPilot.Date(e.$2B(i.from.x,i.from.y)),j=d.addDays(i.width);f.range=null,e.$2U(d,j)}}window.setTimeout(function(){f.start=!1,f.active=!1},500)},f.clearTimeouts=function(){for(var a=0;a<f.timeouts.length;a++)clearTimeout(f.timeouts[a]);f.timeouts=[]},f.relativeCoords=function(a){var b=e.nav.events,c=a.touches[0].pageX,d=a.touches[0].pageY,f={x:c,y:d},g=DayPilot.abs(b),f={x:c-g.x,y:d-g.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return f},f.startMoving=function(a,b){e.$2A();var c=a.event,d=e.$2Q(b.x,b.y);if(d){var g=DayPilot.DateUtil.daysDiff(c.start(),e.rows[c.part.row].start),h=7*d.y+d.x-(7*c.part.row+c.part.colStart);g&&(h+=g);var i={};i.start={},i.start.x=c.part.colStart,i.start.y=c.part.row,i.start.line=c.part.line,i.offset=e.eventMoveToPosition?0:h,i.colWidth=c.part.colWidth,i.event=c,i.coords=b,f.moving=i,f.updateMoving(b)}},f.updateMoving=function(a){var b=e.$2Q(a.x,a.y);if(b){var c=e.$2V(b);e.$2A();var d=f.moving.event,g=f.moving.offset,h=e.cellMode?1:DayPilot.DateUtil.daysSpan(d.start(),d.end())+1;h<1&&(h=1),e.$2w(b.x,b.y,c,h,g,d)}},f.startRange=function(a){var b=e.$2Q(a.x,a.y);if(b){e.$2A();var c={};c.start={},c.start.x=b.x,c.start.y=b.y,c.x=b.x,c.y=b.y,c.width=1,f.range=c,f.updateRange(a)}},f.updateRange=function(a){var b=e.$2Q(a.x,a.y);if(b){e.$2A();var c=f.range.start,d=7*c.y+c.x,g=7*b.y+b.x,h=Math.abs(g-d)+1;h<1&&(h=1);var i=d<g?c:b;f.range.width=h,f.range.from={x:i.x,y:i.y},e.$2w(i.x,i.y,0,h,0,null)}},this.isWeekend=function(a){var b=0,c=6;return a.dayOfWeek()===b||a.dayOfWeek()===c},this.$2W=function(){var a=this.startDate.lastDayOfMonth();if(this.showWeekend)return a;for(;this.isWeekend(a);)a=a.addDays(-1);return a},this.$2c=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),"Month"===this.viewType?this.startDate=this.startDate.firstDayOfMonth():this.startDate=this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(h.weekStarts()),!this.showWeekend){for(var a=this.startDate.addMonths(-1).getMonth(),b=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(b);)b=b.addDays(-1);b.getMonth()===a&&(this.firstDate=this.firstDate.addDays(7))}var d;this.startDate;if("Month"===this.viewType){var f=this.$2W(),g=DayPilot.DateUtil.daysDiff(this.firstDate,f)+1;d=Math.ceil(g/7)}else d=this.weeks;this.days=7*d,this.rows=[];for(var i=0;i<d;i++){var j={};j.start=this.firstDate.addDays(7*i),j.end=j.start.addDays(this.$2q()),j.events=[],j.lines=[],j.index=i,j.minHeight=this.cellHeight,j.calendar=this,j.belongsHere=function(a){return a.end.getTime()===a.start.getTime()&&a.start.getTime()===this.start.getTime()||!(a.end.getTime()<=this.start.getTime()||a.start.getTime()>=this.end.getTime())},j.getPartStart=function(a){return DayPilot.DateUtil.max(this.start,a.start())},j.getPartEnd=function(a){return DayPilot.DateUtil.min(this.end,a.end())},j.getStartColumn=function(a){var b=this.getPartStart(a);return DayPilot.DateUtil.daysDiff(this.start,b)},j.getWidth=function(a){return DayPilot.DateUtil.daysSpan(this.getPartStart(a),this.getPartEnd(a))+1},j.putIntoLine=function(a,b,c,d){for(var e=this,f=0;f<this.lines.length;f++){var g=this.lines[f];if(g.isFree(b,c))return g.addEvent(a,b,c,d,f),f}var g=[];return g.isFree=function(a,b){for(var c=!0,d=0;d<this.length;d++){var e=this[d];a+b-1<e.part.colStart||a>e.part.colStart+e.part.colWidth-1||(c=!1)}return c},g.addEvent=function(a,b,c,d,f){a.part.colStart=b,a.part.colWidth=c,a.part.row=d,a.part.line=f,a.part.startsHere=e.start.getTime()<=a.start().getTime(),a.part.endsHere=e.end.getTime()>=a.end().getTime(),this.push(a)},g.addEvent(a,b,c,d,this.lines.length),this.lines.push(g),this.lines.length-1},j.getStart=function(){for(var a=0,b=0;b<e.rows.length&&b<this.index;b++)a+=e.rows[b].getHeight()},j.getHeight=function(){return Math.max(this.lines.length*h.lineHeight()+e.cellHeaderHeight+e.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(j)}this.$2X=this.firstDate.addDays(7*d)},this.$2Y=function(){switch(this.heightSpec){case"Auto":for(var a=h.headerHeight(),b=0;b<this.rows.length;b++)a+=this.rows[b].getHeight();return a;case"Fixed":return this.height}},this.$2Z=function(a,b){var c=7*b.y+b.x-(7*a.y+a.x);return c+1},this.$30={},this.$30.scope=null,this.$30.notify=function(){e.$30.scope&&e.$30.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$31=function(){var a=this.nav.top;this.nav.top.dp=this,a.setAttribute("unselectable","on"),a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.WebkitUserSelect="none",a.style.WebkitTapHighlightColor="rgba(0,0,0,0)",a.style.WebkitTouchCallout="none",a.style.position="relative",this.width&&(a.style.width=this.width),a.onselectstart=function(a){return!1},this.cssOnly?a.className=this.$2l("_main"):a.style.border="1px solid "+this.borderColor,this.hideUntilInit&&(a.style.visibility="hidden"),this.visible||(a.style.display="none"),a.onmousemove=this.$32,a.ontouchstart=f.onMainTouchStart,a.ontouchmove=f.onMainTouchMove,a.ontouchend=f.onMainTouchEnd,this.$2a=document.createElement("div"),this.$2a.style.display="none",this.nav.top.appendChild(this.$2a);var b=document.createElement("div");b.style.position="relative",b.style.height=h.headerHeight()+"px",b.oncontextmenu=function(){return!1},this.nav.top.appendChild(b),this.nav.header=b;var c=document.createElement("div");c.style.zoom="1";var d=document.createElement("div");d.style.position="relative",c.appendChild(d),this.nav.top.appendChild(c),this.nav.scrollable=c,this.nav.events=d},this.$32=function(a){e.coords=DayPilot.mo3(e.nav.events,a);var c=e.coords;if(c){var d=e.$2Q(c.x,c.y);if(d)if(b.resizingEvent){e.$2A();var h,i,f=b.resizingEvent;f.start;if("w-resize"===f.direction){i=d;var j=f.event.end();j.getDatePart().getTime()===j.getTime()&&(j=j.addDays(-1));var k=e.$33(j);h=e.$2Z(d,k)}else i=e.$33(f.event.start()),h=e.$2Z(i,d);h<1&&(h=1),e.$2w(i.x,i.y,0,h)}else if(b.movingEvent){if(e.debug.message("mousemove/moving start coords: "+b.movingEvent.coords.x+" "+b.movingEvent.coords.y),e.debug.message("mousemove/current coords: "+c.x+" "+c.y),c.x===b.movingEvent.coords.x&&c.y===b.movingEvent.coords.y)return;var l=e.$2V(d);e.$2A();var m=b.movingEvent.event,n=b.movingEvent.offset,h=e.cellMode?1:DayPilot.DateUtil.daysSpan(m.start(),m.end())+1;h<1&&(h=1),e.$2w(d.x,d.y,l,h,n,m)}else if(b.timeRangeSelecting){b.cancelCellClick=!0,e.$2A();var i=b.timeRangeSelecting,o=7*i.y+i.x,p=7*d.y+d.x,h=Math.abs(p-o)+1;h<1&&(h=1);var q=o<p?i:d;b.timeRangeSelecting.from={x:q.x,y:q.y},b.timeRangeSelecting.width=h,b.timeRangeSelecting.moved=!0,e.$2w(q.x,q.y,0,h,0,null)}}},this.$2V=function(a){for(var b=a.relativeY,c=e.rows[a.y],d=e.cellHeaderHeight,f=h.lineHeight(),g=c.lines.length,i=0;i<c.lines.length;i++){var j=c.lines[i];if(j.isFree(a.x,1)){g=i;break}}var k=Math.floor((b-d+f/2)/f),k=Math.min(g,k),k=Math.max(0,k);return k},this.message=function(a,b,c,d){if(null!==a){var k,b=b||this.messageHideAfter||2e3,c=c||"#ffffff",d=d||"#000000",f=.8,g=h.headerHeight();if(this.nav.message)k=e.nav.message;else{k=document.createElement("div"),k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.right="0px",k.style.left="0px",k.style.top=g+"px",k.style.opacity=f,k.style.filter="alpha(opacity="+100*f+")",k.style.display="none",k.onmousemove=function(){k.messageTimeout&&!k.status&&clearTimeout(k.messageTimeout)},k.onmouseout=function(){"none"!==e.nav.message.style.display&&(k.messageTimeout=setTimeout(e.$34,500))},this.cssOnly||(k.style.textAlign="left");var l=document.createElement("div");l.setAttribute("unselectable","on"),l.onclick=function(){e.nav.message.style.display="none"},this.cssOnly?l.className=this.$2l("_message"):l.style.padding="5px",k.appendChild(l);var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.position="absolute",this.cssOnly?m.className=this.$2l("_message_close"):(m.style.top="5px",m.style.right=DayPilot.sw(e.nav.scroll)+5+"px",m.style.color=c,m.style.lineHeight="100%",m.style.cursor="pointer",m.style.fontWeight="bold",m.innerHTML="X"),m.onclick=function(){e.nav.message.style.display="none"},k.appendChild(m),this.nav.top.appendChild(k),this.nav.message=k}var n=function(){e.nav.message.style.opacity=f;var g=e.nav.message.firstChild;e.cssOnly||(g.style.backgroundColor=d,g.style.color=c),g.innerHTML=a;var h=function(){k.messageTimeout=setTimeout(e.$34,b)};DayPilot.fade(e.nav.message,.2,h)};clearTimeout(k.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(e.nav.message,-.2,n):n()}},this.message.show=function(a){e.message(a)},this.message.hide=function(){e.$34()},this.$34=function(){var a=function(){e.nav.message.style.display="none"};DayPilot.fade(e.nav.message,-.2,a)},this.$35=function(a){"Parent100Pct"===e.heightSpec&&e.$2g()},this.$2g=function(){var a=this.nav.scrollable;if("Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(a.style.top=this.headerHeight+"px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.style.overflow="auto",a.style.position="absolute"):a.style.position="relative","Parent100Pct"===this.heightSpec){this.nav.top.style.height="100%";this.nav.top.clientHeight}else this.nav.top.style.height=this.$2Y()+"px";for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++)this.cells[c][d].style.top=this.$2x(d)+"px",this.cells[c][d].style.height=this.rows[d].getHeight()+"px";this.$36()},this.$2Q=function(a,b){for(var c=Math.floor(this.nav.top.clientWidth/this.$2q()),d=Math.min(Math.floor(a/c),this.$2q()-1),e=null,f=0,g=0,h=0,i=0;i<this.rows.length;i++){if(g+=this.rows[i].getHeight(),b<g){f=b-h,e=i;break}h=g}null===e&&(e=this.rows.length-1);var j={};return j.x=d,j.y=e,j.relativeY=f,j},this.$33=function(a){for(var b=DayPilot.DateUtil.daysDiff(this.firstDate,a),c={x:0,y:0};b>=7;)c.y++,b-=7;return c.x=b,c},this.$36=function(){var a=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=a+"px"};var g=null;this.$2f=function(){var a=this.nav.header,b=this.nav.events;this.cells=[];for(var c=0;c<this.$2q();c++){this.cells[c]=[];var d=this.headerProperties?this.headerProperties[c]:null,f=c+h.weekStarts();if(f>6&&(f-=7),!d){var d={};d.html=h.locale().dayNames[f],this.cssOnly||(d.backColor=this.headerBackColor)}if("function"==typeof e.onBeforeHeaderRender){var i={};i.header={},i.header.dayOfWeek=f;var j=["html","backColor","cssClass"];DayPilot.Util.copyProps(d,i.header,j),e.onBeforeHeaderRender(i),DayPilot.Util.copyProps(i.header,d,j)}var k=document.createElement("div");k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.left=this.$2z()*c+"%",k.style.width=this.$2z()+"%",k.style.top="0px",k.style.height=h.headerHeight()+"px",function(a){k.onclick=function(){e.$37(a)}}(f);var l=document.createElement("div");l.setAttribute("unselectable","on"),l.className=this.$2l("_header_inner"),l.innerHTML=d.html,k.appendChild(l),this.cssOnly?(k.className=this.$2l("_header"),d&&(d.cssClass&&DayPilot.Util.addClass(k,d.cssClass),d.backColor&&(l.style.background=d.backColor))):(l.style.position="absolute",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.style.backgroundColor=d.backColor,l.style.fontFamily=this.headerFontFamily,l.style.fontSize=this.headerFontSize,l.style.color=this.headerFontColor,l.style.textAlign="center",l.style.cursor="default",l.className=this.$2l("header"),c!==this.$2q()-1&&(l.style.borderRight="1px solid "+this.borderColor)),a.appendChild(k);for(var m=0;m<this.rows.length;m++)this.$38(c,m,b)}if(!DayPilot.contains(this.nav.top.childNodes,g)&&this.numberFormat){var n=document.createElement("div");n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="0px",n.style.backgroundColor="#1ABB9C",n.style.color="white",n.innerHTML="VineSoft",g=n,this.nav.top.appendChild(n)}},this.$2e=function(){for(var a=0;a<this.cells.length;a++)for(var b=0;b<this.cells[a].length;b++)this.cells[a][b].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.$38=function(b,c,d){var f=this.rows[c],g=this.firstDate.addDays(7*c+b),i=this.cellProperties?this.cellProperties[c*this.$2q()+b]:null,j=null;if(i)j=i.headerHtml;else{var k=g.getDay();j=1===k?h.locale().monthNames[g.getMonth()]+" "+k:k+""}if(!i){var i={};i.business=!e.isWeekend(g),i.headerHtml=j}if("function"==typeof e.onBeforeCellRender){var l={};l.cell={},l.cell.areas=null,l.cell.backColor=null,l.cell.backImage=null,l.cell.backRepeat=null,l.cell.business=e.isWeekend(g),l.cell.headerHtml=j,l.cell.headerBackColor=null,l.cell.cssClass=null,l.cell.html=null,l.cell.start=g,l.cell.end=l.cell.start.addDays(1),DayPilot.Util.copyProps(i,l.cell),e.onBeforeCellRender(l),DayPilot.Util.copyProps(l.cell,i,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.position="absolute",m.style.cursor="default",m.style.left=this.$2z()*b+"%",m.style.width=this.$2z()+"%",m.style.top=this.$2x(c)+"px",m.style.height=f.getHeight()+"px",m.d=g,m.x=b,m.y=c,m.props=i;var n=this.startDate.addMonths(-1).getMonth(),o=this.startDate.addMonths(1).getMonth(),p=this.startDate.getMonth(),q=document.createElement("div");q.setAttribute("unselectable","on"),m.appendChild(q),q.className=this.$2l("_cell_inner"),q.className=this.$2l("_cell_inner"),g.getMonth()===p?m.className=this.$2l("_cell"):g.getMonth()===n?m.className=this.$2l("_cell")+" "+this.$2l("_previous"):g.getMonth()===o?m.className=this.$2l("_cell")+" "+this.$2l("_next"):a(),i&&(i.cssClass&&DayPilot.Util.addClass(m,i.cssClass),i.business&&DayPilot.Util.addClass(m,this.$2l("_cell_business")),i.backColor&&(q.style.backgroundColor=i.backColor),i.backImage&&(q.style.backgroundImage="url('"+i.backImage+"')"),i.backRepeat&&(q.style.backgroundRepeat=i.backRepeat)),m.onmousedown=this.$39,m.onmousemove=this.$3a,m.onmouseout=this.$3b,m.oncontextmenu=this.$3c,m.onclick=this.$3d,m.ondblclick=this.$3e;var r=document.createElement("div");if(r.setAttribute("unselectable","on"),r.style.height=this.cellHeaderHeight+"px",i&&i.headerBackColor&&(r.style.background=i.headerBackColor),r.className=this.$2l("_cell_header"),r.innerHTML=i.headerHtml,q.appendChild(r),i&&i.html){var s=document.createElement("div");s.setAttribute("unselectable","on"),s.style.height=f.getHeight()-this.cellHeaderHeight+"px",s.style.overflow="hidden",s.innerHTML=i.html,q.appendChild(s)}if(this.cellMode){var t=document.createElement("div");t.setAttribute("unselectable","on"),t.style.height=this.cellHeight-this.cellHeaderHeight+"px",t.style.overflow="auto",t.style.position="relative";var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.paddingTop="1px",u.style.paddingBottom="1px",t.appendChild(u),q.appendChild(t),m.body=u,m.scrolling=t}if(m.props)for(var v=m.props.areas||[],w=0;w<v.length;w++){var x=v[w];if("Visible"===x.v){var y=DayPilot.Areas.createArea(m,m.props,x);m.appendChild(y)}}this.cells[b][c]=m,d.appendChild(m),"function"==typeof e.onAfterCellRender&&(l.cell.div=m,l.cell.divHeader=r,e.onAfterCellRender(l))},this.$3a=function(){var a=this;a.props&&DayPilot.Areas.showAreas(a,a.props)},this.$3b=function(a){var b=this;b.props&&DayPilot.Areas.hideAreas(b,a)},this.$3c=function(){var a=this.d,b=function(a){var b=new DayPilot.Date(a),c=b.addDays(1),d=new DayPilot.Selection(b,c,null,e);e.contextMenuSelection&&e.contextMenuSelection.show(d)};return b(a),!1},this.$3e=function(){var a=this.d;if(e.timeouts){for(var b in e.timeouts)window.clearTimeout(e.timeouts[b]);e.timeouts=null}if("Disabled"!==e.timeRangeDoubleClickHandling){var c=new DayPilot.Date(a),d=c.addDays(1);e.$3f(c,d)}},this.$3d=function(){if(!b.cancelCellClick){var a=this.d,c=function(a){var b=new DayPilot.Date(a),c=b.addDays(1);e.$2U(b,c)};if("Disabled"!==e.timeRangeSelectedHandling&&"Disabled"===e.timeRangeDoubleClickHandling)return void c(a);e.timeouts||(e.timeouts=[]);var d=function(a){return function(){c(a)}};e.timeouts.push(window.setTimeout(d(a),e.doubleClickTimeout))}},this.$39=function(a){var c=this,d=c.x,f=c.y;if(b.cancelCellClick=!1,c.scrolling){var g=DayPilot.mo3(c.scrolling,a),h=DayPilot.sw(c.scrolling),i=c.scrolling.offsetWidth;if(g.x>i-h)return}"Disabled"!==e.timeRangeSelectedHandling&&(e.$2A(),b.timeRangeSelecting={root:e,x:d,y:f,from:{x:d,y:f},width:1})},this.$2q=function(){return this.showWeekend?7:5},this.$2z=function(){return this.showWeekend?14.285:20},this.$3g=function(a){return 6===a.getUTCDay()||0===a.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.$2x=function(a){for(var b=0,c=0;c<a;c++)b+=this.rows[c].getHeight();return b},this.clearSelection=function(){this.$2A()},this.$3h=function(a,b,c){var d={};d.action=a,d.parameters=c,d.data=b,d.header=this.$3i();var f="JSON"+DayPilot.JSON.stringify(d);__doPostBack(e.uniqueID,f)},this.$3j=function(a,b,c,d){if(!this.$3k())return void e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof d&&(d="CallBack");var f={};f.action=a,f.type=d,f.parameters=b,f.data=c,f.header=this.$3i();var g="JSON"+DayPilot.JSON.stringify(f);this.backendUrl?DayPilot.request(this.backendUrl,this.$3l,g,this.$3m):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,g,this.$27,null,this.callbackError,!0)},this.$3k=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$3m=function(a){if("function"==typeof e.onAjaxError){var b={};b.request=a,e.onAjaxError(b)}else"function"==typeof e.ajaxError&&e.ajaxError(a)},this.$3l=function(a){e.$27(a.responseText)},this.$3i=function(){var a={};return a.v=this.v,a.control="dpm",a.id=this.id,a.visibleStart=new DayPilot.Date(this.firstDate),a.visibleEnd=a.visibleStart.addDays(this.days),a.clientState=this.clientState,a.cssOnly=e.cssOnly,a.cssClassPrefix=e.cssClassPrefix,a.startDate=e.startDate,a.showWeekend=this.showWeekend,a.headerBackColor=this.headerBackColor,a.backColor=this.backColor,a.nonBusinessBackColor=this.nonBusinessBackColor,a.locale=this.locale,a.timeFormat=this.timeFormat,a.weekStarts=this.weekStarts,a.viewType=this.viewType,a.weeks=this.weeks,a.selected=e.multiselect.events(),a.hashes=e.hashes,a},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return e.visibleStart().addDays(e.days)},this.$3n=function(a,b,c,d){if("PostBack"===a)e.postBack2(b,c,d);else if("CallBack"===a)e.$3j(b,c,d,"CallBack");else if("Immediate"===a)e.$3j(b,c,d,"Notify");else if("Queue"===a)e.queue.add(new DayPilot.Action(this,b,c,d));else{if("Notify"!==a)throw"Invalid event invocation type";"Notify"===h.notifyType()?e.$3j(b,c,d,"Notify"):e.queue.add(new DayPilot.Action(e,b,c,d))}},this.$3o=function(a,b){var c=e.$3p(b),d={};d.args=a,d.guid=c,e.$3j("Bubble",d)},this.$3p=function(a){var b=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[b]=a,b},this.eventClickPostBack=function(a,b){this.$3h("EventClick",b,a)},this.eventClickCallBack=function(a,b){this.$3j("EventClick",a,b)},this.$2K=function(a,c){b.movingEvent=null,b.resizingEvent=null;var c=c||window.event;c.ctrlKey,c.metaKey;if(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation(),"undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),"Disabled"===e.eventDoubleClickHandling)return void e.$2S(a,c);if(e.timeouts){for(var g in e.timeouts)window.clearTimeout(e.timeouts[g]);e.timeouts=[]}else e.timeouts=[];var h=function(a,b){return function(){e.$2S(a,b)}};e.timeouts.push(window.setTimeout(h(a,c),e.doubleClickTimeout))},this.$2S=function(a,b){var c=a.event;if(c.client.clickEnabled()){var d=b.ctrlKey,f=b.metaKey;if(e.$2k()){var g={};if(g.e=c,g.div=a,g.originalEvent=b,g.meta=b.metaKey,g.ctrl=b.ctrlKey,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventClick&&(e.onEventClick(g),g.preventDefault.value))return;switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(c);break;case"CallBack":e.eventClickCallBack(c);break;case"Select":e.$3q(a,c,d,f);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):e.contextMenu&&e.contextMenu.show(c);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}"function"==typeof e.onEventClicked&&e.onEventClicked(g)}else switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(c);break;case"CallBack":e.eventClickCallBack(c);break;case"JavaScript":e.onEventClick(c);break;case"Select":e.$3q(a,c,d,f);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):e.contextMenu&&e.contextMenu.show(c);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}}},this.$2M=function(a){if(e.$2k()){var b={};if(b.e=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDelete&&(e.onEventDelete(b),b.preventDefault.value))return;switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(a);break;case"CallBack":e.eventDeleteCallBack(a);break;case"Update":e.events.remove(a)}"function"==typeof e.onEventDeleted&&e.onEventDeleted(b)}else switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(a);break;case"CallBack":e.eventDeleteCallBack(a);break;case"JavaScript":e.onEventDelete(a)}},this.eventDeletePostBack=function(a,b){this.$3h("EventDelete",a,b)},this.eventDeleteCallBack=function(a,b){this.$3j("EventDelete",a,b);
},this.eventDoubleClickPostBack=function(a,b){this.$3h("EventDoubleClick",b,a)},this.eventDoubleClickCallBack=function(a,b){this.$3j("EventDoubleClick",a,b)},this.$2L=function(a,b){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),e.timeouts){for(var c in e.timeouts)window.clearTimeout(e.timeouts[c]);e.timeouts=null}var b=b||window.event,d=a.event;if(e.$2k()){var f={};if(f.e=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDoubleClick&&(e.onEventDoubleClick(f),f.preventDefault.value))return;switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(d);break;case"CallBack":e.eventDoubleClickCallBack(d);break;case"Select":e.$3q(a,d,b.ctrlKey,b.metaKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(d)}"function"==typeof e.onEventDoubleClicked&&e.onEventDoubleClicked(f)}else switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(d);break;case"CallBack":e.eventDoubleClickCallBack(d);break;case"JavaScript":e.onEventDoubleClick(d);break;case"Select":e.$3q(a,d,b.ctrlKey,b.metaKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(d)}},this.$3q=function(a,b,c,d){e.$3r(a,b,c,d)},this.eventSelectPostBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$3h("EventSelect",c,d)},this.eventSelectCallBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$3j("EventSelect",d,c)},this.$3r=function(a,b,c,d){var f=e.multiselect,g=!1,h=f.isSelected(b),i=c||d;if(i||!h||g||1!==f.list.length)if(e.$2k()){f.previous=f.events();var j={};if(j.e=b,j.selected=f.isSelected(b),j.ctrl=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventSelect&&(e.onEventSelect(j),j.preventDefault.value))return;switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"Update":f.$3s(a,c)}"function"==typeof e.onEventSelected&&(j.change=f.isSelected(b)?"selected":"deselected",j.selected=f.isSelected(b),e.onEventSelected(j))}else{f.previous=f.events(),f.$3s(a,c);var k=f.isSelected(b)?"selected":"deselected";switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"JavaScript":e.onEventSelect(b,k)}}},this.eventRightClickPostBack=function(a,b){this.$3h("EventRightClick",b,a)},this.eventRightClickCallBack=function(a,b){this.$3j("EventRightClick",a,b)},this.$2P=function(a){if(this.event=a,!a.client.rightClickEnabled())return!1;if(e.$2k()){var b={};if(b.e=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventRightClick&&(e.onEventRightClick(b),b.preventDefault.value))return;switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(a);break;case"CallBack":e.eventRightClickCallBack(a);break;case"ContextMenu":var c=a.client.contextMenu();c?c.show(a):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(a)}"function"==typeof e.onEventRightClicked&&e.onEventRightClicked(b)}else switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(a);break;case"CallBack":e.eventRightClickCallBack(a);break;case"JavaScript":e.onEventRightClick(a);break;case"ContextMenu":var c=a.client.contextMenu();c?c.show(a):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(a)}return!1},this.eventMenuClickPostBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$3h("EventMenuClick",c,d)},this.eventMenuClickCallBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$3j("EventMenuClick",d,c)},this.$3t=function(a,b,c){switch(c){case"PostBack":e.eventMenuClickPostBack(b,a);break;case"CallBack":e.eventMenuClickCallBack(b,a)}},this.eventMovePostBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.position=e,this.$3h("EventMove",d,f)},this.eventMoveCallBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.position=e,this.$3j("EventMove",f,d)},this.$2T=function(a,b,c,d,f,g){var h=a.start().getTimePart(),i=a.end().getDatePart();i.getTime()!==a.end().getTime()&&(i=i.addDays(1));var j=DayPilot.DateUtil.diff(a.end(),i),k=this.$2B(b,c);k=k.addDays(-d);var l=DayPilot.DateUtil.daysSpan(a.start(),a.end())+1,m=k.addDays(l),n=k.addTime(h),o=m.addTime(j);if(e.$2k()){var p={};if(p.e=a,p.newStart=n,p.newEnd=o,p.position=g,p.ctrl=!1,f&&(p.ctrl=f.ctrlKey),p.shift=!1,f&&(p.shift=f.shiftKey),p.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventMove&&(e.onEventMove(p),p.preventDefault.value))return;switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,n,o,null,g);break;case"CallBack":e.eventMoveCallBack(a,n,o,null,g);break;case"Notify":e.eventMoveNotify(a,n,o,null,g);break;case"Update":a.start(n),a.end(o),e.events.update(a)}"function"==typeof e.onEventMoved&&e.onEventMoved(p)}else switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,n,o,null,g);break;case"CallBack":e.eventMoveCallBack(a,n,o,null,g);break;case"JavaScript":e.onEventMove(a,n,o,f.ctrlKey,f.shiftKey,g);break;case"Notify":e.eventMoveNotify(a,n,o,null,g)}},this.eventMoveNotify=function(a,b,c,d,f){var g=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.commit(),e.update(),this.$3u("Notify",g,b,c,d,f)},this.$3u=function(a,b,c,d,e,f){var g={};g.e=b,g.newStart=c,g.newEnd=d,g.position=f,this.$3n(a,"EventMove",g,e)},this.eventResizePostBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$3h("EventResize",d,e)},this.eventResizeCallBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$3j("EventResize",e,d)},this.$3v=function(a,b,c){var d=a.start().getTimePart(),f=a.end().getDatePart();f!=a.end()&&(f=f.addDays(1));var g=DayPilot.DateUtil.diff(a.end(),f),h=this.$2B(b.x,b.y),i=h.addDays(c),j=h.addTime(d),k=i.addTime(g);if(e.$2k()){var l={};if(l.e=a,l.newStart=j,l.newEnd=k,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventResize&&(e.onEventResize(l),l.preventDefault.value))return;switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,j,k);break;case"CallBack":e.eventResizeCallBack(a,j,k);break;case"Notify":e.eventResizeNotify(a,j,k);break;case"Update":a.start(j),a.end(k),e.events.update(a)}"function"==typeof e.onEventResized&&e.onEventResized(l)}else switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,j,k);break;case"CallBack":e.eventResizeCallBack(a,j,k);break;case"JavaScript":e.onEventResize(a,j,k);break;case"Notify":e.eventResizeNotify(a,j,k)}},this.eventResizeNotify=function(a,b,c,d){var f=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.commit(),e.update(),this.$3w("Notify",f,b,c,d)},this.$3w=function(a,b,c,d,e){var f={};f.e=b,f.newStart=c,f.newEnd=d,this.$3n(a,"EventResize",f,e)},this.timeRangeSelectedPostBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3h("TimeRangeSelected",c,d)},this.timeRangeSelectedCallBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3j("TimeRangeSelected",d,c)},this.$2U=function(a,b){if(e.$2k()){var c={};if(c.start=a,c.end=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeSelect&&(e.onTimeRangeSelect(c),c.preventDefault.value))return;switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b),e.clearSelection();break;case"CallBack":e.timeRangeSelectedCallBack(a,b),e.clearSelection()}"function"==typeof e.onTimeRangeSelected&&e.onTimeRangeSelected(c)}else switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b),e.clearSelection();break;case"CallBack":e.timeRangeSelectedCallBack(a,b),e.clearSelection();break;case"JavaScript":e.onTimeRangeSelected(a,b)}},this.timeRangeMenuClickPostBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$3h("TimeRangeMenuClick",c,d)},this.timeRangeMenuClickCallBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$3j("TimeRangeMenuClick",d,c)},this.$3x=function(a,b,c){switch(c){case"PostBack":e.timeRangeMenuClickPostBack(b,a);break;case"CallBack":e.timeRangeMenuClickCallBack(b,a)}},this.headerClickPostBack=function(a,b){this.$3h("HeaderClick",b,a)},this.headerClickCallBack=function(a,b){this.$3j("HeaderClick",a,b)},this.$37=function(a){var c=(this.data,{$0Y:a});if(e.$2k()){var d={};if(d.header={},d.header.dayOfWeek=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onHeaderClick&&(e.onHeaderClick(d),d.preventDefault.value))return;switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(c);break;case"CallBack":e.headerClickCallBack(c)}"function"==typeof e.onHeaderClicked&&e.onHeaderClicked(d)}else switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(c);break;case"CallBack":e.headerClickCallBack(c);break;case"JavaScript":e.onHeaderClick(c)}},this.timeRangeDoubleClickPostBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3h("TimeRangeDoubleClick",c,d)},this.timeRangeDoubleClickCallBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3j("TimeRangeDoubleClick",d,c)},this.$3f=function(a,b){if(e.$2k()){var c={};if(c.start=a,c.end=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeDoubleClick&&(e.onTimeRangeDoubleClick(c),c.preventDefault.value))return;switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b)}"function"==typeof e.onTimeRangeDoubleClicked&&e.onTimeRangeDoubleClicked(c)}else switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b);break;case"JavaScript":e.onTimeRangeDoubleClick(a,b)}},this.commandCallBack=function(a,b){this.$3y();var c={};c.command=a,this.$3j("Command",c,b)},this.$3z=function(a){for(var b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];if(c.event===a||c.event.data===a.data)return c}return null},this.$2N=function(a){var b={};b.list=[],b.each=function(a){if(a)for(var b=0;b<this.list.length;b++)a(this.list[b])};for(var c=0;c<this.elements.events.length;c++){var d=this.elements.events[c];d.event.data===a.data&&b.list.push(d)}return b},this.$3A=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$2l(a),document.body.appendChild(b);var c=b.offsetHeight,d=b.offsetWidth;document.body.removeChild(b);var e={};return e.height=c,e.width=d,e},this.$2I={};var h=this.$2I;h.lineHeight=function(){return h.eventHeight()+e.lineSpace},h.rounded=function(){return"Rounded"===e.eventCorners},h.loadFromServer=function(){return!!e.backendUrl&&("undefined"==typeof e.events.list||!e.events.list)},h.locale=function(){return DayPilot.Locale.find(e.locale)},h.getWeekStart=function(){return e.showWeekend?e.weekStarts:1},h.weekStarts=function(){if(!e.showWeekend)return 1;if("Auto"===e.weekStarts){var a=h.locale();return a?a.weekStarts:0}return e.weekStarts},h.notifyType=function(){var a;if("Immediate"===e.notifyCommit)a="Notify";else{if("Queue"!==e.notifyCommit)throw"Invalid notifyCommit value: "+e.notifyCommit;a="Queue"}return a},h.eventHeight=function(){if(e.$25.eventHeight)return e.$25.eventHeight;var a=e.$3A("_event_height").height;return a||(a=e.eventHeight),e.$25.eventHeight=a,a},h.headerHeight=function(){if(e.$25.headerHeight)return e.$25.headerHeight;var a=e.$3A("_header_height").height;return a||(a=e.headerHeight),e.$25.headerHeight=a,a},h.timeFormat=function(){return"Auto"!==e.timeFormat?e.timeFormat:h.locale().timeFormat},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$3B=function(){var a=e.multiselect;return DayPilot.JSON.stringify(a.events())},this.multiselect.events=function(){var a=e.multiselect,b=[];b.ignoreToJSON=!0;for(var c=0;c<a.list.length;c++)b.push(a.list[c]);return b},this.multiselect.$3C=function(){},this.multiselect.$3s=function(a,b){var c=e.multiselect;if(c.isSelected(a.event))if(e.allowMultiSelect)if(b)c.remove(a.event,!0);else{var d=c.list.length;c.clear(!0),d>1&&c.add(a.event,!0)}else c.clear(!0);else e.allowMultiSelect&&b?c.add(a.event,!0):(c.clear(!0),c.add(a.event,!0));c.redraw(),c.$3C()},this.multiselect.$2J=function(a){var b=e.multiselect;return b.$3D(a,b.initList)},this.multiselect.$3E=function(){for(var a=e.multiselect,b=[],c=0;c<a.list.length;c++){var d=a.list[c];b.push(d.value())}alert(b.join("\n"))},this.multiselect.add=function(a,b){var c=e.multiselect;c.indexOf(a)===-1&&c.list.push(a),b||c.redraw()},this.multiselect.remove=function(a,b){var c=e.multiselect,d=c.indexOf(a);d!==-1&&c.list.splice(d,1)},this.multiselect.clear=function(a){var b=e.multiselect;b.list=[],a||b.redraw()},this.multiselect.redraw=function(){for(var a=e.multiselect,b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];a.isSelected(c.event)?a.$3F(c):a.$3G(c)}},this.multiselect.$3F=function(a){var b=e.multiselect,c=e.cssOnly?e.$2l("_selected"):e.$2l("selected"),a=b.$3H(a);DayPilot.Util.addClass(a,c),b.divs.push(a)},this.multiselect.$3H=function(a){return e.cssOnly?a:a.firstChild},this.multiselect.$3I=function(){for(var a=e.multiselect,b=0;b<a.divs.length;b++){var c=a.divs[b];a.$3G(c,!0)}a.divs=[]},this.multiselect.$3G=function(a,b){var c=e.multiselect,d=e.cssOnly?e.$2l("_selected"):e.$2l("selected"),f=c.$3H(a);if(f&&f.className&&f.className.indexOf(d)!==-1&&(f.className=f.className.replace(d,"")),!b){var g=DayPilot.indexOf(c.divs,a);g!==-1&&c.divs.splice(g,1)}},this.multiselect.isSelected=function(a){return e.multiselect.$3D(a,e.multiselect.list)},this.multiselect.indexOf=function(a){return DayPilot.indexOf(e.multiselect.list,a)},this.multiselect.$3D=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(a===d)return!0;if("function"==typeof d.value){if(null!==d.value()&&null!==a.value()&&d.value()===a.value())return!0;if(null===d.value()&&null===a.value()&&d.recurrentMasterId()===a.recurrentMasterId()&&a.start().toStringSortable()===d.start())return!0}else{if(null!==d.value&&null!==a.value()&&d.value===a.value())return!0;if(null===d.value&&null===a.value()&&d.recurrentMasterId===a.recurrentMasterId()&&a.start().toStringSortable()===d.start)return!0}}return!1},this.events.forRange=function(a,b){return a=new DayPilot.Date(a),b=new DayPilot.Date(b),DayPilot.list(e.events.list).filter(function(c){var d=new DayPilot.Date(c.start),e=new DayPilot.Date(c.end);return DayPilot.Util.overlaps(a,b,d,e)}).map(function(a){return new DayPilot.Event(a,e)})},this.events.find=function(a){if(!e.events.list||"undefined"==typeof e.events.list.length)return null;for(var b=e.events.list.length,c=0;c<b;c++)if(e.events.list[c].id===a)return new DayPilot.Event(e.events.list[c],e);return null},this.events.findRecurrent=function(a,b){if(!e.events.list||"undefined"==typeof e.events.list.length)return null;for(var c=e.events.list.length,d=0;d<c;d++)if(e.events.list[d].recurrentMasterId===a&&e.events.list[d].start.getTime()===b.getTime())return new DayPilot.Event(e.events.list[d],e);return null},this.events.update=function(a,b){var c={};c.oldEvent=new DayPilot.Event(a.copy(),e),c.newEvent=new DayPilot.Event(a.temp(),e);var d=new DayPilot.Action(e,"EventUpdate",c,b);return a.commit(),e.$24&&e.update(),e.$30.notify(),d},this.events.remove=function(a,b){var c={};c.e=new DayPilot.Event(a.data,e);var d=new DayPilot.Action(e,"EventRemove",c,b),f=DayPilot.indexOf(e.events.list,a.data);return e.events.list.splice(f,1),e.$24&&e.update(),e.$30.notify(),d},this.events.add=function(a,b){a.calendar=e,e.events.list||(e.events.list=[]),e.events.list.push(a.data);var c={};c.e=a;var d=new DayPilot.Action(e,"EventAdd",c,b);return e.$24&&e.update(),e.$30.notify(),d},this.events.load=function(a,b,c){var d=function(a){var b={};b.exception=a.exception,b.request=a.request,"function"==typeof c&&c(b)},f=function(a){var f,c=a.request;try{f=DayPilot.Util.parseJSON(c.responseText)}catch(a){var g={};return g.exception=a,void d(g)}if(DayPilot.isArray(f)){var h={};if(h.preventDefault=function(){this.preventDefault.value=!0},h.data=f,"function"==typeof b&&b(h),h.preventDefault.value)return;e.events.list=f,e.$24&&e.update()}};DayPilot.ajax({method:"POST",data:{start:e.visibleStart().toString(),end:e.visibleEnd().toString()},url:a,success:f,error:d})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(a){if(a){if(!a.isAction)throw"DayPilot.Action object required for queue.add()";e.queue.list.push(a)}},this.queue.notify=function(a){var b={};b.actions=e.queue.list,e.$3j("Notify",b,a,"Notify"),e.queue.list=[]},this.queue.clear=function(){e.queue.list=[]},this.queue.pop=function(){return e.queue.list.pop()},this.$2j=function(a){if(a&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$26>=this.autoRefreshMaxCount)){this.$3y();var b=this.autoRefreshInterval;if(!b||b<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){e.$3J()},1e3*this.autoRefreshInterval)}},this.$3y=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$3J=function(){if(!b.eventResizing&&!b.eventMoving&&!b.timeRangeSelecting){var a=!1;if("function"==typeof this.onAutoRefresh){var c={};c.i=this.$26,c.preventDefault=function(){this.preventDefault.value=!0},e.onAutoRefresh(c),c.preventDefault.value&&(a=!0)}!a&&this.$3k()&&this.commandCallBack(this.autoRefreshCommand),this.$26++}this.$26<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){e.$3J()},1e3*this.autoRefreshInterval))},this.$3K=function(a){if(this.cells){var a=a||{},b=!a.eventsOnly;e.cssOnly||(e.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e.$2b(),e.$2c(),e.$2d(),b&&(e.$2e(),e.$2f()),e.$2g(),e.$2h(),e.$2i(),this.visible?this.show():this.hide()}},this.update=function(){this.$3K()},this.dispose=function(){var a=e;a.nav.top&&(a.$3y(),a.$2b(),a.nav.top.removeAttribute("style"),a.nav.top.removeAttribute("class"),a.nav.top.innerHTML="",a.nav.top.dp=null,a.nav.top=null,b.unregister(a))},this.$3L=function(){b.globalHandlers||(b.globalHandlers=!0,DayPilot.re(document,"mouseup",b.gMouseUp)),DayPilot.re(window,"resize",this.$35)},this.$2h=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){e.visible=!0,e.nav.top.style.display=""},this.hide=function(){e.visible=!1,e.nav.top.style.display="none"},this.$3M=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+c+"'."}},this.$3N=function(){this.$3M(),this.$2c(),this.$31(),this.$2f(),this.$2g(),this.$3L(),this.$2j(),this.$3j("Init"),b.register(this)},this.init=function(){if(this.$3M(),!this.nav.top.dp){var a=h.loadFromServer();if(e.cssOnly||(e.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),a)return this.$3N(),void(this.$24=!0);this.$2c(),this.$2d(),this.$31(),this.$2f(),this.$2h(),this.$2i(),this.$2g(),this.$3L(),this.messageHTML&&this.message(this.messageHTML),this.$29(null,!1),this.$2j(),b.register(this),this.$24=!0,this.$3O()}},this.$3P=null,this.$3Q=function(a){var b={events:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?e.events.list=a.list:e.events.list=a)}}};this.$3P=b;for(var c in a)if(b[c]){var d=b[c];d.data=a[c],d.preInit&&d.preInit()}else e[c]=a[c]},this.$3O=function(){var a=this.$3P;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.internal={},this.internal.initialized=function(){return e.$24},this.internal.invokeEvent=this.$3n,this.internal.eventMenuClick=this.$3t,this.internal.timeRangeMenuClick=this.$3x,this.internal.bubbleCallBack=this.$3o,this.internal.findEventDiv=this.$3z,this.Init=this.init,this.$3Q(d)},b.register=function(a){b.registered||(b.registered=[]);for(var c=0;c<b.registered.length;c++)if(b.registered[c]===a)return;b.registered.push(a)},b.unregister=function(a){var c=b.registered;if(c){var d=DayPilot.indexOf(c,a);d!==-1&&c.splice(d,1),0===c.length&&(c=null)}c||(DayPilot.ue(document,"mouseup",b.gMouseUp),b.globalHandlers=!1)},b.gMouseUp=function(a){if(b.movingEvent){var c=b.movingEvent;if(b.movingEvent=null,!(c.event&&c.event.calendar&&c.event.calendar.shadow&&c.event.calendar.shadow.start))return;var d=c.event.calendar,e=c.event,f=d.shadow.start,g=d.shadow.position,h=c.offset;d.$2A();var a=a||window.event;return d.$2T(e,f.x,f.y,h,a,g),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),!1}if(b.resizingEvent){var c=b.resizingEvent;if(b.resizingEvent=null,!(c.event&&c.event.calendar&&c.event.calendar.shadow&&c.event.calendar.shadow.start))return;var d=c.event.calendar,e=c.event,f=d.shadow.start,i=d.shadow.width;return d.$2A(),d.$3v(e,f,i),a.cancelBubble=!0,!1}if(b.timeRangeSelecting){if(b.timeRangeSelecting.moved){var j=b.timeRangeSelecting,d=j.root,f=new DayPilot.Date(d.$2B(j.from.x,j.from.y)),k=f.addDays(j.width);d.$2U(f,k)}b.timeRangeSelecting=null}},DayPilot.MonthVisible.Month=b.Month,"undefined"!=typeof jQuery&&!function(a){a.fn.daypilotMonth=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Month(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotMonth",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(c,d){return c.replaceWith(this.template.replace("{{id}};",d.id)),function(c,d,e){var f=new DayPilot.Month(d[0]);f.$30.scope=c,f.init();var g=e.id;g&&(c[g]=f);var h=e.publishAs;if(h){var i=a(h),j=i.assign;j(c,f)}for(var k in e)0===k.indexOf("on")&&!function(b){f[b]=function(d){var f=a(e[b]);c.$apply(function(){f(c,{args:d})})}}(k);var l=c.$watch,m=e.config||e.daypilotConfig,n=e.events||e.daypilotEvents;l.call(c,m,function(a,b){for(var c in a)f[c]=a[c];f.update()},!0),l.call(c,n,function(a){f.events.list=a,f.$3K({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotNavigator)var DayPilotNavigator=DayPilot.NavigatorVisible={};if(function(){"undefined"==typeof DayPilot.Navigator&&(DayPilotNavigator={},DayPilot.Navigator=function(a,b){this.v="2130";var c=this;this.id=a,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.nav={},this.$0p={},this.$0q=function(){this.root.dp=this,this.cssOnly?this.root.className=this.$0r("_main"):this.root.className=this.$0r("main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*d.cellWidth()+this.$0s())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*d.cellWidth()+this.$0s()+"px",this.root.style.position="relative",this.visible||(this.root.style.display="none");var a=document.createElement("input");a.type="hidden",a.name=c.id+"_state",a.id=a.name,this.root.appendChild(a),this.state=a,this.startDate?this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth():this.startDate=DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.$0t=function(){return 2===c.api},this.$0u=function(){this.root.innerHTML=""},this.$0r=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$0v=function(a,b){var c=this.cssOnly?this.$0r("_"+b):this.$0r(b);DayPilot.Util.addClass(a,c)},this.$0w=function(a,b){var c=this.cssOnly?this.$0r("_"+b):this.$0r(b);DayPilot.Util.removeClass(a,c)},this.$0x=function(a,b){var e={};e.cells=[],e.days=[],e.weeks=[];var f=this.startDate.addMonths(a),g=b.before,h=b.after,i=f.firstDayOfMonth(),j=i.firstDayOfWeek(d.weekStarts()),k=i.addMonths(1),l=DayPilot.DateUtil.daysDiff(j,k),m="Auto"===this.rowsPerMonth?Math.ceil(l/7):6;e.rowCount=m;var n=(new DayPilot.Date).getDatePart(),o=7*d.cellWidth()+this.$0s(),p=this.cellHeight*m+this.titleHeight+this.dayHeaderHeight;e.height=p;var q=document.createElement("div");q.style.width=o+"px",q.style.height=p+"px","Horizontal"===this.orientation?(q.style.position="absolute",q.style.left=o*a+"px",q.style.top="0px"):q.style.position="relative",this.cssOnly?q.className=this.$0r("_month"):q.className=this.$0r("month"),q.style.cursor="default",q.style.MozUserSelect="none",q.style.KhtmlUserSelect="none",q.style.WebkitUserSelect="none",q.month=e,this.root.appendChild(q);var r=this.titleHeight+this.dayHeaderHeight,s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=d.cellWidth()+"px",s.style.height=this.titleHeight+"px",s.style.lineHeight=this.titleHeight+"px",s.setAttribute("unselectable","on"),this.cssOnly?s.className=this.$0r("_titleleft"):s.className=this.$0r("titleleft"),b.left&&(s.style.cursor="pointer",s.innerHTML="<span>&lt;</span>",s.onclick=this.$0y),q.appendChild(s),this.tl=s;var t=document.createElement("div");t.style.position="absolute",t.style.left=d.cellWidth()+"px",t.style.top="0px",t.style.width=5*d.cellWidth()+this.$0s()+"px",t.style.height=this.titleHeight+"px",t.style.lineHeight=this.titleHeight+"px",t.setAttribute("unselectable","on"),this.cssOnly?t.className=this.$0r("_title"):t.className=this.$0r("title"),t.innerHTML=d.locale().monthNames[f.getMonth()]+" "+f.getYear(),q.appendChild(t),this.ti=t;var u=document.createElement("div");u.style.position="absolute",u.style.left=6*d.cellWidth()+this.$0s()+"px",u.style.top="0px",u.style.width=d.cellWidth()+"px",u.style.height=this.titleHeight+"px",u.style.lineHeight=this.titleHeight+"px",u.setAttribute("unselectable","on"),this.cssOnly?u.className=this.$0r("_titleright"):u.className=this.$0r("titleright"),b.right&&(u.style.cursor="pointer",u.innerHTML="<span>&gt;</span>",u.onclick=this.$0z),q.appendChild(u),this.tr=u;var v=this.$0s();if(this.showWeekNumbers)for(var w=0;w<m;w++){var x=j.addDays(7*w),y=null;switch(this.weekNumberAlgorithm){case"Auto":y=1===d.weekStarts()?x.weekNumberISO():x.weekNumber();break;case"US":y=x.weekNumber();break;case"ISO8601":y=x.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.top=w*this.cellHeight+r+"px",z.style.width=d.cellWidth()+"px",z.style.height=this.cellHeight+"px",z.style.lineHeight=this.cellHeight+"px",z.setAttribute("unselectable","on"),this.cssOnly?z.className=this.$0r("_weeknumber"):z.className=this.$0r("weeknumber"),z.innerHTML="<span>"+y+"</span>",q.appendChild(z),e.weeks.push(z)}for(var A=0;A<7;A++){e.cells[A]=[];var z=document.createElement("div");z.style.position="absolute",z.style.left=A*d.cellWidth()+v+"px",z.style.top=this.titleHeight+"px",z.style.width=d.cellWidth()+"px",z.style.height=this.dayHeaderHeight+"px",z.style.lineHeight=this.dayHeaderHeight+"px",z.setAttribute("unselectable","on"),this.cssOnly?z.className=this.$0r("_dayheader"):z.className=this.$0r("dayheader"),z.innerHTML="<span>"+this.$0A(A)+"</span>",q.appendChild(z),e.days.push(z);for(var w=0;w<m;w++){var x=j.addDays(7*w+A),B=this.$0B(x)&&"none"!==this.$0C(),C=x.firstDayOfMonth()===f,D=x<f,E=x>=f.addMonths(1);if("month"===this.$0C())B=B&&C;else if("day"===this.$0C())B=B&&(C||g&&D||h&&E);else if("week"===this.$0C()){var F=x.firstDayOfMonth()===f;B=B&&(F||g&&D||h&&E)}var G=document.createElement("div");e.cells[A][w]=G,G.day=x,G.x=A,G.y=w,G.isCurrentMonth=C,this.cssOnly?G.className=this.$0r(C?"_day":"_dayother"):G.className=this.$0r(C?"day":"dayother"),c.$0v(G,"cell"),x.getTime()===n.getTime()&&C&&this.$0v(G,"today"),0!==x.dayOfWeek()&&6!==x.dayOfWeek()||this.$0v(G,"weekend"),G.style.position="absolute",G.style.left=A*d.cellWidth()+v+"px",G.style.top=w*this.cellHeight+r+"px",G.style.width=d.cellWidth()+"px",G.style.height=this.cellHeight+"px",G.style.lineHeight=this.cellHeight+"px";var H=document.createElement("div");H.style.position="absolute",this.cssOnly?H.className=x.getTime()===n.getTime()&&C?this.$0r("_todaybox"):this.$0r("_daybox"):H.className=x.getTime()===n.getTime()&&C?this.$0r("todaybox"):this.$0r("daybox"),c.$0v(H,"cell_box"),H.style.left="0px",H.style.top="0px",H.style.right="0px",H.style.bottom="0px",G.appendChild(H);var I=null;if(this.cells&&this.cells[x.toStringSortable()]&&(I=this.cells[x.toStringSortable()]),"function"==typeof c.onBeforeCellRender){var J={};J.cell={},J.cell.day=x,J.cell.isCurrentMonth=C,J.cell.isToday=x.getTime()===n.getTime()&&C,J.cell.isWeekend=0===x.dayOfWeek()||6===x.dayOfWeek(),J.cell.html=x.getDay(),J.cell.cssClass=null,c.onBeforeCellRender(J),I=J.cell}if(I&&DayPilot.Util.addClass(G,I.cssClass||I.css),C||g&&D||h&&E){var K=document.createElement("div");K.innerHTML=x.getDay(),K.style.position="absolute",K.style.left="0px",K.style.top="0px",K.style.right="0px",K.style.bottom="0px",c.$0v(K,"cell_text"),G.style.cursor="pointer",G.isClickable=!0,I&&I.html&&(K.innerHTML=I.html),G.appendChild(K)}G.setAttribute("unselectable","on"),G.onclick=this.$0D,G.onmousedown=this.$0E,G.onmousemove=this.$0F,q.appendChild(G),B&&(c.$0G(q,A,w),this.selected.push(G))}}var L=document.createElement("div");L.style.position="absolute",L.style.left="0px",L.style.top=r-2+"px",L.style.width=7*d.cellWidth()+this.$0s()+"px",L.style.height="1px",L.style.fontSize="1px",L.style.lineHeight="1px",this.cssOnly?L.className=this.$0r("_line"):L.className=this.$0r("line"),q.appendChild(L),this.months.push(e)},this.$0G=function(a,b,d){var e=a.month.cells[b][d];c.$0v(e,"select")},this.$0H=function(a,b,d){var e=a.month.cells[b][d];c.$0w(e,"select")},this.$0s=function(){return this.showWeekNumbers?d.cellWidth():0},this.$0I=function(){if(this.items)for(var a=0;a<this.showMonths;a++)for(var b=0;b<7;b++)for(var c=0;c<6;c++){var d=this.months[a].cells[b][c];d&&(1===this.items[d.day.toStringSortable()]?this.$0v(d,"busy"):this.$0w(d,"busy"))}},this.$0J=function(){var a={};a.startDate=c.startDate,a.selectionStart=c.selectionStart,a.selectionEnd=c.selectionEnd.addDays(1),c.state.value=DayPilot.JSON.stringify(a)},this.$0C=function(){var a=this.selectMode||"";return a.toLowerCase()},this.$0K=function(){var a=this.selectionDay||this.selectionStart,a=new DayPilot.Date(a);switch(this.$0C()){case"day":this.selectionDay=a,this.selectionEnd=a;break;case"week":this.selectionDay=a,this.selectionStart=a.firstDayOfWeek(d.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=a,this.selectionStart=a.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=a;break;
default:throw"Unknown selectMode value."}},this.select=function(a,b){var c=!b,d=this.selectionStart,e=this.selectionEnd;this.selectionStart=new DayPilot.Date(a).getDatePart(),this.selectionDay=this.selectionStart;var f=!1;if(c){var g=this.startDate;(this.selectionStart<this.$0L()||this.selectionStart>=this.$0M())&&(g=this.selectionStart.firstDayOfMonth()),g.toStringSortable()!==this.startDate.toStringSortable()&&(f=!0),this.startDate=g}this.$0K(),this.$0u(),this.$0q(),this.$0N(),this.$0I(),this.$0J(),d.equals(this.selectionStart)&&e.equals(this.selectionEnd)||this.$0O(),f&&this.$0P()},this.update=function(){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$0u(),this.$0q(),this.$0K(),this.$0N(),this.$0Q(),this.$0I(),this.$0J(),this.visible?this.show():this.hide()},this.$0R=function(a,b,c){var d={};d.action=a,d.parameters=c,d.data=b,d.header=this.$0S();var e="JSON"+DayPilot.JSON.stringify(d),f=null;this.backendUrl?DayPilot.request(this.backendUrl,this.$0T,e,this.$0U):WebForm_DoCallback(this.uniqueID,e,this.$0V,f,this.callbackError,!0)},this.$0U=function(a){if("function"==typeof c.onAjaxError){var b={};b.request=a,c.onAjaxError(b)}else"function"==typeof c.ajaxError&&c.ajaxError(a)},this.$0T=function(a){c.$0V(a.responseText)},this.$0W=function(a,b,d){var e={};e.action=a,e.parameters=d,e.data=b,e.header=this.$0S();var f="JSON"+DayPilot.JSON.stringify(e);__doPostBack(c.uniqueID,f)},this.$0S=function(){var a={};return a.v=this.v,a.startDate=this.startDate,a.selectionStart=this.selectionStart,a},this.$0X=function(a,b){"refresh"===a&&this.$0P()},this.$0A=function(a){var b=a+d.weekStarts();return b>6&&(b-=7),d.locale().dayNamesShort[b]},this.$0B=function(a){return null!==this.selectionStart&&null!==this.selectionEnd&&(this.selectionStart.getTime()<=a.getTime()&&a.getTime()<=this.selectionEnd.getTime())},this.$0E=function(a){},this.$0F=function(a){},this.$0D=function(a){var b=this.parentNode,d=this.parentNode.month,e=this.x,f=this.y,g=d.cells[e][f].day;if(d.cells[e][f].isClickable){c.clearSelection(),c.selectionDay=g;var g=c.selectionDay;switch(c.$0C()){case"none":c.selectionStart=g,c.selectionEnd=g;break;case"day":if(c.autoFocusOnClick){var h=g;if(g<c.$0L()||g>=c.$0M())return void c.select(g)}var i=d.cells[e][f];c.$0G(b,e,f),c.selected.push(i),c.selectionStart=i.day,c.selectionEnd=i.day;break;case"week":if(c.autoFocusOnClick){var h=d.cells[0][f].day,j=d.cells[6][f].day;if(h.firstDayOfMonth()===j.firstDayOfMonth()&&(h<c.$0L()||j>=c.$0M()))return void c.select(g)}for(var k=0;k<7;k++)c.$0G(b,k,f),c.selected.push(d.cells[k][f]);c.selectionStart=d.cells[0][f].day,c.selectionEnd=d.cells[6][f].day;break;case"month":for(var h=null,j=null,f=0;f<6;f++)for(var e=0;e<7;e++){var i=d.cells[e][f];i&&i.day.getYear()===g.getYear()&&i.day.getMonth()===g.getMonth()&&(c.$0G(b,e,f),c.selected.push(i),null===h&&(h=i.day),j=i.day)}c.selectionStart=h,c.selectionEnd=j;break;default:throw"unknown selectMode"}c.$0J(),c.$0O()}},this.$0O=function(){var a=c.selectionStart,b=c.selectionEnd.addDays(1),d=DayPilot.DateUtil.daysDiff(a,b),e=c.selectionDay;if(c.$0t()){var f={};if(f.start=a,f.end=b,f.day=e,f.days=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeRangeSelect&&(c.onTimeRangeSelect(f),f.preventDefault.value))return;switch(c.timeRangeSelectedHandling){case"Bind":var g=DayPilot.Util.evalVariable(c.bound);if(g){var h={};h.start=a,h.end=b,h.days=d,h.day=e,g.commandCallBack(c.command,h)}break;case"None":break;case"PostBack":c.timeRangeSelectedPostBack(a,b,e)}"function"==typeof c.onTimeRangeSelected&&c.onTimeRangeSelected(f)}else switch(c.timeRangeSelectedHandling){case"Bind":var g=DayPilot.Util.evalVariable(c.bound);if(g){var h={};h.start=a,h.end=b,h.days=d,h.day=e,g.commandCallBack(c.command,h)}break;case"JavaScript":c.onTimeRangeSelected(a,b,e);break;case"None":break;case"PostBack":c.timeRangeSelectedPostBack(a,b,e)}},this.timeRangeSelectedPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.day=d,this.$0W("TimeRangeSelected",c,e)},this.$0z=function(a){c.$0Y(c.skipMonths)},this.$0y=function(a){c.$0Y(-c.skipMonths)},this.$0Y=function(a){this.startDate=this.startDate.addMonths(a),this.$0u(),this.$0q(),this.$0N(),this.$0J(),this.$0P(),this.$0I()},this.$0L=function(){return c.startDate.firstDayOfMonth()},this.$0M=function(){return c.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return c.startDate.firstDayOfMonth().firstDayOfWeek(d.weekStarts())},this.visibleEnd=function(){return c.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(d.weekStarts()).addDays(42)},this.$0P=function(){var a=this.visibleStart(),b=this.visibleEnd();if(c.$0t()){var d={};if(d.start=a,d.end=b,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onVisibleRangeChange&&(c.onVisibleRangeChange(d),d.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"Disabled":}"function"==typeof c.onVisibleRangeChanged&&c.onVisibleRangeChanged(d)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(a,b);break;case"Disabled":}},this.visibleRangeChangedCallBack=function(a){var b={};this.$0R("Visible",a,b)},this.visibleRangeChangedPostBack=function(a){var b={};this.$0W("Visible",a,b)},this.$0V=function(a,b){var a=DayPilot.Util.parseJSON(a);c.items=a.Items,c.cells=a.Cells,c.$0I()},this.$0N=function(){for(var a=0;a<this.showMonths;a++){var b=this.$0Z(a);this.$0x(a,b)}this.root.style.height=this.$10()+"px"},this.$10=function(){if("Horizontal"===this.orientation){for(var a=0,b=0;b<this.months.length;b++){var c=this.months[b];c.height>a&&(a=c.height)}return a}for(var d=0,b=0;b<this.months.length;b++){var c=this.months[b];d+=c.height}return d},this.$0Z=function(a){if(this.internal.showLinks)return this.internal.showLinks;var b={};return b.left=0===a,b.right=0===a,b.before=0===a,b.after=a===this.showMonths-1,"Horizontal"===this.orientation&&(b.right=a===this.showMonths-1),b},this.$11={},this.$11.scope=null,this.$11.notify=function(){c.$11.scope&&c.$11.scope.$apply()},this.internal={},this.internal.initialized=function(){return c.$12},this.$13={};var d=this.$13;d.locale=function(){return DayPilot.Locale.find(c.locale)},d.weekStarts=function(){if("Auto"===c.weekStarts){var a=d.locale();return a?a.weekStarts:0}return c.weekStarts},d.cellWidth=function(){if(c.$0p.cellWidth)return c.$0p.cellWidth;var a=c.$14("_cell_dimensions").width;return a||(a=c.cellWidth),c.$0p.cellWidth=a,a},this.clearSelection=function(){for(var a=0;a<this.selected.length;a++){var b=this.selected[a];c.$0H(b.parentNode,b.x,b.y)}this.selected=[]},this.$15=function(){return!!this.backendUrl&&("undefined"==typeof c.items||!c.items)},this.events={},this.$0Q=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var a=0;a<this.events.list.length;a++){var b=this.events.list[a],c=this.$16(b);for(var d in c)this.items[d]=1}}},this.$14=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$0r(a);var d=c.root||document.body;d.appendChild(b);var e=b.offsetHeight,f=b.offsetWidth;d.removeChild(b);var g={};return g.height=e,g.width=f,g},this.$16=function(a){for(var b=new DayPilot.Date(a.start),c=new DayPilot.Date(a.end),d={},e=b.getDatePart();e.getTime()<c.getTime();)d[e.toStringSortable()]=1,e=e.addDays(1);return d},this.show=function(){c.visible=!0,c.root.style.display=""},this.hide=function(){c.visible=!1,c.root.style.display="none"},this.$17=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+a+"'."}this.root=this.nav.top},this.init=function(){if(this.$17(),!this.root.dp){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$0K(),this.$0q(),this.$0N(),this.$0Q(),this.$0I(),this.$18();var a=this.$15();a&&this.$0P(),this.$12=!0}},this.dispose=function(){var a=c;a.root&&(a.root.removeAttribute("style"),a.root.removeAttribute("class"),a.root.dp=null,a.root.innerHTML=null,a.root=null)},this.$18=function(){this.root.dispose=this.dispose},this.Init=this.init},DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator,"undefined"!=typeof jQuery&&!function(a){a.fn.daypilotNavigator=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Navigator(this.id);this.daypilot=c;for(var d in a)c[d]=a[d];c.Init(),b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotNavigator",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(c,d){return c.replaceWith(this.template.replace("{{id}};",d.id)),function(c,d,e){var f=new DayPilot.Navigator(d[0]);f.$11.scope=c,f.init();var g=e.id;g&&(c[g]=f);var h=e.publishAs;if(h){var i=a(h),j=i.assign;j(c,f)}for(var k in e)0===k.indexOf("on")&&!function(b){f[b]=function(d){var f=a(e[b]);c.$apply(function(){f(c,{args:d})})}}(k);var l=c.$watch,m=e.config||e.daypilotConfig,n=e.events||e.daypilotEvents;l.call(c,m,function(a,b){for(var c in a)f[c]=a[c];f.update()},!0),l.call(c,n,function(a){f.events.list=a,f.$0Q(),f.$0I()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotScheduler)var DayPilotScheduler=DayPilot.SchedulerVisible={};if(function(){function h(a){for(var b=a.touches[0].clientX,c=a.touches[0].clientY,d=document.elementFromPoint(b,c);d&&d.parentNode;)if(d=d.parentNode,d.daypilotMainD)return d.calendar;return!1}function i(a){var b=a.touches[0].pageX,c=a.touches[0].pageY,d={};return d.x=b,d.y=c,d}if("undefined"==typeof DayPilot.Scheduler){var a=function(){var a=navigator.userAgent;return a.indexOf("Mozilla/5.0")>-1&&a.indexOf("Android ")>-1&&a.indexOf("AppleWebKit")>-1&&!(a.indexOf("Chrome")>-1)}(),b={},c=function(){},d=!1;DayPilot.Scheduler=function(d,e){function F(a,b){return 1-a/b}this.v="2130";var f=this;this.id=d,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellStacking=!1,this.cellStackingAutoHeight=!1,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.$9H=!0,this.$9I=!1,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.$9J=!1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.durationBarDetached=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBorderVisible=!0,this.eventBackColor="#FFFFFF",this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.$9K=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.hideBorderFor100PctHeight=!1,this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.$9L=10,this.$9M=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthMarginRight=0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.shadow="Fill",this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=(new DayPilot.Date).getDatePart(),this.syncResourceTree=!1,this.timeBreakColor="#000000",this.timeHeaderTextWrappingEnabled=!1,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.$9N=-1,this.$9O=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.backendUrl=null,1===f.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null;this.onTimeRangeRightClicked=null;this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.onHeightChanged=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.$9P=0,this.$9Q=0,this.rowlist=DayPilot.list(),this.itline=DayPilot.list(),this.timeline=null,this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.$9R={},this.$9R.cells=[],this.$9R.linesVertical={},this.$9R.linesHorizontal={},this.$9R.timeHeaderGroups=[],this.$9R.timeHeader={},this.$9R.pixels=[],this.$9R.breaks=[],this.$9R.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(a){return 0===a.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader"],this.members.noCssOnly=["borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cellSelectColor","durationBarColor","eventBackColor","eventBorderColor","eventBorderVisible","eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.$9S=function(a,b){var a=DayPilot.Util.parseJSON(a);if(f.onScrollCalled=!1,a.CallBackRedirect)return void(document.location.href=a.CallBackRedirect);if("function"==typeof f.onCallBackResult){var c={};if(c.result=a,c.preventDefault=function(){c.preventDefault.value=!0},f.onCallBackResult(c),c.preventDefault.value)return f.$9T(),f.$9U(),f.$9V(),a.Message&&f.message&&f.message(a.Message),f.$9W(a.CallBackData,!0),f.$9X(),void f.$9Y()}if(a.BubbleGuid){var d=a.BubbleGuid,e=this.bubbles[d];return delete this.bubbles[d],f.$9U(),"undefined"!=typeof a.Result.BubbleHTML&&e&&e.updateView(a.Result.BubbleHTML,e),void f.$9X()}if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"undefined"!=typeof a.ClientState&&(null===a.ClientState?f.clientState={}:f.clientState=a.ClientState),"None"===a.UpdateType)return f.$9U(),f.$9X(),a.Message&&f.message(a.Message),void f.$9W(a.CallBackData,!0);if(a.VsUpdate){var g=document.createElement("input");g.type="hidden",g.name=f.id+"_vsupdate",g.id=g.name,g.value=a.VsUpdate,f.$9Z.innerHTML="",f.$9Z.appendChild(g)}"undefined"!=typeof a.TagFields&&(f.tagFields=a.TagFields),"undefined"!=typeof a.SortDirections&&(f.sortDirections=a.SortDirections),f.$9R.drawArea=null,"Full"===a.UpdateType&&(f.resources=a.Resources,f.colors=a.Colors,f.palette=a.Palette,f.dirtyColors=a.DirtyColors,f.cellProperties=a.CellProperties,f.cellConfig=a.CellConfig,f.separators=a.Separators,f.timeline=a.Timeline,f.timeHeader=a.TimeHeader,f.timeHeaders=a.TimeHeaders,"undefined"!=typeof a.Links&&(f.links.list=a.Links),"undefined"!=typeof a.RowHeaderColumns&&(f.rowHeaderColumns=a.RowHeaderColumns),f.startDate=a.StartDate?new DayPilot.Date(a.StartDate):f.startDate,f.days=a.Days?a.Days:f.days,f.cellDuration=a.CellDuration?a.CellDuration:f.cellDuration,f.cellGroupBy=a.CellGroupBy?a.CellGroupBy:f.cellGroupBy,f.cellWidth=a.CellWidth?a.CellWidth:f.cellWidth,f.viewType=a.ViewType?a.ViewType:f.viewType,f.hourNameBackColor=a.HourNameBackColor?a.HourNameBackColor:f.hourNameBackColor,"undefined"!=typeof a.ShowNonBusiness&&(f.showNonBusiness=a.ShowNonBusiness),f.businessBeginsHour=a.BusinessBeginsHour?a.BusinessBeginsHour:f.businessBeginsHour,f.businessEndsHour=a.BusinessEndsHour?a.BusinessEndsHour:f.businessEndsHour,"undefined"!=typeof a.DynamicLoading&&(f.dynamicLoading=a.DynamicLoading),"undefined"!=typeof a.TreeEnabled&&(f.treeEnabled=a.TreeEnabled),f.backColor=a.BackColor?a.BackColor:f.backColor,f.nonBusinessBackColor=a.NonBusinessBackColor?a.NonBusinessBackColor:f.nonBusinessBackColor,f.locale=a.Locale?a.Locale:f.locale,"undefined"!=typeof a.TimeZone&&(f.timeZone=a.TimeZone),f.timeFormat=a.TimeFormat?a.TimeFormat:f.timeFormat,f.rowHeaderCols=a.RowHeaderCols?a.RowHeaderCols:f.rowHeaderCols,"undefined"!=typeof a.DurationBarMode&&(f.durationBarMode=a.DurationBarMode),f.cornerBackColor=a.CornerBackColor?a.CornerBackColor:f.cornerBackColor,"undefined"!=typeof a.CornerHTML&&(f.cornerHtml=a.CornerHTML),f.hashes=a.Hashes,f.$a0(),f.$a1(),f.$a2(),f.$a3()),"Scroll"!==a.Action&&f.$a4(a.Events),"Full"===a.UpdateType&&(f.$a5(),f.$a6()),f.$a7(),f.$a8(),f.$a9(),f.$9R.drawArea=null,"Scroll"!==a.Action?(f.$aa(),f.$ab(),"Auto"!==f.heightSpec&&"Max"!==f.heightSpec||f.$ac(),f.$ad(),f.$ae(),f.$af(),f.multiselect.clear(!0),f.multiselect.$ag(a.SelectedEvents),f.$ah(),f.$ai(),f.$aj()):(f.multiselect.clear(!0),f.multiselect.$ag(a.SelectedEvents),f.$ak(a.Events)),"HoldForever"!==f.timeRangeSelectedHandling&&f.$al(),"Full"===a.UpdateType&&(f.setScroll(a.ScrollX,a.ScrollY),f.$am()),f.$an(),f.$9T(),a.SelectedRows&&f.$ao(a.SelectedRows),f.$9U(),"Full"===a.UpdateType&&navigator.appVersion.indexOf("MSIE 7.")!==-1&&window.setTimeout(function(){f.$a5(),f.$ac()},0),f.$9V(),a.Message&&f.message&&f.message(a.Message),f.$9W(a.CallBackData,!0),f.$9X(),f.$9Y(),"Full"!==a.UpdateType||"Scroll"===a.Action||f.onScrollCalled||setTimeout(function(){f.$ap()},0)},this.$9T=function(){if(f.todo&&f.todo.del){var a=f.todo.del;a.parentNode.removeChild(a),f.todo.del=null}},this.$9W=function(a,b){var c=function(a,b){return function(){if(f.$aq()){if("function"==typeof f.onAfterRender){var c={};c.isCallBack=b,c.data=a,f.onAfterRender(c)}}else f.afterRender&&f.afterRender(a,b)}};window.setTimeout(c(a,b),0)},this.scrollTo=function(a,b,c){if(a){if("Days"===f.viewType){var d=f.$ar(new DayPilot.Date(a));if(!d)return;return void setTimeout(function(){var a=d.top;f.nav.scroll.scrollTop=a},100)}var e;if(a instanceof DayPilot.Date)e=this.getPixels(a).left;else if("string"==typeof a)e=this.getPixels(new DayPilot.Date(a)).left;else{if("number"!=typeof a)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";e=a}var g=this.$as.clientWidth,h=this.nav.scroll.clientWidth;switch(c=c||"left",c.toLowerCase()){case"left":break;case"middle":e-=h/2;break;case"right":e-=h}if(e<0&&(e=0),e>g-h&&(e=g-h),!b)return void this.setScrollX(e);var i=Math.abs(f.nav.scroll.scrollLeft-e),j=i/g,k=50;if("number"==typeof b)k=b;else if("string"==typeof b)switch(b){case"fast":k=30;break;case"normal":k=50;break;case"slow":k=100;break;case"linear":k=Math.floor(100*j)}j>.6&&(k=Math.min(k,80)),this.$at(e,k)}},this.$at=function(a,b){function j(a){var b=a.next();return"undefined"==typeof b?void(a.finished&&a.finished()):(f.setScrollX(b),window.clearTimeout(f.refreshTimeout),void setTimeout(function(){j(a)},a.delay))}var c={};c.steps=[],c.index=0,c.delay=10,c.next=function(){var a=c.steps[c.index];return c.index+=1,a},c.finished=function(){f.$ap()};for(var d=f.getScrollX(),b=b||100,e=a-d,g=0;g<b;g++){var h=g/b,i=2*(h-.5)/(Math.pow(2*(h-.5),2)+1)+.5;c.steps.push(d+e*i)}c.steps.push(a),j(c)},this.scrollToResource=function(a){DayPilot.complete(function(){var b=f.$au(a);b&&setTimeout(function(){var a=b.top;f.nav.scroll.scrollTop=a},100)})},this.$av=function(){if(this.floatingTimeHeaders&&this.timeHeader){var a=this.$aw();if(a){this.$ax();for(var b=a.pixels.left+h.shiftX,c=a.pixels.right+h.shiftX,d=[],e=0;e<this.timeHeader.length;e++)for(var f=0;f<this.timeHeader[e].length;f++){var g=this.timeHeader[e][f],i=g.left,j=g.left+g.width,k=null;if(i<b&&b<j&&(k={},k.x=f,k.y=e,k.marginLeft=b-i,k.marginRight=0,k.div=this.$9R.timeHeader[f+"_"+e],d.push(k)),i<c&&c<j){k||(k={},k.x=f,k.y=e,k.marginLeft=0,k.div=this.$9R.timeHeader[f+"_"+e],d.push(k)),k.marginRight=j-c;break}}for(var l=0;l<d.length;l++){var k=d[l];this.$ay(k.div,k.marginLeft,k.marginRight)}}}},this.$an=function(){this.$av(),this.$az()},this.$aA={};var g=this.$aA;g.eventsInRectangle=function(a,b,c,d){var e=a,g=a+c,h=b,i=b+d;return DayPilot.list(f.elements.events).filter(function(a){var b=a.event,c=b.part.left,d=b.part.left+b.part.width,j=f.rowlist[b.part.dayIndex],k=j.top+b.part.top,l=k+b.part.height;if(DayPilot.Util.overlaps(c,d,e,g)&&DayPilot.Util.overlaps(k,l,h,i))return!0})},g.events=function(a){var b=[],a=a||"All",c=f.$aw();if(!c)return DayPilot.list(b);for(var d=c.pixels.left,e=c.pixels.right,g=0;g<f.elements.events.length;g++){var h=f.elements.events[g],i=h.event,j=i.part.left,k=i.part.left+i.part.width;switch(a){case"Left":j<d&&d<k&&b.push(h);break;case"All":DayPilot.Util.overlaps(j,k,d,e)&&b.push(h)}}return DayPilot.list(b).addProps({area:c})},this.$az=function(){if(this.floatingEvents){var a=g.events("Left");this.$aB(),a.each(function(b){var c=a.area.pixels.left,d=b.event,e=d.part.left,g=c-e;f.$aC(b,g,0)})}},this.elements.sections=[],this.elements.hsections=[],this.$ay=function(a,b,c){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.$aD("_timeheader_float"),d.style.position="absolute",d.style.left=b+"px",d.style.right=c+"px",d.style.top="0px",d.style.bottom="0px",d.style.overflow="hidden";var e=document.createElement("div");e.className=this.$aD("_timeheader_float_inner"),e.setAttribute("unselectable","on"),a.cell.th.innerHTML&&(e.innerHTML=a.cell.th.innerHTML),d.appendChild(e),a.section=d,a.insertBefore(d,a.firstChild.nextSibling),a.firstChild.innerHTML="",this.elements.hsections.push(a)},this.$ax=function(){for(var a=0;a<this.elements.hsections.length;a++){var b=this.elements.hsections[a],c=b.cell;c&&b.firstChild&&(b.firstChild.innerHTML=c.th.innerHTML),DayPilot.de(b.section),b.section=null}this.elements.hsections=[]},this.$aC=function(a,b,c){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.$aD(E.eventFloat),d.style.position="absolute",d.style.left=b+"px",d.style.right=c+"px",d.style.top="0px",d.style.bottom="0px",d.style.overflow="hidden";var e=document.createElement("div");e.className=this.$aD(E.eventFloatInner),e.setAttribute("unselectable","on"),e.innerHTML=a.event.client.html(),a.event.data.fontColor&&(e.style.color=a.event.data.fontColor),d.appendChild(e),a.section=d,a.insertBefore(d,a.firstChild.nextSibling),a.firstChild.innerHTML="";var f={offsetX:parseInt(new DayPilot.StyleReader(e).get("padding-left")),eventDiv:a};DayPilot.Areas.attach(d,a.event,f),DayPilot.Areas.disable(a),this.elements.sections.push(a)},this.$aB=function(){for(var a=0;a<this.elements.sections.length;a++){var b=this.elements.sections[a],c=b.event;c&&(b.firstChild.innerHTML=c.client.html()),DayPilot.de(b.section),DayPilot.Areas.enable(b),b.section=null}this.elements.sections=[]},this.setScrollX=function(a){var b=f.nav.scroll,c=f.$aE()*f.cellWidth;b.clientWidth+a>c&&(a=c-b.clientWidth),f.divTimeScroll.scrollLeft=a,b.scrollLeft=a},this.setScrollY=function(a){var b=f.nav.scroll,c=f.$9Q;b.clientHeight+a>c&&(a=c-b.clientHeight),f.divResScroll.scrollTop=a,b.scrollTop=a},this.setScroll=function(a,b){f.setScrollX(a),f.setScrollY(b)},this.message=function(a,b){if(null!==a){var c={};"object"==typeof arguments[1]&&(c=arguments[1],b=c.delay);var i,b=b||this.messageHideAfter||2e3,d=this.$aF()+1,e=this.$aG()+I.splitterWidth(),g=DayPilot.sw(f.nav.scroll)+1,h=DayPilot.sh(f.nav.scroll)+1;if(this.nav.message)i=f.nav.message;else{i=document.createElement("div"),i.style.position="absolute",i.style.left=e+"px",i.style.right=g+"px",i.style.display="none",DayPilot.re(i,DayPilot.touch.start,function(a){f.nav.message.style.display="none",a.preventDefault(),a.stopPropagation()}),i.onmousemove=function(){f.messageHideOnMouseOut&&i.messageTimeout&&!i.status&&clearTimeout(i.messageTimeout)},i.onmouseout=function(){f.messageHideOnMouseOut&&"none"!==f.nav.message.style.display&&(i.messageTimeout=setTimeout(f.$aH,500))};var j=document.createElement("div");j.onclick=function(){f.nav.message.style.display="none"},j.className=this.$aD("_message"),i.appendChild(j);var k=document.createElement("div");k.style.position="absolute",k.className=this.$aD("_message_close"),k.onclick=function(){f.nav.message.style.display="none"},i.appendChild(k),this.nav.top.appendChild(i),this.nav.message=i}var l=function(){var e=f.nav.message;c.cssClass&&DayPilot.Util.addClass(e.firstChild,c.cssClass);var g=f.nav.message.firstChild;g.innerHTML=a;var i=DayPilot.sw(f.nav.scroll)+1;f.nav.message.style.right=i+"px";var j=f.messageBarPosition||"Top";"Bottom"===j?(f.nav.message.style.bottom=h+"px",f.nav.message.style.top=""):"Top"===j&&(f.nav.message.style.bottom="",f.nav.message.style.top=d+"px");var k=function(){e.messageTimeout=setTimeout(f.$aH,b)};DayPilot.fade(f.nav.message,.2,k)};clearTimeout(i.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(f.nav.message,-.2,l):l()}},this.$aH=function(){if(f.nav.message){var a=function(){f.nav.message.style.display="none"};DayPilot.fade(f.nav.message,-.2,a)}},this.message.show=function(a){f.message(a)},this.message.hide=function(){f.$aH()},this.$aI=null,this.$ac=function(){if(this.nav.scroll){var a=1;null!==this.$aI&&(this.nav.top.style.border=this.$aI,this.$aI=null),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.$aI=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.$aF()-a),this.nav.scroll.style.height="30px";var b=this.$aJ(),c=b+this.$aF()+a;b>=0&&(this.nav.scroll.style.height=b+"px",this.$aK.style.height=b+"px"),this.nav.divider&&((!c||isNaN(c)||c<0)&&(c=0),this.nav.divider.style.height=c+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=c+"px"),f.nav.resScrollSpace&&(f.nav.resScrollSpace.style.height=b+20+"px");for(var d=0;d<this.elements.separators.length;d++)this.elements.separators[d].style.height=this.$9Q+"px";for(var d=0;d<this.elements.linesVertical.length;d++)this.elements.linesVertical[d].style.height=this.$9Q+"px";f.$aL()}},this.$a1=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.$9R.pixels=[],this.itline=DayPilot.list();var a="Auto"===this.cellWidthSpec,b=function(){if(a){var b=0;f.$aM()&&f.timeline?b=f.timeline.length:"Manual"===f.scale?b=f.timeline.length:(f.$aN(),b=f.itline.length,f.itline=DayPilot.list());var c=f.$aO();if(b>0&&c>0){var d=c/b;f.cellWidth=Math.max(d,f.cellWidthMin),f.$aP=d<f.cellWidthMin}}};if(b(),this.$aM()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var c=null,d=0,e=0;e<this.timeline.length;e++){var g=this.timeline[e],h={};if(h.start=new DayPilot.Date(g.start),h.end=g.end?new DayPilot.Date(g.end):h.start.addMinutes(this.cellDuration),g.width)h.left=g.left||d,h.width=g.width||this.cellWidth,d+=h.width;else{var i=Math.floor(d+this.cellWidth),j=i-Math.floor(d);h.left=Math.floor(d),h.width=j,d+=this.cellWidth}h.breakBefore=c&&c.ticks!==h.start.ticks,c=h.end,this.itline.push(h)}}a&&this.$aQ()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=DayPilot.list();for(var d=0,c=null,e=0;e<this.timeline.length;e++){var g=this.timeline[e],h={};if(h.start=new DayPilot.Date(g.start),h.end=g.end?new DayPilot.Date(g.end):h.start.addMinutes(this.cellDuration),
c&&h.start.ticks<c.ticks)throw"The timeline must be sequential";var k=g.width||this.cellWidth,i=Math.floor(d+k),j=i-Math.floor(d);h.left=Math.floor(d),h.width=j,d+=k,h.breakBefore=c&&c.ticks!==h.start.ticks,c=h.end,this.itline.push(h)}}else this.$aN();this.$aR()}},this.$aS={};var h=this.$aS;h.shiftX=0,h.active=!1,h.updateRowStarts=function(){DayPilot.list(f.rowlist).each(function(a,b){a.start=f.$aT(),a.data=null,f.$aU(b)})},h.isEnabled=function(){return f.temp.infiniteScrolling},h.shiftTo=function(a){var a=new DayPilot.Date(a),b=a.addDays(-f.$9M).getDatePart(),c=new DayPilot.Duration(b.getTime()-f.startDate.getDatePart().getTime()).totalDays();h.shiftStart(c,a)},h.shiftStart=function(a,b){var c;h.active=!0;var d=f.startDate,e=f.startDate.addDays(a);a>0&&(c=-f.getPixels(e).left),f.startDate=f.startDate.addDays(a),f.itline=DayPilot.list(),f.$9R.pixels=[],f.$aN(),h.updateRowStarts(),a<0&&(c=f.getPixels(d).left),f.timeHeader=[],f.$aR(),f.$a6(),f.cellProperties={},f.$ad(),f.$af(),f.$a4(),f.$ae(),"undefined"!=typeof b?(f.scrollTo(new DayPilot.Date(b)),f.$ap()):f.nav.scroll.scrollLeft+=c,f.$aj(),h.active=!1},this.$aN=function(){for(var a="Days"!==this.viewType?this.startDate.addDays(this.days):this.startDate.addDays(1),b=this.startDate,c=this.$aV(b),d=!1,e=0;c.ticks<=a.ticks&&c.ticks>b.ticks;){if(this.$aW(b,c)){var f=Math.floor(e+this.cellWidth),g=f-Math.floor(e),h={};h.start=b,h.end=c,h.left=Math.floor(e),h.width=g,h.breakBefore=d,this.itline.push(h),e+=this.cellWidth,d=!1}else d=!0;b=c,c=this.$aV(b)}},this.$aQ=function(){if(this.timeHeader)for(var a=0;a<this.timeHeader.length;a++)for(var b=this.timeHeader[a],c=0;c<b.length;c++){var d=b[c];d.left=this.getPixels(new DayPilot.Date(d.start)).left;var e=this.getPixels(new DayPilot.Date(d.end)).left,f=e-d.left;d.width=f}},this.$aR=function(){var a=this.timeHeaders;a||(a=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var b=f.$aX(),c=0;c<a.length;c++){var d=a[c].groupBy,e=a[c].format;"Default"===d&&(d=this.cellGroupBy);for(var g=[],h=this.$aT();h.ticks<b.ticks;){var i={};if(i.start=h,i.end=this.$aY(i.start,d),i.start.ticks===i.end.ticks)break;i.left=this.getPixels(i.start).left;var j=this.getPixels(i.end).left,k=j-i.left;if(i.width=k,i.colspan=Math.ceil(k/(1*this.cellWidth)),"string"==typeof e?i.innerHTML=i.start.toString(e,I.locale()):i.innerHTML=this.$aZ(i,d),k>0){if("function"==typeof this.onBeforeTimeHeaderRender){var l={};l.start=i.start,l.end=i.end,l.html=i.innerHTML,l.toolTip=i.innerHTML,l.backColor=null,l.level=this.timeHeader.length,l.cssClass=null;var m={};m.header=l,this.onBeforeTimeHeaderRender(m),i.innerHTML=l.html,i.backColor=l.backColor,i.toolTip=l.toolTip,i.areas=l.areas,i.cssClass=l.cssClass}g.push(i)}h=i.end}this.timeHeader.push(g)}},this.$aW=function(a,b){if("function"==typeof this.onIncludeTimeCell){var c={};c.start=a,c.end=b,c.visible=!0;var d={};return d.cell=c,this.onIncludeTimeCell(d),c.visible}return!!this.showNonBusiness||this.isBusiness({start:a,end:b})},this.getPixels=function(a){var b=a.ticks,c=this.$9R.pixels[b];if(c)return c;var e=2218768416e5;if(0===this.itline.length||b<this.itline[0].start.ticks){var f={};return f.cut=!1,f.left=0,f.boxLeft=f.left,f.boxRight=f.left,f.i=null,f}for(var g=this.$b0(a),h=Math.max(g.i-1,0),i=h;i<this.itline.length;i++){var j=this.itline[i],k=j.start.ticks,l=j.end.ticks;if(k<b&&b<l){var m=b-k,f={};f.cut=!1,f.left=j.left+this.$b1(j,m),f.boxLeft=j.left,f.boxRight=j.left+j.width,f.i=i;break}if(k===b){var f={};f.cut=!1,f.left=j.left,f.boxLeft=f.left,f.boxRight=f.left+j.width,f.i=i;break}if(l===b){var f={};f.cut=!1,f.left=j.left+j.width,f.boxLeft=f.left,f.boxRight=f.left,f.i=i+1;break}if(b<k&&b>e){var f={};f.cut=!0,f.left=j.left,f.boxLeft=f.left,f.boxRight=f.left,f.i=i;break}e=l}if(!f){var n=this.itline[this.itline.length-1],f={};f.cut=!0,f.left=n.left+n.width,f.boxLeft=f.left,f.boxRight=f.left,f.i=null}return this.$9R.pixels[b]=f,f},this.getDate=function(a,b,c){var d=this.$b2(a,c);if(!d)return null;var e=d.x,f=this.itline[e];if(!f)return null;var g=c&&!b?f.end:f.start;return b?g.addTime(this.$b3(d.cell,d.offset)):g},this.$b2=function(a,b){if(0===this.itline.length)return null;for(var c=0,d=0,e=0;e<this.itline.length;e++){var g=this.itline[e],h=g.width||this.cellWidth;if(c+=h,a<c||b&&a===c){var i={};return i.x=e,i.offset=a-d,i.cell=g,i}d=c}var g=f.itline.last(),i={};return i.x=this.itline.length-1,i.offset=g.width||this.cellWidth,i.cell=g,i},this.$b4=function(a){return this.$b0(a)},this.$b5=function(a){for(var b=new DayPilot.Date(a),c=0;c<this.itline.length;c++){var d=this.itline[c];if(d.start.ticks<=b.ticks&&b.ticks<d.end.ticks){var e={};return e.hidden=!1,e.current=d,e}if(b.ticks<d.start.ticks){var e={};return e.hidden=!0,e.previous=c>0?this.itline[c-1]:null,e.current=null,e.next=this.itline[c],e}}var e={};return e.past=!0,e.previous=this.itline[this.itline.length-1],e},this.$b0=function(a){var b=new DayPilot.Date(a),c=0,d=this.itline[0];if(b.ticks<d.start.ticks){var e={};return e.hidden=!0,e.previous=null,e.current=null,e.next=this.itline[0],e.i=-1,e}var g=this.itline.length-1,h=this.itline[g];if(b.ticks>h.end.ticks){var e={};return e.past=!0,e.previous=this.itline[this.itline.length-1],e.i=this.itline.length,e}for(var i=function(){for(var d,a=f.itline;c<=g;)if(d=Math.floor((c+g)/2),a[d].start.ticks>b.ticks)g=d-1;else{if(!(a[d].end.ticks<b.ticks))return d;c=d+1}return c}(),j=i;j<this.itline.length;j++){var k=this.itline[j];if(k.start.ticks<=b.ticks&&b.ticks<k.end.ticks){var e={};return e.hidden=!1,e.current=k,e.i=j,e}if(b.ticks<k.start.ticks){var e={};return e.hidden=!0,e.previous=j>0?this.itline[j-1]:null,e.current=null,e.next=this.itline[j],e.i=j,e}}var e={};return e.past=!0,e.previous=this.itline[this.itline.length-1],e.i=this.itline.length,e},this.$b1=function(a,b){var c=a.width||this.cellWidth,d=a.end.ticks-a.start.ticks;return Math.floor(c*b/d)},this.$b3=function(a,b){var c=a.end.ticks-a.start.ticks,d=a.width||this.cellWidth;return Math.floor(b/d*c)},this.$b6=function(a){D.start||b.preventEventClick||(C={},f.$b7(this,a))},this.eventClickPostBack=function(a,b){this.$b8("EventClick",a,b)},this.eventClickCallBack=function(a,b){this.$b9("EventClick",a,b)},this.$b7=function(a,b){var c=a.event,b=b||window.event;if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),!c.client.doubleClickEnabled())return void f.$ba(a,b);f.timeouts.click||(f.timeouts.click=[]);var d=function(a,b){return function(){f.$ba(a,b)}};f.timeouts.click.push(window.setTimeout(d(a,b),f.doubleClickTimeout))},this.$bb=function(a){return f.itline[a]},this.$ba=function(a,b){if("boolean"==typeof b)throw"Invalid _eventClickSingle parameters";var c=a.event,d=b.ctrlKey,e=b.metaKey;if(c.client.clickEnabled())if(f.$aq()){var g={};if(g.e=c,g.div=a,g.originalEvent=b,g.ctrl=d,g.meta=e,g.shift=b.shiftKey,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventClick&&(f.onEventClick(g),g.preventDefault.value))return;switch(f.eventClickHandling){case"PostBack":f.eventClickPostBack(c);break;case"CallBack":f.eventClickCallBack(c);break;case"Edit":f.$bc(a);break;case"Select":f.$bd(a,c,d,e);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):f.contextMenu&&f.contextMenu.show(c);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"RectangleSelect":if("Disabled"!==f.multiSelectRectangle)return G.start(),!1}"function"==typeof f.onEventClicked&&f.onEventClicked(g)}else switch(f.eventClickHandling){case"PostBack":f.eventClickPostBack(c);break;case"CallBack":f.eventClickCallBack(c);break;case"JavaScript":f.onEventClick(c);break;case"Edit":f.$bc(a);break;case"Select":f.$bd(a,c,d,e);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):f.contextMenu&&f.contextMenu.show(c);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"RectangleSelect":if("Disabled"!==f.multiSelectRectangle)return G.start(),!1}},this.$be=function(a){if(f.$aq()){var b={};if(b.e=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventDelete&&(f.onEventDelete(b),b.preventDefault.value))return;switch(f.eventDeleteHandling){case"PostBack":f.eventDeletePostBack(a);break;case"CallBack":f.eventDeleteCallBack(a);break;case"Update":f.events.remove(a)}"function"==typeof f.onEventDeleted&&f.onEventDeleted(b)}else switch(f.eventDeleteHandling){case"PostBack":f.eventDeletePostBack(a);break;case"CallBack":f.eventDeleteCallBack(a);break;case"JavaScript":f.onEventDelete(a)}},this.eventDeletePostBack=function(a,b){this.$b8("EventDelete",a,b)},this.eventDeleteCallBack=function(a,b){this.$b9("EventDelete",a,b)},this.setHScrollPosition=function(a){this.nav.scroll.scrollLeft=a},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.$bd=function(a,b,c,d){f.$bf(a,b,c,d)},this.eventSelectPostBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$b8("EventSelect",d,c)},this.eventSelectCallBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$b9("EventSelect",d,c)},this.$bf=function(a,b,c,d){var e=f.multiselect,g=!1,h=e.isSelected(b),i=c||d;if(i||!h||g||1!==e.list.length)if(f.$aq()){e.previous=e.events();var j={};if(j.e=b,j.selected=h,j.ctrl=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventSelect&&(f.onEventSelect(j),j.preventDefault.value))return;switch(f.eventSelectHandling){case"PostBack":f.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),f.eventSelectCallBack(b,k);break;case"Update":e.$bg(a,c,d)}"function"==typeof f.onEventSelected&&(j.change=e.isSelected(b)?"selected":"deselected",j.selected=e.isSelected(b),f.onEventSelected(j))}else{e.previous=e.events(),e.$bg(a,c,d);var k=e.isSelected(b)?"selected":"deselected";switch(f.eventSelectHandling){case"PostBack":f.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),f.eventSelectCallBack(b,k);break;case"JavaScript":f.onEventSelect(b,k)}}},this.eventRightClickPostBack=function(a,b){this.$b8("EventRightClick",a,b)},this.eventRightClickCallBack=function(a,b){this.$b9("EventRightClick",a,b)},this.$bh=function(a){var b=this.event;if(a=a||window.event,a.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(f.$aq()){var c={};if(c.e=b,c.div=this,c.originalEvent=a,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventRightClick&&(f.onEventRightClick(c),c.preventDefault.value))return!1;switch(f.eventRightClickHandling){case"PostBack":f.eventRightClickPostBack(b);break;case"CallBack":f.eventRightClickCallBack(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):f.contextMenu&&f.contextMenu.show(this.event);break;case"Bubble":f.bubble&&f.bubble.showEvent(b)}"function"==typeof f.onEventRightClicked&&f.onEventRightClicked(c)}else switch(f.eventRightClickHandling){case"PostBack":f.eventRightClickPostBack(b);break;case"CallBack":f.eventRightClickCallBack(b);break;case"JavaScript":f.onEventRightClick(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):f.contextMenu&&f.contextMenu.show(this.event);break;case"Bubble":f.bubble&&f.bubble.showEvent(b)}return!1},this.eventDoubleClickPostBack=function(a,b){this.$b8("EventDoubleClick",a,b)},this.eventDoubleClickCallBack=function(a,b){this.$b9("EventDoubleClick",a,b)},this.$bi=function(a){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),f.timeouts.click){for(var b in f.timeouts.click)window.clearTimeout(f.timeouts.click[b]);f.timeouts.click=null}var a=a||window.event,c=this.event;if(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,f.$aq()){var d={};if(d.e=c,d.originalEvent=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventDoubleClick&&(f.onEventDoubleClick(d),d.preventDefault.value))return;switch(f.eventDoubleClickHandling){case"PostBack":f.eventDoubleClickPostBack(c);break;case"CallBack":f.eventDoubleClickCallBack(c);break;case"Edit":f.$bc(this);break;case"Select":f.$bd($02,c,a.ctrlKey,a.metaKey);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"ContextMenu":var e=c.client.contextMenu();e?e.show(c):f.contextMenu&&f.contextMenu.show(c)}"function"==typeof f.onEventDoubleClicked&&f.onEventDoubleClicked(d)}else switch(f.eventDoubleClickHandling){case"PostBack":f.eventDoubleClickPostBack(c);break;case"CallBack":f.eventDoubleClickCallBack(c);break;case"JavaScript":f.onEventDoubleClick(c);break;case"Edit":f.$bc(this);break;case"Select":f.$bd($02,c,a.ctrlKey,a.metaKey);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"ContextMenu":var e=c.client.contextMenu();e?e.show(c):f.contextMenu&&f.contextMenu.show(c)}},this.eventResizePostBack=function(a,b,c,d){this.$bj("PostBack",a,b,c,d)},this.eventResizeCallBack=function(a,b,c,d){this.$bj("CallBack",a,b,c,d)},this.$bj=function(a,b,c,d,e){var f={};f.e=b,f.newStart=c,f.newEnd=d,this.$bk(a,"EventResize",f,e)},this.$bl=function(a,b,c){if("Disabled"!==this.eventResizeHandling)if(c=f.$bm(c),f.$aq()){var d={},e=function(){if(A.hide(),!d.preventDefault.value){switch(b=d.newStart,c=d.newEnd,f.eventResizeHandling){case"PostBack":f.eventResizePostBack(a,b,c);break;case"CallBack":f.eventResizeCallBack(a,b,c);break;case"Notify":f.eventResizeNotify(a,b,c);break;case"Update":f.$bn(d)}"function"==typeof f.onEventResized&&f.onEventResized(d)}};d.e=a,d.async=!1,d.loaded=function(){e()},d.newStart=b,d.newEnd=c,d.preventDefault=function(){this.preventDefault.value=!0},d.multiresize=DayPilot.list(t.list);var g={};g.event=a,g.start=b,g.end=c,d.multiresize.splice(0,0,g),"function"==typeof f.onEventResize&&f.onEventResize(d),d.async?f.blockOnCallBack&&A.show():e()}else switch(f.eventResizeHandling){case"PostBack":f.eventResizePostBack(a,b,c);break;case"CallBack":f.eventResizeCallBack(a,b,c);break;case"JavaScript":f.onEventResize(a,b,c);break;case"Notify":f.eventResizeNotify(a,b,c);break;case"Update":f.$bn(d)}},this.eventMovePostBack=function(a,b,c,d,e,f){this.$bo("PostBack",a,b,c,d,e,f)},this.eventMoveCallBack=function(a,b,c,d,e,f){this.$bo("CallBack",a,b,c,d,e,f)},this.$bo=function(a,b,c,d,e,g,h){var i=b&&!!b.preventDefault,j={};if(i){var k=b;j.e=k.e,j.newStart=k.newStart,j.newEnd=k.newEnd,j.newResource=k.newResource,j.position=k.position,j.multimove=[],k.multimove.each(function(a){var b={};if(b.e=a.event,b.newStart=a.start,b.newEnd=a.end,b.newResource=a.event.resource(),b.e===k.e||b.e.data.id==k.e.data.id)b.newResource=k.newResource;else if(u.rowoffset){var c=a.event.part.dayIndex+u.rowoffset;b.newResource=f.rowlist[c].id}j.multimove.push(b)})}else j.e=b,j.newStart=c,j.newEnd=d,j.newResource=e,j.position=h;this.$bk(a,"EventMove",j,g)},this.$bp=function(a,b,c){var d={};d.start=b.start,d.end=b.end,d.resource=b.resource,d.multirange=[],b.multirange.each(function(a){var b={};b.start=a.start,b.end=a.end,b.resource=a.resource,d.multirange.push(b)}),this.$bk(a,"TimeRangeSelected",d,c)},this.$bk=function(a,b,c,d){if("PostBack"===a)f.$b8(b,c,d);else if("CallBack"===a)f.$b9(b,c,d,"CallBack");else if("Immediate"===a)f.$b9(b,c,d,"Notify");else if("Queue"===a)f.queue.add(new DayPilot.Action(this,b,c,d));else{if("Notify"!==a)throw"Invalid event invocation type";"Notify"===I.notifyType()?f.$b9(b,c,d,"Notify"):f.queue.add(new DayPilot.Action(f,b,c,d))}},this.eventMoveNotify=function(a,b,c,d,e,g){var h=a&&!!a.preventDefault;if(h){var i=a;i.old=new DayPilot.Event(i.e.copy(),f),i.multimove.each(function(a){a.old=new DayPilot.Event(a.event.copy(),f)}),f.$bn(i),i.e=i.old,delete i.old,i.multimove.each(function(a){a.event=a.old,delete a.old})}else{a=new DayPilot.Event(a.copy(),f);var j=f.events.$bq(a.data);a.start(b),a.end(c),a.resource(d),a.commit(),j=j.concat(f.events.$br(a.data)),f.$bs(j),f.$bt(),f.$bu(j)}this.$bo("Notify",a,b,c,d,e,g)},this.eventResizeNotify=function(a,b,c,d){var e=new DayPilot.Event(a.copy(),this),g=f.events.$bq(a.data);a.start(b),a.end(c),a.commit(),g=g.concat(f.events.$br(a.data)),f.$bs(g),f.$bt(),f.$bu(g),this.$bj("Notify",e,b,c,d)},this.multiselect={},this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$ag=function(a){f.multiselect.list=DayPilot.list(a).map(function(a){return new DayPilot.Event(a,f)})},this.multiselect.$bv=function(){var a=f.multiselect;return DayPilot.JSON.stringify(a.events())},this.multiselect.events=function(){var a=f.multiselect,b=DayPilot.list();b.ignoreToJSON=!0;for(var c=0;c<a.list.length;c++)b.push(a.list[c]);return b},this.multiselect.$bw=function(){},this.multiselect.$bg=function(a,b,c){var d=f.multiselect;if(d.isSelected(a.event))if(f.allowMultiSelect)if(b||c)d.remove(a.event,!0);else{var e=d.list.length;d.clear(),e>1&&d.add(a.event,!0)}else d.clear();else f.allowMultiSelect&&(b||c)?d.add(a.event,!0):(d.clear(),d.add(a.event,!0));d.$bx(a),d.$bw()},this.multiselect.$by=function(a){var b=f.multiselect;return b.$bz(a,b.initList)},this.multiselect.$bA=function(){for(var a=f.multiselect,b=[],c=0;c<a.list.length;c++){var d=a.list[c];b.push(d.value())}alert(b.join("\n"))},this.multiselect.add=function(a,b){var c=f.multiselect;c.indexOf(a)===-1&&c.list.push(a),b||c.redraw()},this.multiselect.remove=function(a,b){var c=f.multiselect,d=c.indexOf(a);d!==-1&&c.list.splice(d,1),b||c.redraw()},this.multiselect.clear=function(a){var b=f.multiselect;b.list=[],a||b.redraw()},this.multiselect.redraw=function(){var a=f.multiselect;a.divs=[];for(var b=0;b<f.elements.events.length;b++){var c=f.elements.events[b];c.event&&c.event.isEvent&&(a.isSelected(c.event)?a.$bB(c):a.$bC(c))}},this.multiselect.$bD=function(a){for(var b=f.multiselect,c=null,d=0;d<f.elements.events.length;d++)if(b.isSelected(f.elements.events[d].event)){c=f.elements.events[d];break}b.$bx(c)},this.multiselect.$bx=function(a){if(a){var b=f.multiselect;b.isSelected(a.event)?b.$bB(a):b.$bC(a)}},this.multiselect.$bB=function(a){var b=f.multiselect,c=f.$aD("_selected"),a=b.$bE(a);DayPilot.Util.addClass(a,c),b.divs.push(a)},this.multiselect.$bE=function(a){return a},this.multiselect.$bF=function(){for(var a=f.multiselect,b=0;b<a.divs.length;b++){var c=a.divs[b];a.$bC(c,!0)}a.divs=[]},this.multiselect.$bC=function(a,b){var c=f.multiselect,d=f.$aD("_selected");if(DayPilot.Util.removeClass(a,d),!b){var e=DayPilot.indexOf(c.divs,a);e!==-1&&c.divs.splice(e,1)}},this.multiselect.isSelected=function(a){return!!a&&(!!a.isEvent&&f.multiselect.$bz(a,f.multiselect.list))},this.multiselect.indexOf=function(a){for(var b=a.data,c=0;c<f.multiselect.list.length;c++){var d=f.multiselect.list[c];if(d.data===b)return c}return-1},this.multiselect.$bz=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(a===d)return!0;if("function"==typeof d.id){if(null!==d.id()&&null!==a.id()&&d.id()===a.id())return!0;if(null===d.id()&&null===a.id()&&d.recurrentMasterId()===a.recurrentMasterId()&&a.start().toStringSortable()===d.start().toStringSortable())return!0}else{if(null!==d.id&&null!==a.id()&&d.id===a.id())return!0;if(null===d.id&&null===a.id()&&d.recurrentMasterId===a.recurrentMasterId()&&a.start().toStringSortable()===d.start)return!0}}return!1},this.multiselect.startRectangle=function(){G.start()},this.$bG=function(){this.$af(),this.$ai()},this.$bH=function(){f.$a5(),f.$aa(),f.$bI(),f.progressiveRowRendering&&f.$bJ()},this.$bx=function(a){var a=a||{},b=!a.eventsOnly;f.cssOnly||(f.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),b&&(this.$aM()||(f.timeHeader=null,f.cellProperties={}),f.$a0(),f.$a1(),a&&a.dontLoadResources||f.$a2()),this.$a4(),b&&(f.$bK(),f.$a6(),f.$ao(f.selectedRows)),f.$a5(),f.$a7(),f.$aa(),f.$bI(),f.$ab(),m.hideLinkpoints(),this.$ae(),this.$ad(),this.$9Y(),this.$a3(),this.$ah(),this.$bG(),f.$ac(),a.immediateEvents||a.eventsOnly?f.$aj():setTimeout(function(){f.$aj()},100),this.visible?this.show():this.hide(),this.$an(),this.$ap(),this.$bL(),this.$9V()},this.$bL=function(){if("function"==typeof f.onAfterUpdate){var a={};f.onAfterUpdate(a)}},this.update=function(a){if(f.$9J)throw"You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";l.request(a)};var l={};l.timeout=null,l.options=null,l.enabled=!1,l.request=function(a){l.enabled?(clearTimeout(l.timeout),l.mergeOptions(a),l.timeout=setTimeout(l.doit)):(l.mergeOptions(a),l.doit())},l.mergeOptions=function(a){if(a){l.options||(l.options={});for(var b in a)l.options[b]=a[b]}},l.doit=function(){var a=l.options;return l.options=null,a?void(a.events?(f.events.list=a.events,f.$bM&&f.$bx({eventsOnly:!0})):a.separators?(f.separators=a.separators,f.$bM&&f.$bG()):a.rowHeaderColumns&&(f.rowHeaderColumns=a.rowHeaderColumns,f.$bM&&f.$bH())):void(f.$bM&&f.$bx({immediateEvents:!0}))},this.$bu=function(a,b,c){a=DayPilot.ua(a);for(var d=0;d<a.length;d++){var e=a[d];f.$bN(e)}if(this.$bO){this.$a7(),this.$aa(),this.$ad(),this.$af();for(var d=0;d<a.length;d++){var e=a[d];this.$bP(e)}for(var d=0;d<a.length;d++){var e=a[d];this.$bQ(e)}this.$ah(),this.$ai(),this.$bR()}else{var g=!0;if(g){var h=function(d){if(!(d>=a.length)){var e=a[d];b||f.$bP(e),f.$bQ(e),d+1<a.length?setTimeout(function(){h(d+1)},10):(f.$az(),m.load(),f.multiselect.redraw(),c&&c())}};h(0)}else for(var d=0;d<a.length;d++){var e=a[d];b||this.$bP(e),this.$bQ(e)}DayPilot.list(a).each(function(a){f.$bS(a)}),f.$ah()}f.$az(),m.load(),f.multiselect.redraw(),c&&c(),this.$9Y()},this.$bm=function(a){return"DateTime"===f.eventEndSpec?a:a.getDatePart().ticks===a.ticks?a.addDays(-1):a.getDatePart()},this.$bT=function(a){return"DateTime"===f.eventEndSpec?a:a.getDatePart().addDays(1)},this.$bU=function(a){return"DateTime"===f.eventEndSpec?a:a.getDatePart()},this.$bV=function(a,b,c,d,e,g,h){if(f.$bW=null,"Disabled"!==f.eventMoveHandling){c=f.$bm(c);var i={};i.e=a,i.newStart=b,i.newEnd=c,i.newResource=d,i.external=e,i.ctrl=!1,i.meta=!1,i.shift=!1,g&&(i.shift=g.shiftKey,i.ctrl=g.ctrlKey,i.meta=g.metaKey),i.multimove=DayPilot.list(u.list);var j={};if(j.event=a,j.start=b,j.end=c,i.multimove.splice(0,0,j),i.position=h,i.preventDefault=function(){this.preventDefault.value=!0},f.$aq()){var k=function(){if(A.hide(),i.preventDefault.value)return void f.$bX();switch(b=i.newStart,c=i.newEnd,f.eventMoveHandling){case"PostBack":f.eventMovePostBack(i);break;case"CallBack":f.eventMoveCallBack(i);break;case"Notify":f.eventMoveNotify(i);break;case"Update":f.$bn(i)}f.$bX(),"function"==typeof f.onEventMoved&&f.onEventMoved(i)};i.async=!1,i.loaded=function(){k()},"function"==typeof f.onEventMove&&f.onEventMove(i),i.async?f.blockOnCallBack&&A.show():k()}else{switch(f.eventMoveHandling){case"PostBack":f.eventMovePostBack(i);break;case"CallBack":f.eventMoveCallBack(i);break;case"JavaScript":f.onEventMove(a,b,c,d,e,!!g&&g.ctrlKey,!!g&&g.shiftKey,h);break;case"Notify":f.eventMoveNotify(i);break;case"Update":f.$bn(i)}f.$bX()}}},this.$bn=function(a){var b=a.e,c=a.newStart,d=a.newEnd,e=a.newResource,g=a.external;b.start(c),b.end(d),b.resource(e),g?(b.commit(),f.events.add(b)):f.events.update(b),a.multimove&&!a.multimove.isEmpty()&&a.multimove.each(function(a){if(a.event!==b){if(a.event.start(a.start),a.event.end(a.end),u.rowoffset){var c=a.event.part.dayIndex+u.rowoffset,d=f.rowlist[c].id;a.event.resource(d)}a.event.commit(),f.events.update(a.event)}}),a.multiresize&&!a.multiresize.isEmpty()&&a.multiresize.each(function(a){a.event!==b&&(a.event.start(a.start),a.event.end(a.end),a.event.commit(),f.events.update(a.event))}),f.$9T()},this.$bY=function(a,b){var c=f.$bZ(b),d={};d.args=a,d.guid=c,f.$b9("Bubble",d)},this.$bZ=function(a){var b=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[b]=a,b},this.eventMenuClickPostBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$b8("EventMenuClick",d,c)},this.eventMenuClickCallBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$b9("EventMenuClick",d,c)},this.$c0=function(a,b,c){switch(c){case"PostBack":f.eventMenuClickPostBack(b,a);break;case"CallBack":f.eventMenuClickCallBack(b,a)}},this.timeRangeSelectedPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$b8("TimeRangeSelected",e,d)},this.timeRangeSelectedCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$b9("TimeRangeSelected",e,d)},this.$c1=function(a){if(a){if(a.disabled)return void f.clearSelection();var b=f.$c2(a);b&&f.$c3(b.start,b.end,b.resource)}},this.$c3=function(a,c,d){if("Disabled"!==f.timeRangeSelectedHandling){var e=c;c=f.$bm(e);var g={};if(g.start=a,g.end=c,g.resource=d,g.preventDefault=function(){this.preventDefault.value=!0},g.multirange=DayPilot.list(H.list).map(function(a){return f.$c2(a)}),g.multirange.isEmpty()&&g.multirange.push({start:g.start,end:g.end,resource:g.resource}),f.$aq()){if("function"==typeof f.onTimeRangeSelect){if(f.onTimeRangeSelect(g),g.preventDefault.value)return;a=g.start,c=g.end}switch(f.$c4(b.rangeHold,a,c,g.multirange),f.$c5(b.rangeHold),f.timeRangeSelectedHandling){case"PostBack":f.$bp("PostBack",g);break;case"CallBack":f.$bp("CallBack",g)}"function"==typeof f.onTimeRangeSelected&&f.onTimeRangeSelected(g)}else switch(f.timeRangeSelectedHandling){case"PostBack":f.$bp("PostBack",g);break;case"CallBack":f.$bp("CallBack",g);break;case"JavaScript":f.onTimeRangeSelected(a,c,d,g.multirange);break;case"Hold":}}},this.$c4=function(a,b,c,d){if(a&&!(d&&d.length>1)){var g,h,e=f.$bT(c),i=0;if("Days"===f.viewType){var j=f.$ar(b);i=j.start.getTime()-f.$aT().getTime()}b.getTime()<f.itline[0].start.getTime()?a.start.x=0:(g=f.$b4(b.addTime(-i)),h=g.current||g.previous,a.start.x=DayPilot.indexOf(f.itline,h)),g=f.$b4(e.addSeconds(-1).addTime(-i)),g.past?a.end.x=f.itline.length-1:(h=g.current||g.next,a.end.x=DayPilot.indexOf(f.itline,h))}},this.$ar=function(a){var b=a.getDatePart();return DayPilot.list(f.rowlist).find(function(a){return a.start.getDatePart()===b})},this.timeRangeDoubleClickPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$b8("TimeRangeDoubleClick",e,d)},this.timeRangeDoubleClickCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$b9("TimeRangeDoubleClick",e,d)},this.$c6=function(a,b,c){if(b=f.$bm(b),f.$aq()){var d={};if(d.start=a,d.end=b,d.resource=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onTimeRangeDoubleClick&&(f.onTimeRangeDoubleClick(d),d.preventDefault.value))return;switch(f.timeRangeDoubleClickHandling){case"PostBack":f.timeRangeDoubleClickPostBack(a,b,c);break;case"CallBack":f.timeRangeDoubleClickCallBack(a,b,c)}"function"==typeof f.onTimeRangeDoubleClicked&&f.onTimeRangeDoubleClicked(d)}else switch(f.timeRangeDoubleClickHandling){case"PostBack":f.timeRangeDoubleClickPostBack(a,b,c);break;case"CallBack":f.timeRangeDoubleClickCallBack(a,b,c);break;case"JavaScript":f.onTimeRangeDoubleClick(a,b,c)}},this.timeRangeMenuClickPostBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$b8("TimeRangeMenuClick",d,c)},this.timeRangeMenuClickCallBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$b9("TimeRangeMenuClick",d,c)},this.$c7=function(a,b,c){switch(c){case"PostBack":f.timeRangeMenuClickPostBack(b,a);break;case"CallBack":f.timeRangeMenuClickCallBack(b,a)}},this.linkMenuClickPostBack=function(a,b,c){var d={};d.link=a,d.command=b,this.$b8("LinkMenuClick",d,c)},this.linkMenuClickCallBack=function(a,b,c){var d={};d.link=a,d.command=b,this.$b9("LinkMenuClick",d,c)},this.$c8=function(a,b,c){switch(c){case"PostBack":f.linkMenuClickPostBack(b,a);break;case"CallBack":f.linkMenuClickCallBack(b,a)}},this.rowMenuClickPostBack=function(a,b,c){var d={};d.resource=a,d.command=b,this.$b8("RowMenuClick",d,c)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(a,b,c){var d={};d.resource=a,d.command=b,this.$b9("RowMenuClick",d,c)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.$c9=function(a,b,c){switch(c){case"PostBack":f.rowMenuClickPostBack(b,a);break;case"CallBack":f.rowMenuClickCallBack(b,a)}},this.$ca=function(a,b){var c=x.$cb(a),d=c.cells[0],e=d.textDiv;e.innerHTML=b,a.Text=b,a.html=b},this.$cc=function(a,b){if(b){var c={};if(c.text=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof f.onRowCreate||(f.onRowCreate(c),!c.preventDefault.value)){switch(f.rowCreateHandling){case"CallBack":f.rowCreateCallBack(c.text);break;case"PostBack":f.rowCreatePostBack(c.text)}"function"==typeof f.onRowCreated&&f.onRowCreated(c)}}},this.$cd=function(a,b){if(a.isNewRow)return void f.$cc(a,b);var c=DayPilot.indexOf(f.rowlist,a),d=f.$ce(a,c);if(f.$aq()){var e={};if(e.resource=d,e.newText=b,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowEdit&&(f.onRowEdit(e),e.preventDefault.value))return;switch(f.rowEditHandling){case"PostBack":f.rowEditPostBack(d,b);break;case"CallBack":f.rowEditCallBack(d,b);break;case"Update":f.$ca(a,b)}"function"==typeof f.onRowEdited&&f.onRowEdited(e)}else switch(f.rowEditHandling){case"PostBack":f.rowEditPostBack(d,b);break;case"CallBack":f.rowEditCallBack(d,b);break;case"JavaScript":f.onrowEdit(d,b)}},this.rowCreatePostBack=function(a,b){var c={};c.text=a,this.$b8("RowCreate",c,b)},this.rowCreateCallBack=function(a,b){var c={};c.text=a,this.$b9("RowCreate",c,b)},this.rowEditPostBack=function(a,b,c){var d={};d.resource=a,d.newText=b,this.$b8("RowEdit",d,c)},this.rowEditCallBack=function(a,b,c){var d={};d.resource=a,d.newText=b,this.$b9("RowEdit",d,c)},this.rowMovePostBack=function(a,b,c,d){var e={};e.source=a,e.target=b,e.position=c,this.$b8("RowMove",e,d)},this.rowMoveCallBack=function(a,b,c,d){var e={};e.source=a,e.target=b,e.position=c,this.$b9("RowMove",e,d)},this.rowMoveNotify=function(a,b,c,d){var e={};e.source=a,e.target=b,e.position=c,this.$b9("RowMove",e,d,"Notify")},this.rowClickPostBack=function(a,b){var c={};c.resource=a,this.$b8("RowClick",c,b)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(a,b){var c={};c.resource=a,this.$b9("RowClick",c,b)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.$cf=function(a,b,c,d){if("Disabled"===f.rowDoubleClickHandling)return void f.$cg(a,b,c,d);f.timeouts.resClick||(f.timeouts.resClick=[]);var e=function(a,b,c,d){return function(){f.$cg(a,b,c,d)}};f.timeouts.resClick.push(window.setTimeout(e(a,b,c,d),f.doubleClickTimeout))},this.$cg=function(a,b,c,d){var e=f.resourceHeaderClickHandling||f.rowClickHandling;if(f.$aq()){var g={};if(g.resource=a,g.row=a,g.ctrl=b,g.shift=c,g.meta=d,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowClick&&(f.onRowClick(g),g.preventDefault.value))return;if("function"==typeof f.onResourceHeaderClick&&(f.onResourceHeaderClick(g),g.preventDefault.value))return;switch(e){case"PostBack":f.rowClickPostBack(a);break;case"CallBack":f.rowClickCallBack(a);break;case"Select":f.$ch(a.$.row,b,c,d);break;case"Edit":f.$ci.edit(a.$.row)}"function"==typeof f.onRowClicked&&f.onRowClicked(g),"function"==typeof f.onResourceHeaderClicked&&f.onResourceHeaderClicked(g)}else switch(e){case"PostBack":f.rowClickPostBack(a);break;case"CallBack":f.rowClickCallBack(a);break;case"JavaScript":f.onRowClick(a);break;case"Select":f.$ch(a.$.row,b,c);break;case"Edit":f.$ci.edit(a.$.row)}},this.timeHeaderClickPostBack=function(a,b){var c={};c.header=a,this.$b8("TimeHeaderClick",c,b)},this.timeHeaderClickCallBack=function(a,b){var c={};c.header=a,this.$b9("TimeHeaderClick",c,b)},this.$cj=function(a){if(f.$aq()){var b={};if(b.header=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onTimeHeaderClick&&(f.onTimeHeaderClick(b),b.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":f.timeHeaderClickPostBack(a);break;case"CallBack":f.timeHeaderClickCallBack(a)}"function"==typeof f.onTimeHeaderClicked&&f.onTimeHeaderClicked(b)}else switch(this.timeHeaderClickHandling){
case"PostBack":f.timeHeaderClickPostBack(a);break;case"CallBack":f.timeHeaderClickCallBack(a);break;case"JavaScript":f.onTimeHeaderClick(a)}},this.resourceCollapsePostBack=function(a,b){var c={};c.resource=a,this.$b8("ResourceCollapse",c,b)},this.resourceCollapseCallBack=function(a,b){var c={};c.resource=a,this.$b9("ResourceCollapse",c,b)},this.$ck=function(a){if(f.$aq()){var b={};if(b.resource=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onResourceCollapse&&(f.onResourceCollapse(b),b.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":f.resourceCollapsePostBack(a);break;case"CallBack":f.resourceCollapseCallBack(a)}}else switch(this.resourceCollapseHandling){case"PostBack":f.resourceCollapsePostBack(a);break;case"CallBack":f.resourceCollapseCallBack(a);break;case"JavaScript":f.onResourceCollapse(a)}},this.resourceExpandPostBack=function(a,b){var c={};c.resource=a,this.$b8("ResourceExpand",c,b)},this.resourceExpandCallBack=function(a,b){var c={};c.resource=a,this.$b9("ResourceExpand",c,b)},this.$cl=function(a){if(f.$aq()){var b={};if(b.resource=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onResourceExpand&&(f.onResourceExpand(b),b.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":f.resourceExpandPostBack(a);break;case"CallBack":f.resourceExpandCallBack(a)}}else switch(this.resourceExpandHandling){case"PostBack":f.resourceExpandPostBack(a);break;case"CallBack":f.resourceExpandCallBack(a);break;case"JavaScript":f.onResourceExpand(a)}},this.eventEditPostBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$b8("EventEdit",d,c)},this.eventEditCallBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$b9("EventEdit",d,c)},this.$cm=function(a,b,c){if(f.$aq()){var d={};if(d.e=a,d.newText=b,d.canceled=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventEdit&&(f.onEventEdit(d),d.preventDefault.value))return;if(!c)switch(f.eventEditHandling){case"PostBack":f.eventEditPostBack(a,b);break;case"CallBack":f.eventEditCallBack(a,b);break;case"Update":a.text(b),f.events.update(a)}"function"==typeof f.onEventEdited&&f.onEventEdited(d)}else switch(f.eventEditHandling){case"PostBack":f.eventEditPostBack(a,b);break;case"CallBack":f.eventEditCallBack(a,b);break;case"JavaScript":f.onEventEdit(a,b)}},this.commandCallBack=function(a,b){this.$cn("CallBack",a,b)},this.commandPostBack=function(a,b){this.$cn("PostBack",a,b)},this.$cn=function(a,b,c){var d={};d.command=b,this.$bk(a,"Command",d,c)},this.$b8=function(a,b,c){var d={};d.action=a,d.type="PostBack",d.parameters=b,d.data=c,d.header=this.$co();var e="JSON"+DayPilot.JSON.stringify(d);__doPostBack(f.uniqueID,e)},this.$b9=function(a,b,c,d){if(!f.$aM())return void f.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof d&&(d="CallBack"),this.$cp(),f.$cq();var e={};e.action=a,e.type=d,e.parameters=b,e.data=c,e.header=this.$co();var h,g=DayPilot.JSON.stringify(e);h="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(g)):"JSON"+g,this.$cr(e);var i=null;this.backendUrl?DayPilot.request(this.backendUrl,this.$cs,h,this.$ct):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,h,this.$9S,i,this.callbackError,!0)},this.$cr=function(a){var b={};"function"==typeof f.onCallBackStart&&f.onCallBackStart(b)},this.$9X=function(){var a={};"function"==typeof f.onCallBackEnd&&setTimeout(function(){f.onCallBackEnd(a)},0)},this.$aM=function(){return!!this.backendUrl||!!this.$cu()},this.$cu=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$ct=function(a){if("function"==typeof f.onAjaxError){var b={};b.request=a,f.onAjaxError(b)}else"function"==typeof f.ajaxError&&f.ajaxError(a)},this.$cs=function(a){f.$9S(a.responseText)},this.$co=function(){var a={};a.v=this.v,a.control="dps",a.id=this.id,a.startDate=f.startDate,a.days=f.days,a.cellDuration=f.cellDuration,a.cellGroupBy=f.cellGroupBy,a.cellWidth=f.cellWidth,a.cellWidthSpec=f.cellWidthSpec,a.viewType=f.viewType,a.hourNameBackColor=f.hourNameBackColor,a.showNonBusiness=f.showNonBusiness,a.businessBeginsHour=f.businessBeginsHour,a.businessEndsHour=f.businessEndsHour,a.weekStarts=f.weekStarts,a.treeEnabled=f.treeEnabled,a.locale=f.locale,a.timeZone=f.timeZone,a.tagFields=f.tagFields,a.timeHeaders=f.timeHeaders,a.cssClassPrefix=f.cssClassPrefix,a.durationBarMode=f.durationBarMode,a.showBaseTimeHeader=!0,a.rowHeaderColumns=f.rowHeaderColumns,a.rowMarginBottom=f.rowMarginBottom,a.rowMarginTop=f.rowMarginTop,a.rowMinHeight=f.rowMinHeight,a.scale=f.scale,a.clientState=f.clientState,this.nav.scroll&&(a.scrollX=this.nav.scroll.scrollLeft,a.scrollY=this.nav.scroll.scrollTop),a.selected=f.multiselect.events(),a.selectedRows=x.$cv(),a.hashes=f.hashes;var b=f.$cw(a.scrollX,a.scrollY),c=f.$cx(b),d=f.$cy(b);if(a.rangeStart=c.start,a.rangeEnd=c.end,a.resources=d,a.dynamicLoading=f.dynamicLoading,a.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(a.tree=this.$cz()),this.syncLinks&&(a.links=this.$cA()),"Manual"===this.scale&&(a.timeline=this.$cB()),"function"==typeof f.onCallBackHeader){var e={};e.header=a,f.onCallBackHeader(e)}return a},this.$cB=function(){var a=[];return DayPilot.list(f.timeline).each(function(b){var c={};c.start=b.start,c.end=b.end,c.width=b.width,a.push(c)}),a},this.$cA=function(){var a=[],b=function(a){var b={};if(a.tags)for(var c in a.tags)b[c]=""+a.tags[c];return b};if(!DayPilot.isArray(f.links.list))return a;for(var c=0;c<f.links.list.length;c++){var d=f.links.list[c],e={};e.id=d.id,e.from=d.from,e.to=d.to,e.type=d.type,e.tags=b(d),a.push(e)}return a},this.getViewPort=function(){var a=this.nav.scroll.scrollLeft-h.shiftX,b=this.nav.scroll.scrollTop,c={};if("Days"!==f.viewType){var d=f.$cw(a,b),e=f.$cx(d),g=f.$cy(d);c.start=e.start,c.end=e.end,c.resources=g}else{var d=f.$cw(a,b),e=f.$cC(d);c.start=e.start,c.end=e.end,c.resources=[]}return c},this.$cw=function(a,b){var c={};c.start={},c.end={},c.start.x=Math.floor(a/f.cellWidth),c.end.x=Math.floor((a+f.nav.scroll.clientWidth)/f.cellWidth),c.start.y=f.$cD(b).i,c.end.y=f.$cD(b+f.nav.scroll.clientHeight).i;var d=this.itline.length;return c.end.x>=d&&(c.end.x=d-1),c},this.$cx=function(a){var b={};if(this.itline.length<=0)return b.start=this.startDate,b.end=this.startDate,b;if(!this.itline[a.start.x])throw"Internal error: area.start.x is null.";return b.start=this.itline[a.start.x].start,b.end=this.itline[a.end.x].end,b},this.$cy=function(a){if(!a)var a=this.$cw(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var b=[];b.ignoreToJSON=!0;for(var c=a.start.y;c<=a.end.y;c++){var d=f.rowlist[c];d&&!d.hidden&&b.push(d.id)}return b},this.$cC=function(a){if(!a)var a=this.$cw(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var b={};if(0===f.rowlist.length)return b;var c=f.itline[f.itline.length-1].end.getTime()-f.itline[0].start.getTime();return b.start=f.rowlist[a.start.y]&&f.rowlist[a.start.y].start,b.end=f.rowlist[a.end.y]&&f.rowlist[a.end.y].start.addTime(c),b},this.$cz=function(){var a=[];a.ignoreToJSON=!0;for(var b=0;b<this.rowlist.length;b++){var c=this.rowlist[b];if(!(c.level>0||c.isNewRow)){var d=this.$cE(b);a.push(d)}}return a},this.$cF=function(a){var b=[];b.ignoreToJSON=!0;for(var c=0;c<a.length;c++){var d=a[c],e=f.rowlist[d];e.isNewRow||b.push(f.$cE(d))}return b},this.$cE=function(a){var b=this.rowlist[a];if("function"==typeof f.onGetNodeState){var c={};if(c.row=b,c.preventDefault=function(){c.preventDefault.value=!0},c.result={},f.onGetNodeState(c),c.preventDefault.value)return c.result}var d={};return d.Value=b.id,d.BackColor=b.backColor,d.Name=b.name,d.InnerHTML=b.html,d.ToolTip=b.toolTip,d.Expanded=b.expanded,d.Children=this.$cF(b.children),d.Loaded=b.loaded,d.IsParent=b.isParent,d.Columns=this.$cG(b),b.start.getTime()!==f.$aT().getTime()&&(d.Start=b.start),b.minHeight!==f.rowMinHeight&&(d.MinHeight=b.minHeight),b.marginBottom!==f.rowMarginBottom&&(d.MarginBottom=b.marginBottom),b.marginTop!==f.rowMarginTop&&(d.MarginTop=b.marginTop),b.eventHeight!==f.eventHeight&&(d.EventHeight=b.eventHeight),d},this.$cG=function(a){if(!a.columns||0===a.columns.length)return null;var b=[];b.ignoreToJSON=!0;for(var c=0;c<a.columns.length;c++){var d={};d.InnerHTML=a.columns[c].html,b.push(d)}return b},this.$aD=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$cH=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var a=f;a.$9J||(a.$9J=!0,a.$cp(),a.$ae(),a.divBreaks=null,a.divCells=null,a.divCorner=null,a.divCrosshair=null,a.divEvents=null,a.divHeader&&(a.divHeader.rows=null),a.divHeader=null,a.divLines=null,a.divNorth=null,a.divRange=null,a.divResScroll=null,a.divSeparators=null,a.divSeparatorsAbove=null,a.divStretch=null,a.divTimeScroll=null,a.$aK=null,a.$9Z=null,a.$as.calendar=null,a.$as=null,a.nav.loading=null,a.nav.top.onmousemove=null,a.nav.top.dispose=null,a.nav.top.ontouchstart=null,a.nav.top.ontouchmove=null,a.nav.top.ontouchend=null,a.nav.top.removeAttribute("style"),a.nav.top.removeAttribute("class"),a.nav.top.innerHTML="",a.nav.top.dp=null,a.nav.top=null,a.nav.scroll.onscroll=null,a.nav.scroll.root=null,a.nav.scroll=null,DayPilot.ue(window,"resize",a.$cI),b.unregister(a))},this.$cJ=function(a,b){var c=f.$as,d=f.$cK(a),e=a.event,g=e.part.height||f.$cL.eventHeight(),h=e.part&&e.part.top?e.part.top+f.rowlist[e.part.dayIndex].top:d.top,i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=d.width+"px",i.style.height=g+"px",i.style.left=d.left+"px",i.style.top=h+"px",i.style.zIndex=101,i.style.overflow="hidden";var j=document.createElement("div");return i.appendChild(j),i.className=this.$aD("_shadow"),j.className=this.$aD("_shadow_inner"),c.appendChild(i),i.calendar=f,i},this.$cM=function(a,c){var d=f.$as,e=f.$cK(a),g=a.event,h=g;if(!f.$cN(e.rowIndex)){var i=g.part.height||f.$cL.eventHeight(),j=g.part&&g.part.top&&f.rowlist[g.part.dayIndex]?g.part.top+f.rowlist[g.part.dayIndex].top:e.top,k=e.left,l=h.cache&&"undefined"!=typeof h.cache.moveVDisabled?!h.cache.moveVDisabled:!h.data.moveVDisabled,m=h.cache&&"undefined"!=typeof h.cache.moveHDisabled?!h.cache.moveHDisabled:!h.data.moveHDisabled;!l&&b.moving&&(j=f.rowlist[h.part.dayIndex].top),!m&&b.moving&&(k=g.part.left);var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.width=e.width+"px",n.style.height=i+"px",n.style.left=k+"px",n.style.top=j+"px",n.style.zIndex=101,n.style.overflow="hidden";var o=document.createElement("div");return n.appendChild(o),n.className=this.$aD("_shadow"),o.className=this.$aD("_shadow_inner"),d.appendChild(n),n.calendar=f,n}},this.$cD=function(a){for(var c,b={},d=0,e=0,f=this.rowlist.length,g=0;g<f;g++){var h=this.rowlist[g];if(!h.hidden&&(e+=h.height,a<e||g===f-1)){d=e-h.height,c=h;break}}return b.top=d,b.bottom=e,b.i=g,b.element=c,b},this.links={};var m={};this.$cO=m,m.clear=function(){f.divLinksAbove.innerHTML="",f.divLinksBelow.innerHTML="",f.elements.links=[]},m.showLinkpoints=function(){var a=g.events();a.each(function(a){m.showLinkpoint(a)})},m.showLinkpoint=function(a){var b=f.linkPointSize,c=b/2,d=a.event.part.left,e=f.rowlist[a.event.part.dayIndex].top+a.event.part.top,g=a.event.part.height,h=a.event.part.right,i=DayPilot.Util.div(f.divLinkpoints,d-c,e-c+g/2,b,b);i.className=f.$aD("_linkpoint"),i.style.boxSizing="border-box",i.coords={x:d,y:e+g/2},i.type="Start",i.event=a.event,m.activateLinkpoint(i),f.elements.linkpoints.push(i);var j=DayPilot.Util.div(f.divLinkpoints,h-c,e-c+g/2,b,b);j.className=f.$aD("_linkpoint"),j.style.boxSizing="border-box",j.coords={x:h,y:e+g/2},j.type="Finish",j.event=a.event,m.activateLinkpoint(j),f.elements.linkpoints.push(j)},m.activateLinkpoint=function(a){a.onmousedown=function(b){var b=b||window.event;return k.source=a,k.calendar=f,m.showLinkpoints(),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1},a.onmousemove=function(b){DayPilot.Util.addClass(a,f.$aD("_linkpoint_hover")),m.clearHideTimeout()},a.onmouseout=function(b){k.source&&k.source.event===a.event||DayPilot.Util.removeClass(a,f.$aD("_linkpoint_hover"))},a.onmouseup=function(b){if(k.source){var c=k.source.type+"To"+a.type,d=k.source.event.id(),e=a.event.id(),g={};if(g.from=d,g.to=e,g.type=c,g.id=null,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onLinkCreate&&(f.onLinkCreate(g),g.preventDefault.value))return;var h=function(){f.links.list.push({from:d,to:e,type:c,id:g.id}),m.load()};switch(f.linkCreateHandling){case"Update":h();break;case"CallBack":f.$cP(g);break;case"PostBack":f.$cQ(g);break;case"Notify":h(),f.$cR(g)}"function"==typeof f.onLinkCreated&&f.onLinkCreated(g)}}},m.hideLinkpoints=function(){f.divLinkpoints.innerHTML="",f.elements.linkpoints=[]},m.hideTimeout=null,m.hideLinkpointsWithDelay=function(){m.hideTimeout=setTimeout(function(){m.hideLinkpoints()},100)},m.clearHideTimeout=function(){m.hideTimeout&&(clearTimeout(m.hideTimeout),m.hideTimeout=null)},m.load=function(){if(m.clear(),DayPilot.isArray(f.links.list))for(var a=0;a<f.links.list.length;a++){var b=f.links.list[a];m.drawLinkId(b.from,b.to,b)}},m.drawLinkId=function(a,b,c){var d=f.events.find(a),e=f.events.find(b);m.drawLink(d,e,c)},m.drawLink=function(a,b,c){var d=f.$cS(a),e=f.$cS(b);if(d&&e){var h,i,g=c.type||"FinishToStart",j=f.rowlist[d.event.part.dayIndex].top,k=f.rowlist[e.event.part.dayIndex].top;switch(g){case"FinishToStart":h={x:d.event.part.right,y:j+d.event.part.top},i={x:e.event.part.left,y:k+e.event.part.top},h.y>i.y&&h.x<i.x&&(i.y+=e.event.part.height,i.bottom=!0);break;case"StartToFinish":h={x:d.event.part.left,y:j+d.event.part.top},i={x:e.event.part.right,y:k+e.event.part.top};break;case"StartToStart":h={x:d.event.part.left,y:j+d.event.part.top},i={x:e.event.part.left,y:k+e.event.part.top};break;case"FinishToFinish":h={x:d.event.part.right,y:j+d.event.part.top},i={x:e.event.part.right,y:k+e.event.part.top}}m.drawLinkXy(h,i,c)}},m.clearShadow=function(){f.divLinkShadow.innerHTML="",f.elements.linkshadow=[]},m.drawShadow=function(a,b){if(m.clearShadow(),DayPilot.browser.ielt9)m.drawShadowOldStyle(a,b);else{var c=f.divLinkShadow,d=DayPilot.line(a.x,a.y,b.x,b.y,!0);c.appendChild(d),f.elements.linkshadow.push(d)}},m.drawShadowOldStyle=function(a,b){var c=Math.min(a.x,b.x),d=2,e=f.divLinkShadow,g="black",h=DayPilot.Util.div(e,c,a.y,a.x-c,d);h.style.backgroundColor=g,f.elements.linkshadow.push(h);var i=DayPilot.Util.div(e,c,a.y,d,b.y-a.y);i.style.backgroundColor=g,f.elements.linkshadow.push(i);var j=DayPilot.Util.div(e,c,b.y,b.x-c,d);j.style.backgroundColor=g,f.elements.linkshadow.push(j);var k=DayPilot.Util.div(e,b.x-6,b.y-5,0,0);k.style.borderColor="transparent transparent transparent "+g,k.style.borderStyle="solid",k.style.borderWidth="6px",f.elements.linkshadow.push(k)},m.drawLinkXy=function(a,b,c){var d=f.eventHeight/2,e=c.width||1,g=c.type||"FinishToStart",h=c.color,i=c.style,j=c.layer||"Above",k="Above"===j,l=k?f.divLinksAbove:f.divLinksBelow,m=f.eventHeight,n=f.linkBottomMargin,o=function(a,b){h&&(a.style["border"+b+"Color"]=h),i&&(a.style["border"+b+"Style"]=i)},p=[],q=function(a,b){f.elements.links.push(a),s(a),r(a),a.divs=p,b||p.push(a)},r=function(a){a.oncontextmenu=function(a){if(a=a||window.event,f.contextMenuLink){var b=new DayPilot.Link(c,f);f.contextMenuLink.show(b)}a.cancelBubble=!0,a.preventDefault?a.preventDefault():null}},s=function(a){a.onmouseenter=function(){DayPilot.Util.addClass(a.divs,f.$aD("_link_hover"))},a.onmouseleave=function(){DayPilot.Util.removeClass(a.divs,f.$aD("_link_hover"))}};if("FinishToStart"===g)if(a.y>b.y||a.y==b.y&&b.bottom)if(a.x<b.x){var t=a.x,u=a.y+m-n,v=b.x+d,w=b.y,x=DayPilot.Util.div(l,t,u,v-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,v,u,e,w-u);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var z;h?(z=DayPilot.Util.div(l,v-5+Math.floor(e/2),w-5,0,0),a.y<b.y?z.style.borderColor=h+" transparent transparent transparent":z.style.borderColor="transparent transparent "+h+" transparent",z.style.borderStyle="solid",z.style.borderWidth="5px"):(z=DayPilot.Util.div(l,v-6+Math.floor(e/2),w-6,6,6),a.y<b.y?z.className=f.$aD("_link_arrow_down"):z.className=f.$aD("_link_arrow_up"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else{var A=5,B=b.y+m+A,x=DayPilot.Util.div(l,a.x,a.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,a.x+d,a.y+m-n,e,B-(a.y+m-n));y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,b.x-d,B,a.x+2*d+e-b.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,b.x-d,B,e,b.y-B+m-n);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,b.x-d,b.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if(a.y===b.y)if(a.x<b.x){var t=a.x,u=a.y+m-n,v=b.x,x=DayPilot.Util.div(l,t,u,v-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else{var A=5,B=b.y+m+A,x=DayPilot.Util.div(l,a.x,a.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,a.x+d,a.y+m-n,e,B-(a.y+m-n));y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,b.x-d,B,a.x+2*d+e-b.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,b.x-d,B,e,b.y-B+m-n);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,b.x-d,b.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if(a.x>b.x){var k=5,B=b.y-k,x=DayPilot.Util.div(l,a.x,a.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,a.x+d,a.y+m-n,e,B-(a.y+m-n));y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,b.x-d,B,a.x+2*d+e-b.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,b.x-d,B,e,b.y-B+m-n);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,b.x-d,b.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else{var t=a.x,u=a.y+m-n,v=b.x+d,w=b.y,x=DayPilot.Util.div(l,t,u,v-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,v,u,e,w-u);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var z;h?(z=DayPilot.Util.div(l,v-5+Math.floor(e/2),w-5,0,0),a.y<b.y?z.style.borderColor=h+" transparent transparent transparent":z.style.borderColor="transparent transparent "+h+"transparent",z.style.borderStyle="solid",z.style.borderWidth="5px"):(z=DayPilot.Util.div(l,v-6+Math.floor(e/2),w-6,6,6),a.y<b.y?z.className=f.$aD("_link_arrow_down"):z.className=f.$aD("_link_arrow_up"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if("StartToFinish"===g){var k=5,B=b.y-k,x=DayPilot.Util.div(l,b.x,b.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,b.x+d,b.y+m-n,e,B-(b.y+m-n)+0);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,a.x-d,B,b.x+2*d+e-a.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,a.x-d,B,e,a.y+m-n-B+0);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,a.x-d,a.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderColor="transparent "+h+" transparent transparent",z.style.borderStyle="solid",z.style.borderWidth="6px"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_left"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if("StartToStart"===g){var F=Math.min(a.x,b.x)-d,x=DayPilot.Util.div(l,F,a.y+m-n,a.x-F,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,F,a.y+m-n,e,b.y-a.y);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var E=DayPilot.Util.div(l,F,b.y+m-n,b.x-F,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid",z.style.borderWidth="6px"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if("FinishToFinish"===g){var G=Math.max(b.x,a.x)+d,x=DayPilot.Util.div(l,a.x,a.y+m-n,G-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,G,a.y+m-n,e,b.y-a.y);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$aD("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var E=DayPilot.Util.div(l,b.x,b.y+m-n,G-b.x,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$aD("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderColor="transparent "+h+" transparent transparent",z.style.borderStyle="solid",z.style.borderWidth="6px"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$aD("_link_arrow_left"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}},this.$cP=function(a,b){var c={};c.from=a.from,c.to=a.to,c.type=a.type,f.$b9("LinkCreate",c,b)},this.$cR=function(a,b){var c={};c.from=a.from,c.to=a.to,c.type=a.type,f.$b9("LinkCreate",c,b,"Notify")},this.$cQ=function(a,b){var c={};c.from=a.from,c.to=a.to,c.type=a.type,f.$b8("LinkCreate",c,b)},this.$cT=function(a){var b=0,c=0,d=0;if(a>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var e=0;e<=a;e++){var f=this.rowlist[e];f.hidden||(c+=f.height,d++)}b=c-f.height;var g={};return g.top=b,g.height=f.height,g.bottom=c,g.i=d-1,g.data=f,g},this.$cU=function(){return!!this.backendUrl&&("undefined"==typeof f.events.list||!f.events.list)},this.events.find=function(a){if(!f.events.list||"undefined"==typeof f.events.list.length)return null;for(var b=f.events.list.length,c=0;c<b;c++)if(f.events.list[c].id===a)return new DayPilot.Event(f.events.list[c],f);return null},this.events.all=function(){for(var a=[],b=0;b<f.events.list.length;b++){var c=new DayPilot.Event(f.events.list[b],f);a.push(c)}return DayPilot.list(a)},this.events.filter=function(a){f.events.$cV=a,f.$bx({eventsOnly:!0})},this.events.edit=function(a){var b=f.$cS(a);return b||DayPilot.list(f.events.$cW.rows).isEmpty()?void f.$bc(b):void setTimeout(function(){f.$bc(f.$cS(a))})},this.events.load=function(a,b,c){var d=function(a){var b={};b.exception=a.exception,b.request=a.request,"function"==typeof c&&c(b)},e=function(a){var e,c=a.request;try{e=DayPilot.Util.parseJSON(c.responseText)}catch(a){var g={};return g.exception=a,void d(g)}if(DayPilot.isArray(e)){var h={};if(h.preventDefault=function(){this.preventDefault.value=!0},h.data=e,"function"==typeof b&&b(h),h.preventDefault.value)return;f.events.list=e,f.$bM&&f.update()}};DayPilot.ajax({method:"POST",data:{start:f.visibleStart().toString(),end:f.visibleEnd().toString()},url:a,success:e,error:d})},this.events.findRecurrent=function(a,b){if(!f.events.list||"undefined"==typeof f.events.list.length)return null;for(var c=f.events.list.length,d=0;d<c;d++)if(f.events.list[d].recurrentMasterId===a&&f.events.list[d].start.getTime()===b.getTime())return new DayPilot.Event(f.events.list[d],f);return null},this.events.$bq=function(a){for(var b=[],c=0;c<f.rowlist.length;c++){var d=f.rowlist[c];if(!d.isNewRow){f.$aU(c);for(var e=0;e<d.events.length;e++)if(d.events[e].data===a){b.push(c),d.events.splice(e,1);break}}}return b},this.events.$br=function(a){var b=[],c=f.$cX()||"Days"===f.viewType,d=DayPilot.indexOf(f.events.list,a);f.$cY(d);for(var e=0;e<f.rowlist.length;e++){var g=f.rowlist[e];if(!g.isNewRow){f.$aU(e);var h=f.$cZ(a,g);if(h&&("function"==typeof f.onBeforeEventRender&&(h.cache=f.$9R.events[d]),b.push(e),!c))break}}return b},this.events.update=function(a,b){var c={};c.oldEvent=new DayPilot.Event(a.copy(),f),c.newEvent=new DayPilot.Event(a.temp(),f);var d=new DayPilot.Action(f,"EventUpdate",c,b),e=DayPilot.list(f.events.list).find(function(b){var c=b instanceof DayPilot.Event?b.data:b;return c===a.data});if(e){if(f.$d0.scope)f.$d0.notify(function(){a.commit()});else{var g=f.events.$bq(a.data);a.commit(),g=g.concat(f.events.$br(a.data)),f.$bs(g),f.$bt(),f.$bM&&("Gantt"===f.viewType?f.update():(f.$bu(g),f.$ac()))}return d}},this.events.remove=function(a,b){var c={};c.e=new DayPilot.Event(a.data,f);var d=new DayPilot.Action(f,"EventRemove",c,b),e=DayPilot.indexOf(f.events.list,a.data);if(f.events.list.splice(e,1),f.$d0.scope)f.$d0.notify();else{var g=f.events.$bq(a.data);f.$bs(g),f.$bt(),f.$bM&&("Gantt"===f.viewType?f.update():(f.$bu(g),f.$ac()))}return d},this.events.add=function(a,b){a.calendar=f,f.events.list||(f.events.list=[]),f.events.list.push(a.data);var c=new DayPilot.Action(f,"EventAdd",d,b);if(!f.$bM)return c;if(f.$d0.scope)f.$d0.notify();else{var d={};d.e=a;var e=f.events.$br(a.data);f.events.$d1(e)}return c},this.events.$cW={rows:[]},this.events.$d2=null,this.events.$d1=function(a){clearTimeout(f.events.$d2);var b=f.events.$cW.rows;DayPilot.list(a).each(function(a){b.push(a)}),f.events.$cW.rows=DayPilot.ua(b);var c=function(){var a=f.events.$cW.rows;f.events.$cW.rows=[],f.$bs(a),f.$bt(),f.$bM&&("Gantt"===f.viewType?f.update():(f.$bu(a),f.$ac()))};f.events.$d2=setTimeout(c)},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(a){if(a){if(!a.isAction)throw"DayPilot.Action object required for queue.add()";f.queue.list.push(a)}},this.queue.notify=function(a){var b={};b.actions=f.queue.list,f.$b9("Notify",b,a,"Notify"),f.queue.list=[]},this.queue.clear=function(){f.queue.list=[]},this.queue.pop=function(){return f.queue.list.pop()},this.cells.find=function(a,b){var c=f.getPixels(new DayPilot.Date(a));if(!c)return o();var d=c.i,e=f.$au(b);if(!e)return o();var g=e.top,h=f.$cD(g).i;return this.findXy(d,h)},this.cells.findByPixels=function(a,b){var c=f.$b2(a);if(!c)return o();var a=c.x,d=f.$cD(b);if(!d)return o();var b=d.i;return this.findXy(a,b)},this.cells.all=function(){for(var a=[],b=f.itline.length,c=f.rowlist.length,d=0;d<b;d++)for(var e=0;e<c;e++){var g=f.cells.findXy(d,e);a.push(g[0])}return o(a)},this.cells.$d3=function(a,b){var c=f.$bb(a),d=f.rowlist[b],e=d.start.getTime()-f.$aT().getTime(),g=c.start.addTime(e),h=c.end.addTime(e),i={};i.x=a,i.y=b,i.i=a+"_"+b,i.resource=d.id,i.start=c.start,i.end=c.end,i.calendar=f,i.isParent=d.children&&d.children.length,i.update=function(){if(!f.rowlist[i.y].hidden){var a=f.$9R.cells[i.i];f.$d4(a);var b=f.$aw();b.xStart<=i.x&&i.x<=b.xEnd&&b.yStart<=i.y&&i.y<=b.yEnd&&f.$d5(i.x,i.y)}},i.utilization=function(a){return d.sections||d.calculateUtilization(),d.sections.forRange(g,h).maxSum(a)},i.events=function(){return d.events.forRange(g,h)},i.div=f.$9R.cells[i.i];var j=f.$d6(a,b);return i.properties=j,i},this.cells.findXy=function(a,b){if(DayPilot.isArray(a)){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(f.cells.$d3(e.x,e.y))}return o(c)}if(null===a||null===b)return o();var g=f.cells.$d3(a,b);return o(g)};var n=function(a){var b=[];if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)b.push(a[c]);else"object"==typeof a&&b.push(a);return b.each=function(a){if(a)for(var c=0;c<b.length;c++)a(b[c])},b};this.$d7=function(a){var b=DayPilot.list();if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)b.push(a[c]);else"object"==typeof a&&b.push(a);return b.cssClass=function(a){return this.each(function(b){b.properties.cssClass=DayPilot.Util.addClassToString(b.properties.cssClass,a),b.update()}),this},b.removeClass=function(a){return this.each(function(b){b.properties.cssClass=DayPilot.Util.removeClassFromString(b.properties.cssClass,a),b.update()}),this},b.addClass=b.cssClass,b.html=function(a){return this.each(function(b){
b.properties.html=a,b.update()}),this},b};var o=this.$d7;this.$d0={},this.$d0.scope=null,this.$d0.notify=function(a){f.$d0.scope&&f.$d0.scope.$apply(a)},this.debug=new DayPilot.Debug(this),this.$d8=function(a){if("Days"!==f.viewType)throw"Checking row start when viewType !== 'Days'";for(var b=0;b<f.rowlist.length;b++){var c=f.rowlist[b],d=c.element?c.element.data:c.data,e=d.start;if(a.getTime()>=e.getTime()&&a.getTime()<e.addDays(1).getTime())return e}return null},this.$d9=function(a){var b=f.$aT();if(a.ticks===b.ticks)return a;var c=b;if(a.ticks<b.ticks){for(var d=this.itline[0].end.ticks-this.itline[0].start.ticks;c.ticks>a.ticks;)c=c.addTime(-d);return c}if("Days"===f.viewType){var e=this.$d8(a),g=e.getTime()-f.$aT().getTime(),h=this.$b4(a.addTime(-g));if(h.current)return h.current.start.addTime(g);if(h.past)return h.previous.end.addTime(g);throw"getBoxStart(): time not found"}var h=this.$b4(a);if(h.current)return h.current.start;if(h.past)return h.previous.end;if(h.hidden){var i=h.next.start.getTime()-a.getTime(),j=h.next.end.getTime()-h.next.start.getTime(),k=Math.ceil(i/j)*j,l=h.next.start.addTime(-k);return l}throw"getBoxStart(): time not found"},this.$cK=function(a){var c=this.$cD(f.coords.y),d=a.event;if("function"!=typeof d.end)throw"e.end function is not defined";if(!d.end())throw"e.end() returns null";var e=DayPilot.DateUtil.diff(d.rawend(),d.start());e=Math.max(e,1);var g=I.useBox(e),h=d.data&&"Milestone"===d.data.type,i=f.eventHeight,j=0,k=f.coords.x;if(h&&(k+=i/2),"Manual"===f.scale){var l=function(){var a=f.getDate(f.coords.x,!0,!0),b=a.addTime(-e),c=f.getPixels(b).boxLeft,d=f.getPixels(a).boxRight,a=Math.min(d,f.coords.x);return a-c}(),m=Math.min(b.moveOffsetX?b.moveOffsetX:0,l);k=f.coords.x-m}var n=0,o="Days"===this.viewType||this.$da();if(o&&!d.part.external&&(n=this.rowlist[d.part.dayIndex].start.getTime()-this.$aT().getTime()),g&&!h){var p=f.$b4(d.start()),q=!p.hidden&&!p.past;j=d.start().getTime()-this.$d9(d.start().addTime(-n)).addTime(n).getTime(),q&&(j=function(a,b){var c=f.$db(f.$b4(a).current),d=f.$db(f.$b2(k).cell);if(c>1.2*d){for(var e=b>0?1:-1,b=Math.abs(b);b>=d;)b-=d;b*=e}return b}(d.start(),j))}var r=0;if(b.moveDragStart&&"Manual"!==f.scale)if(g){var s=d.start().addTime(-n),t=this.$d9(s);r=b.moveDragStart.getTime()-t.getTime();var u=60*f.$dc()*1e3;r=Math.floor(r/u)*u}else r=b.moveDragStart.getTime()-d.start().addTime(-n).getTime();else r=0;this.eventMoveToPosition&&(r=0);var v=this.getDate(k,!0).addTime(-r).addTime(n);b.resizing&&(v=d.start()),this.snapToGrid&&(v=this.$d9(v.addTime(-n)).addTime(n)),v=v.addTime(j);var w=v.addTime(e),x=v,y=w;if(o){x=v.addTime(-n),y=x.addTime(e);var z=c.element.data.start.getTime()-this.$aT().getTime();v=x.addTime(z),w=v.addTime(e)}var A=this.getPixels(x),B=this.getPixels(y),C=g?A.boxLeft:A.left,D=g?B.boxRight-C:B.left-C;h&&(D=i,C-=D/2);var E={};return E.top=c.top,E.left=C,E.row=c.element,E.rowIndex=c.i,E.width=D,E.start=v,E.end=w,E.relativeY=f.coords.y-c.top,E},this.$dc=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600}throw"can't guess cellDuration value"},this.$db=function(a){return a.end.ticks-a.start.ticks},this.$cN=function(a){return this.treePreventParentUsage&&this.$dd(a)},this.$dd=function(a){var b=this.rowlist[a];return!!b.isParent||!!(this.treeEnabled&&b.children&&b.children.length>0)},this.$de={},this.$df=function(){if(f.treeAutoExpand){var a=this.$cK(b.moving),c=a.rowIndex,d=this.$dd(c),e=this.$de;if(e.timeout&&e.y!==c&&(clearTimeout(e.timeout),e.timeout=null),d){e.y=c;var g=!f.rowlist[e.y].expanded;!e.timeout&&g&&(e.timeout=setTimeout(function(){var a=!f.rowlist[e.y].expanded;a&&(f.$dg(e.y),f.$dh()),e.timeout=null},500))}}},this.$di=function(){var a=b.resizingShadow.clientWidth,c=b.resizingShadow.offsetLeft,d=b.resizing.event,e=b.resizing.dpBorder,g=f.rowlist[b.resizing.event.part.dayIndex],h=0;h=g.start.getTime()-f.$aT().getTime();var i=null,j=null,k=!f.snapToGrid;"left"===e?(i=f.getDate(c,k).addTime(h),j=d.rawend()):"right"===e&&(i=d.start(),j=f.getDate(c+a,k,!0).addTime(h)),b.resizingShadow.start=i,b.resizingShadow.end=j,t.update()},this.exportAs=function(a,b){var c=q.generate(a,b);return new p(c)},this.export=this.exportAs;var p=function(a){this.toElement=function(){return a.getElement()},this.dimensions=function(){return{width:a.getWidth(),height:a.getHeight()}},this.toHtml=function(){return a.getSource()},this.toDataUri=function(){return a.getDataUri()},this.toBlob=function(){return a.getBlob()},this.print=function(){var b=document.createElement("iframe");b.setAttribute("width",0),b.setAttribute("height",0),b.setAttribute("frameborder",0),b.setAttribute("src","about:blank"),document.body.appendChild(b);var c=b.contentWindow.document,d="BackCompat"===c.compatMode?c.body:c.documentElement;d.innerHTML=a.getSource();var e=b.contentWindow.document.execCommand("print",!1,null);e||(b.contentWindow.focus(),b.contentWindow.print()),document.body.removeChild(b)},this.download=function(b){var b=b||a.getDefaultFileName();if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(a.getBlob(),b);else{var c=document.createElement("a");c.download=b,c.href=a.getDataUri(),document.body.appendChild(c),c.click(),setTimeout(function(){document.body.removeChild(c)})}}};this.$dj={};var q=this.$dj;q.getWidth=function(){var a=q.$dk;switch(a){case"viewport":return f.nav.top.offsetWidth;case"full":return f.$dl()+q.getRowHeaderWidth();case"range":return f.getPixels(q.getRangeEnd()).boxRight-f.getPixels(q.getRangeStart()).boxLeft+q.getRowHeaderWidth();default:throw"Unsupported export mode: "+a}},q.getHeight=function(){var a=q.$dk;switch(a){case"viewport":return f.nav.top.offsetHeight-DayPilot.sh(f.nav.scroll)-1;case"full":return f.$dm()+f.$aF()-DayPilot.sh(f.nav.scroll);case"range":var b=q.getRangeResStart(),c=q.getRangeResEnd();return c.top-b.top+c.height+f.$aF();default:throw"Unsupported export mode: "+a}},q.getRangeStart=function(){return new DayPilot.Date(q.$dn.dateFrom)},q.getRangeEnd=function(){return new DayPilot.Date(q.$dn.dateTo)},q.getRangeResStart=function(){return q.$dn.resourceFrom?f.$au(q.$dn.resourceFrom):f.rowlist[0]},q.getRangeResEnd=function(){return q.$dn.resourceTo?f.$au(q.$dn.resourceTo):f.rowlist.last()},q.getRowHeaderWidth=function(){return f.$aG()},q.getTimeHeaderHeight=function(){return f.$aF()},q.getCanvas=function(){return q.canvas()},q.getRectangles=function(){var a=q.getRowHeaderWidth(),b=q.getTimeHeaderHeight(),c={};c.main={x:0,y:0,w:q.getWidth(),h:q.getHeight()},c.corner={x:0,y:0,w:a,h:b},c.grid={x:a,y:b,w:q.getWidth()-a,h:q.getHeight()-b};var d=c.grid.w,e=f.itline.last();e&&e.left+e.width<c.grid.w&&(d=e.left+e.width);var g=c.grid.h,h=f.rowlist.last();return h&&h.top+h.height<c.grid.h&&(g=h.top+h.height),c.gridContent={x:a,y:b,w:d,h:g},c},q.getRows=function(){var c,d,e,g,a=q.$dk,b=DayPilot.list();switch(a){case"viewport":c=f.$do,d=c+f.nav.scroll.offsetHeight,e=f.$cD(c).i,g=f.$cD(d).i;break;case"full":c=0,e=0,g=f.rowlist.length;break;case"range":e=q.getRangeResStart().index,g=q.getRangeResEnd().index}g<f.rowlist.length&&(g+=1);for(var h=e;h<g;h++){var i=f.rowlist[h];i.hidden||b.push(i)}return b.offset=e,b},q.getEvents=function(){var a=q.$dk;switch(a){case"full":var b=DayPilot.list();return DayPilot.list(f.rowlist).each(function(a){DayPilot.list(a.events).each(function(a){b.push(a)})}),b;case"viewport":return g.events().map(function(a){return a.event});case"range":var b=DayPilot.list(),c=q.getRangeStart(),d=q.getRangeEnd();return q.getRows().each(function(a){DayPilot.list(a.events).filter(function(a){return DayPilot.Util.overlaps(a.start(),a.end(),c,d)}).each(function(a){b.push(a)})}),b;default:throw"Unsupported export mode: "+a}},q.getTimeline=function(){var a=q.$dk;switch(a){case"full":return DayPilot.list(f.itline).addProps({offset:0});case"viewport":return q.getViewportTimeline();case"range":return q.getRangeTimeline();default:throw"Unsupported export mode: "+a}},q.getRangeTimeline=function(){var a=DayPilot.list();if(f.itline&&f.itline.length>0){var b=f.$b4(q.getRangeStart()).i,c=f.$b4(q.getRangeEnd()).i,d=f.$aE();c=Math.min(c,d-1),b=Math.max(b,0);for(var e=b;e<=c;e++){var g=f.itline[e];a.push(g)}a.offset=b}return a},q.getViewportTimeline=function(){var a=DayPilot.list();if(f.itline&&f.itline.length>0){var b=f.$dp,c=b+f.$dq,d=f.$b2(b).x,e=f.$b2(c,!0).x,g=f.$aE();e=Math.min(e,g),d=Math.max(d,0);for(var h=d;h<=e;h++){var i=f.itline[h];a.push(i)}a.offset=d}return a},q.getTimeHeader=function(a){var b=q.$dk;if("full"===b)return DayPilot.list(f.timeHeader[a]);var d,e,c=DayPilot.list();d=q.getViewportOffsetStart(),e=d+q.getViewportOffsetWidth();var g=f.$dr(a,d),h=f.$dr(a,e);h||(h={x:f.timeHeader[a].length-1});for(var i=g.x;i<=h.x;i++){var j=f.timeHeader[a][i];c.push(j)}return c},q.fakeDurationBar=function(){var a=document.createElement("div");a.style.display="none",a.className=f.$aD(E.event);var b=document.createElement("div");b.className=f.$aD(E.eventBar);var c=document.createElement("div");return c.className=f.$aD(E.eventBarInner),document.body.appendChild(a),b.appendChild(c),a.appendChild(b),a},q.fakeCell=function(){var a=document.createElement("div");a.style.display="none",a.className=f.$aD("_cell"),a.style.position="absolute",a.style.top="-2000px",a.style.left="-2000px";var b=document.createElement("div");return b.className=f.$aD("_cell_inner"),a.appendChild(b),f.divCells.appendChild(a),a},q.fakeExpand=function(){var a=document.createElement("div");return a.style.display="none",a.className=f.$aD("_tree_image_expand"),document.body.appendChild(a),a},q.extractUrl=function(a){var b=/url\((")?([^"].*[^"])\1\)/.exec(a);return b?b[2]:null},q.getImages=function(){var a={},b=q.fakeExpand();return a.expand=q.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=f.$aD("_tree_image_collapse"),a.collapse=q.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=f.$aD("_tree_image_no_children"),a.nochildren=q.extractUrl(new DayPilot.StyleReader(b).get("background-image")),DayPilot.de(b),a},q.getFont=function(a){var b=new DayPilot.StyleReader(a).get("font-style"),c=new DayPilot.StyleReader(a).get("font-family"),d=new DayPilot.StyleReader(a).get("font-size");return{family:c,size:d,style:b}},q.getViewportOffsetStart=function(){var a=q.$dk;switch(a){case"full":return 0;case"viewport":return f.nav.scroll.scrollLeft;case"range":return f.getPixels(q.getRangeStart()).boxLeft}},q.getViewportOffsetTop=function(){var a=q.$dk;switch(a){case"full":return 0;case"viewport":return f.nav.scroll.scrollTop;case"range":return q.getRangeResStart().top}},q.getViewportOffsetWidth=function(){var a=q.$dk;switch(a){case"full":return f.$dl();case"viewport":return f.nav.scroll.offsetWidth;case"range":return f.getPixels(q.getRangeEnd()).boxRight-q.getViewportOffsetStart()}},q.excelBoard=function(){var a=new DayPilot.Excel,b=a.worksheets.create("Scheduler"),c=new DayPilot.StyleReader(f.nav.corner).get("background-color"),d=new DayPilot.StyleReader(f.nav.top).get("border-top-color"),e=DayPilot.list(f.elements.events).map(function(a){return a.firstChild}).last(),g=new DayPilot.StyleReader(e).get("border-right-color");a.styles.getDefault().setBackColor("#ffaaaa");var h=a.styles.create();h.setHorizontalAlignment("Center"),h.setBackColor(c),h.setBorderColor(d);var i=a.styles.create();i.setVerticalAlignment("Top"),i.setBackColor(c),i.setBorderColor(d);var j=a.styles.create();j.setVerticalAlignment("Top"),j.setBackColor("#ff0000"),j.setBorderColor(g),b.enableGridlines(!1),b.cell(0,0).setRowspan(f.timeHeader.length).setStyle(h),b.cell(10,10).setText("hi there"),DayPilot.list(f.timeHeader).each(function(a,c){var d={x:1,y:0};q.getTimeHeader(c,"full").each(function(a,e){var f=a.colspan;b.cell(e+d.x,c+d.y).setText(a.innerHTML).setColspan(f).setStyle(h)})}),DayPilot.list(f.rowlist).each(function(a,c){for(var d={x:0,y:1},e="",f=0;f<a.level;f++)e+="  ";b.cell(d.x,c+d.y).setText(e+a.html).setRowspan(a.lines.length).setStyle(i)});var k={x:0,y:f.timeHeader.length},l=k.y;return DayPilot.list(f.rowlist).each(function(a,c){DayPilot.list(a.lines).each(function(a,d){var e=k.x;DayPilot.list(a).each(function(a){var d=f.$b4(a.start()).i,g=f.$b4(a.end()).i,h=1+g-d;b.cell(d+e,c+l).setText(a.client.html()).setColspan(h).setStyle(j),e+=h-1})}),l+=a.lines.length-1}),a},q.$dn=null,q.$dk=null,q.generate=function(a,b){"object"==typeof a&&(b=a,a=null);var b=b||{},a=a||b.format||"svg",c=b.scale||1;if("xls"===a)return q.excelBoard();var d=b.area||"viewport";q.$dn=b,q.$dk=d;var h,e=q.getWidth(),g=q.getHeight();switch(a.toLowerCase()){case"svg":h=new DayPilot.Svg(e,g);break;case"png":h=new DayPilot.Canvas(e,g,"image/png",c);break;case"jpg":h=new DayPilot.Canvas(e,g,"image/jpeg",c);break;default:throw"Export format not supported: "+a}var i=q.getRectangles(),j=q.getImages(),k=new DayPilot.StyleReader(f.nav.top).get("background-color"),l=new DayPilot.StyleReader(f.nav.corner).get("background-color"),m=new DayPilot.StyleReader(f.nav.top).get("border-top-color"),n=new DayPilot.StyleReader(f.nav.divider).get("background-color"),o=DayPilot.list(f.elements.events).map(function(a){return a.firstChild}).last(),p=new DayPilot.StyleReader(o).get("border-right-color"),r=q.getFont(o),s=new DayPilot.StyleReader(o).get("color"),t=q.fakeDurationBar(),u=new DayPilot.StyleReader(t.firstChild).get("background-color"),v=new DayPilot.StyleReader(t.firstChild.firstChild).get("background-color");DayPilot.de(t);var w=q.fakeCell(),x=new DayPilot.StyleReader(w).get("background-color");DayPilot.Util.addClass(w,f.$aD("_cell_business"));var y=new DayPilot.StyleReader(w).get("background-color"),z=q.getFont(w),A=new DayPilot.StyleReader(w).get("color");DayPilot.de(w);var B=DayPilot.Util.firstPropValue(f.$9R.linesVertical),C=new DayPilot.StyleReader(B).get("background-color"),D=q.getFont(f.$9R.timeHeader["0_0"]),E=new DayPilot.StyleReader(f.$9R.timeHeader["0_0"]).get("color"),F=q.getViewportOffsetStart(),G=q.getViewportOffsetTop();h.fillRect(i.main,"white"),h.fillRect(i.main,k),h.fillRect(i.corner,l),DayPilot.list(f.timeHeader).each(function(a,b){q.getTimeHeader(b,d).each(function(a){var c=i.grid.x+a.left-F,d=b*f.headerHeight,e=a.width,g=f.headerHeight,j=Math.max(0,i.grid.x-c);c+=j,e-=j;var j=Math.max(0,c+e-(i.grid.x+i.grid.w));e-=j;var k={x:c,y:d,w:e+1,h:g+1};h.fillRect(k,l),h.rect(k,m),h.text(k,a.innerHTML,D,E,"center")})}),q.getTimeline().each(function(a){var b=i.grid.x+a.left-F,c=Math.max(0,i.grid.x-b);b+=c,b!==i.grid.x&&h.line(b,i.grid.y+1,b,i.grid.y+i.grid.h-2,C)});var H="function"==typeof f.onBeforeCellExport;return q.getRows().each(function(a,b,c){var b=c.offset+b;q.getTimeline().each(function(c,d,e){var d=e.offset+d,g=f.$d6(d,b),j=f.$ds(d,b),k=g.html;H&&(j||(j={},j.cell=f.cells.findXy(d,b)[0]),j.text=k,f.onBeforeCellExport(j),k=j.text);var l=i.grid.y+a.top-G,m=Math.max(0,i.grid.y-l);l+=m;var n=i.grid.x+c.left-F,o=Math.max(0,i.grid.x-n);n+=o;var p=g.business,q=g.backColor||(p?y:x),r={x:n,y:l,w:c.width,h:a.height};h.fillRect(r,q);var s={};s.x=r.x+1,s.y=r.y+1,s.w=r.w-2,s.h=r.h-2,k&&h.text(s,k,z,A)})}),q.getRows().each(function(a){var b=i.grid.y+a.top-G,c=Math.max(0,i.grid.y-b);b+=c,b!==i.grid.y&&h.line(i.gridContent.x+1,b,i.gridContent.x+i.gridContent.w-1,b,C)}),q.getRows().each(function(a){var b=i.grid.y+a.top-G,c=Math.max(0,i.grid.y-b);b+=c;var d=10,e=a.level*f.treeIndent+f.treeImageMarginLeft,g={x:0,y:b,w:i.grid.x+1,h:a.height+1},k=a.html,n={x:e,y:b+f.treeImageMarginTop,w:10,h:10},o={x:e+d+3,y:b,w:g.w-(e+d),h:a.height+1};h.fillRect(g,l),h.text(o,k,D,E),h.rect(g,m);var p=null;p=DayPilot.list(a.children).isEmpty()?j.nochildren:a.expanded?j.collapse:j.expand,h.image(n,p)}),q.getEvents().each(function(a){var b=f.rowlist[a.part.dayIndex].top,c=a.part.width,d=a.part.barWidth,e=a.client&&a.client.barVisible&&a.client.barVisible(),g=i.grid.y+b+a.part.top-G,j=Math.max(0,i.grid.y-g);g+=j;var k=i.grid.x+a.part.left-F,l=Math.max(0,i.grid.x-k);k+=l,c-=l,d-=l;var m=a.cache||a.data,n=m.barColor||v,o=m.barBackColor||u,q=m.backColor||"white",t=5,w=2,x=2,y={};y.e=a,y.text=a.text?a.text():a.client.html(),"function"==typeof f.onBeforeEventExport&&f.onBeforeEventExport(y);var z={x:k,y:g,w:c,h:a.part.height},A={x:k,y:g,w:c,h:t},B={x:k+a.part.barLeft,y:g,w:d,h:t};({x:k+w,y:g+t,w:c-w,h:a.part.height-t});h.fillRect(z,q),h.text(z,y.text,r,s,"left",x),h.rect(z,p),e&&(h.fillRect(A,o),d>0&&h.fillRect(B,n))}),h.rect(i.main,m),h.line(i.grid.x,0,i.grid.x,i.main.h,n),h.line(0,i.grid.y,i.main.w,i.grid.y,n),h},this.$dt={};var s=this.$dt;s.findJointDivs=function(a){var b=a.data.join;if(!b)return DayPilot.list();var c=DayPilot.list(f.elements.events).filter(function(c){return c.event.data.join===b&&c.event!==a});return c},this.$du={};var t=this.$du;t.divs=[],t.list=[],t.forbidden=!1,t.additional=function(){var a=DayPilot.list(),c=f.multiselect.isSelected(b.resizing.event),d=f.allowMultiResize,a=DayPilot.list();if(c&&d&&(a=DayPilot.list(f.multiselect.divs).filter(function(a){return a!==b.resizing})),f.jointEventsResize){var e=s.findJointDivs(b.resizing.event);a=a.concat(e)}return a},t.update=function(){t.clear(),t.draw()},t.clear=function(){DayPilot.de(t.divs),t.divs=[]},t.draw=function(){if(b.resizing){var a=b.resizing.event,c=b.resizingShadow,d=c.start.getTime()-a.start().getTime(),e=c.end.getTime()-a.end().getTime(),g=0;if(t.list=[],t.forbidden=!1,t.invalid=!1,t.rowoffset=g,t.additional().each(function(a){if(a.event){var b=a.event,c=f.rowlist[b.part.dayIndex+g];if(!c)return void(t.invalid=!0);var h=b.part.top+c.top,i=b.part.height;g&&(h=c.top,i=c.height);var j=b.start().addTime(d),k=b.end().addTime(e),l={};l.event=b,l.start=j,l.end=k,l.overlapping=!1,t.list.push(l);var m=f.getPixels(j),n=f.getPixels(k),o=DayPilot.DateUtil.diff(b.rawend(),b.start());o=Math.max(o,1);var p=I.useBox(o),q=p?m.boxLeft:m.left,r=p?n.boxRight-q:n.left-q,s=document.createElement("div");s.style.position="absolute",s.style.left=q+"px",s.style.top=h+"px",s.style.height=i+"px",s.style.width=r+"px",s.style.zIndex=101,s.style.overflow="hidden",s.className=f.$aD("_shadow"),s.info=l;var u=document.createElement("div");u.className=f.$aD("_shadow_inner"),s.appendChild(u),f.$as.appendChild(s),t.divs.push(s)}}),t.invalid){var h=f.$aD("_shadow_overlap");return void DayPilot.list(t.divs).each(function(a){DayPilot.Util.addClass(a,h)})}DayPilot.list(t.divs).each(function(a){if(a.info){var c=a,d=a.info,e=a.info.event,h=f.rowlist[e.part.dayIndex+g],i=f.getPixels(d.start),j=f.getPixels(d.end),k=i.left,l=j.left-k,m=DayPilot.list(t.list).map(function(a){return a.event.data}).add(b.resizing.event.data);f.$dv(c,h,k,l,m),c.overlapping&&(d.overlapping=!0,t.forbidden=!0)}})}},this.$dw={};var u=this.$dw;u.divs=[],u.list=[],u.forbidden=!1,u.verticalAll=function(){return"All"===f.multiMoveVerticalMode},u.additional=function(){var a=DayPilot.list(),c=f.multiselect.isSelected(b.movingEvent),d=f.allowMultiMove,a=DayPilot.list();if(c&&d&&(a=DayPilot.list(f.multiselect.divs).filter(function(a){return a!==b.moving&&a!==C.moving})),f.jointEventsMove){var e=s.findJointDivs(b.movingEvent);a=a.concat(e)}return a},u.update=function(){u.clear(),u.draw()},u.draw=function(){if(b.moving){var a=b.movingEvent,c=b.movingShadow.start,d=c.getTime()-a.start().getTime(),e=a.part.dayIndex,g=DayPilot.indexOf(f.rowlist,b.movingShadow.row),h=g-e;if(u.verticalAll()||(h=0),u.list=[],u.forbidden=!1,u.invalid=!1,u.rowoffset=h,u.additional().each(function(a){if(a.event){var b=a.event,c=f.rowlist[b.part.dayIndex+h];if(!c)return void(u.invalid=!0);var e=b.part.top+c.top,g=b.part.height;h&&(e=c.top,g=c.height);var i=b.start().addTime(d),j=b.end().addTime(d),k={};k.event=b,k.start=i,k.end=j,k.overlapping=!1,u.list.push(k);var l=f.getPixels(i),m=f.getPixels(j),n=DayPilot.DateUtil.diff(b.rawend(),b.start());n=Math.max(n,1);var o=I.useBox(n),p=o?l.boxLeft:l.left,q=o?m.boxRight-p:m.left-p,r=document.createElement("div");r.style.position="absolute",r.style.left=p+"px",r.style.top=e+"px",r.style.height=g+"px",r.style.width=q+"px",r.style.zIndex=101,r.style.overflow="hidden",r.className=f.$aD("_shadow"),r.info=k;var s=document.createElement("div");s.className=f.$aD("_shadow_inner"),r.appendChild(s),f.$as.appendChild(r),u.divs.push(r)}}),u.invalid){var i=f.$aD("_shadow_overlap");return void DayPilot.list(u.divs).each(function(a){DayPilot.Util.addClass(a,i)})}DayPilot.list(u.divs).each(function(a){if(a.info){var c=a,d=a.info,e=a.info.event,g=f.rowlist[e.part.dayIndex+h],i=f.getPixels(d.start),j=f.getPixels(d.end),k=i.left,l=j.left-k,m=DayPilot.list(u.list).map(function(a){return a.event.data}).add(b.movingEvent.data);f.$dv(c,g,k,l,m),c.overlapping&&(d.overlapping=!0,u.forbidden=!0)}})}},u.clear=function(){DayPilot.de(u.divs),u.divs=[]},this.$dx=function(){var a=f.coords,c=b.resizing.dpBorder,d=b.resizing.event,e=d.part.left;"right"==c&&(e+=d.part.width);var l,m,g=b.resizing.event.calendar.cellWidth,h=b.resizing.event.part.width,i=b.resizing.event.part.left,j=0,k=a.x-e;if("right"===c){if(l=i,f.snapToGrid){var n=f.$b2(h+i+k).cell,o=n.left+n.width;m=o-i,m<g&&(m=g)}else m=h+k;var p=f.$dl();i+m>p&&(m=p-i),b.resizingShadow.style.width=m+"px"}else{if("left"!==c)throw"Invalid dpBorder.";f.snapToGrid?(k>=h&&(k=h),l=Math.floor((i+k+0)/g)*g,l<j&&(l=j)):l=i+k,m=h-(l-i);var q=i+h,r=g;f.snapToGrid?"Never"===f.useEventBoxes&&(r=h<g?h:1):r=1,m<r&&(m=r,l=q-m),b.resizingShadow.style.left=l+"px",b.resizingShadow.style.width=m+"px"}!function(){var c=b.resizing.event,d=f.rowlist[c.part.dayIndex],e=l,g=m;f.$dv(b.resizingShadow,d,e,g,c.data)}(),f.$dy()},this.$dh=function(){this.nav.scroll;if(f.coords&&b.moving){f.$aH();var c=b.movingShadow,d=this.$cK(b.moving);if(!f.$cN(d.rowIndex)){var e=b.movingEvent,g=0,h=0;!function(){if(f.cellStacking){var b=d.relativeY,c=f.$b2(d.left).x,e=d.row,i=e.evColumns[c],j=i.events.find(function(a){return b<a.part.top+a.part.height+f.eventMarginBottom});j||(j=i.events.last()),j&&(h=j.part.top,g=DayPilot.indexOf(i.events,j),b-j.part.top>j.part.height/2&&(h=j.part.top+j.part.height+f.eventMarginBottom/2,g+=1))}else{for(var b=d.relativeY,e=d.row,k=0,l=f.$cL.eventHeight(),m=e.lines.length,n=0;n<e.lines.length;n++){var o=e.lines[n];if(o.isFree(d.left,f.cellWidth)){m=n;break}}var p=Math.floor((b-k+l/2)/l),p=Math.min(m,p),p=Math.max(0,p);g=p,h=f.rowMarginTop+g*(f.$cL.eventHeight()+f.eventMarginBottom)+f.eventMarginBottom/2}}(),h>0&&(h-=3);var i=e.cache&&"undefined"!=typeof e.cache.moveVDisabled?!e.cache.moveVDisabled:!e.data.moveVDisabled,j=e.cache&&"undefined"!=typeof e.cache.moveHDisabled?!e.cache.moveHDisabled:!e.data.moveHDisabled,k=!u.additional().isEmpty();if(k&&"Disabled"===f.multiMoveVerticalMode&&(i=!1),i)if(this.$cN(d.rowIndex)){var l=c.row,m=1;if(!l)return;m=d.rowIndex<l.index?1:-1;for(var n=d.rowIndex;n!==l.index;n+=m){var o=this.rowlist[n];if(!this.$cN(n)&&!o.hidden){c.style.top=o.top+"px",c.style.height=Math.max(o.height,0)+"px",c.row=o,f.eventMoveToPosition&&(g=m>0?0:o.lines.length-1,c.style.top=d.top+h+"px",c.style.height="3px",c.line=g);break}}}else c.row=d.row,c.style.height=Math.max(d.row.height,0)+"px",c.style.top=d.top+"px",f.eventMoveToPosition&&(c.style.top=d.top+h+"px",c.style.height="3px",c.line=g);else{for(var l=f.rowlist[e.part.dayIndex],p=l.lines.length,n=0;n<l.lines.length;n++){var q=l.lines[n];if(q.isFree(d.left,f.cellWidth)){p=n;break}}if(k||(c.style.height=Math.max(l.height,0)+"px",c.style.top=l.top+"px"),c.row=l,f.eventMoveToPosition&&!k)if(d.row===l)c.style.top=l.top+h+"px",c.style.height="3px",c.line=g;else{var r=d.rowIndex>l.index&&p>0?p*f.$cL.eventHeight()-3:0;c.style.top=l.top+r+"px",c.style.height="3px",c.line=0}}j?(c.style.left=d.left+"px",f.eventMoveToPosition?c.style.width=f.cellWidth+"px":c.style.width=d.width+"px",c.start=d.start,c.end=d.end):(c.style.left=e.part.left+"px",c.start=e.start(),c.end=e.rawend()),function(){var b=c.row,g=e.data,h=d.width,i=d.left,j=DayPilot.list(u.list).map(function(a){return a.event.data}).add(g);f.$dv(c,b,i,h,j)}(),function(){var a=f.$bW;if(!a||a.start.getTime()!==c.start.getTime()||a.end.getTime()!==c.end.getTime()||a.resource!==c.row.id){u.update();var d={};d.start=c.start,d.end=f.$bm(c.end),d.duration=new DayPilot.Duration(d.start,d.end),d.e=e,d.resource=c.row.id,d.row=f.$ce(c.row),d.position=c.line,d.overlapping=c.overlapping||u.forbidden,d.allowed=!0,d.left={},d.left.html=d.start.toString(f.eventMovingStartEndFormat,I.locale()),d.left.enabled=f.eventMovingStartEndEnabled,d.right={},d.right.html=d.end.toString(f.eventMovingStartEndFormat,I.locale()),d.right.enabled=f.eventMovingStartEndEnabled,d.multimove=DayPilot.list(u.list);var g={};g.event=e,g.start=d.start,g.end=d.end,d.multimove.splice(0,0,g),f.$bW=d;var h={start:d.start,end:d.end};if("function"==typeof f.onEventMoving&&f.onEventMoving(d),c.allowed=d.allowed,d.start!==h.start||d.end!==h.end){var i=d.start,j=f.$bT(d.end);c.start=i,c.end=j;var k=DayPilot.DateUtil.diff(i,j);k=Math.max(k,1);var l=I.useBox(k),m=l?f.getPixels(i).boxLeft:f.getPixels(i).left,n=l?f.getPixels(j).boxRight:f.getPixels(j).left;c.style.left=m+"px",c.style.width=n-m+"px"}f.$dz(c,d),DayPilot.Util.addClass(b.moving,f.$aD(E.eventMovingSource)),f.$dA(b.movingShadow,d)}}()}}},this.$dv=function(a,b,c,d,e){if(!f.allowEventOverlap){!function(){a.overlapping=!1;for(var h=0;h<b.lines.length;h++){var i=b.lines[h];if(!i.isFree(c,d,e))return void(a.overlapping=!0)}if(f.allowMultiRange){var j=b.index,k=DayPilot.list(H.list).some(function(b){var e=b.div,f=parseInt(e.style.left),g=parseInt(e.style.width),h=b.start.y;return a!==e&&(h===j&&DayPilot.Util.overlaps(c,c+d,f,f+g))});return k?void(a.overlapping=!0):void 0}}();var g=a.overlapping,h=f.$aD("_shadow_overlap");g?DayPilot.Util.addClass(a,h):DayPilot.Util.removeClass(a,h)}},this.$dz=function(a,b){var c=f.$aD("_shadow_forbidden");!b.allowed||u.invalid?DayPilot.Util.addClass(a,c):DayPilot.Util.removeClass(a,c)},this.$dA=function(a,b){var c=5;this.$dB();var d={};d.left=parseInt(a.style.left),d.top=parseInt(a.style.top),d.right=d.left+parseInt(a.style.width);var e=b.left.width||10,g=document.createElement("div");if(g.style.position="absolute",g.style.left=d.left-e-c+"px",g.style.top=d.top+"px",g.style.height=f.eventHeight+"px",g.style.overflow="hidden",g.style.boxSizing="border-box",g.innerHTML=b.left.html,g.className=this.$aD("_event_move_left"),b.left.enabled)if(f.divHover.appendChild(g),b.left.width)g.style.width=e+"px";else{g.style.whiteSpace="nowrap";var h=g.offsetWidth,i=d.left-h-c;g.style.width=h+"px",g.style.left=i+"px";var j=f.nav.scroll.scrollLeft;i<j&&f.divHover.removeChild(g);var k=f.$dC()+(i-j);k>0&&(g.style.left=k+"px",g.style.top=d.top-f.nav.scroll.scrollTop+f.$aF()+"px",f.nav.top.appendChild(g),f.elements.hover.push(g))}var l=document.createElement("div");if(l.style.position="absolute",l.style.left=d.right+c+"px",l.style.top=d.top+"px",l.style.height=f.eventHeight+"px",l.style.overflow="hidden",l.style.boxSizing="border-box",b.right.width?l.style.width=b.right.width+"px":l.style.whiteSpace="nowrap",l.innerHTML=b.right.html,l.className=this.$aD("_event_move_right"),b.right.enabled){f.divHover.appendChild(l);var m=f.nav.scroll.scrollWidth,n=d.right+c+l.offsetWidth;n>=m&&f.divHover.removeChild(l)}},this.$dB=function(){f.divHover.innerHTML="",DayPilot.de(f.elements.hover),f.elements.hover=[]},this.$dD=function(){var a=f.rowHeaderColumnDefaultWidth;this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width",a))},this.$dC=function(){var a=0;if(this.$dD(),this.rowHeaderCols)for(var b=0;b<this.rowHeaderCols.length;b++)a+=this.rowHeaderCols[b];else a=this.rowHeaderWidth;return a},this.$dE=function(){return this.$dF(f.progressiveRowRenderingPreload)},this.$dF=function(a){var a=a||0,b=0,c=f.rowlist.length,d=f.progressiveRowRendering;if(d){var e=f.$aw();b=e.yStart,c=e.yEnd+1,b=Math.max(0,b-a),c=Math.min(f.rowlist.length,c+a)}return{start:b,end:c}},this.$dG=function(){if(this.$dH()&&this.rowHeaderWidthAutoFit){var a=this.divHeader;if(a&&a.rows){for(var b=[],c=f.$dE(),d=c.start;d<c.end;d++){var e=a.rows[d];if(e&&!e.hidden&&!e.autofitDone){e.autofitDone=!0;for(var g=0;g<e.cells.length;g++){var h=e.cells[g].firstChild.firstChild;if(h&&h.style){var i=h.style.width,j=h.style.right;h.style.position="absolute",h.style.width="auto",h.style.right="auto",h.style.whiteSpace="nowrap";var k=h.offsetWidth+2;h.style.position="",h.style.width=i,h.style.right=j,h.style.whiteSpace="","undefined"==typeof b[g]&&(b[g]=0),b[g]=Math.max(b[g],k)}}}}var l=0,m=!1;if(this.$dD(),this.rowHeaderCols)for(var d=0;d<b.length;d++)this.rowHeaderCols[d]&&(b[d]>this.rowHeaderCols[d]&&(this.rowHeaderCols[d]=b[d],m=!0),l+=this.rowHeaderCols[d]);else l=this.rowHeaderWidth,this.rowHeaderWidth<b[0]+f.rowHeaderWidthMarginRight&&(l=b[0]+f.rowHeaderWidthMarginRight,m=!0);f.progressiveRowRendering,m&&(this.$dI&&(this.$dI.widths=this.rowHeaderCols,this.$dI.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=l),this.$bI(),this.$dJ())}}},this.$a5=function(){this.$dK=!0,this.$dD();var a=this.$dC(),b=this.divHeader;b?(b.innerHTML="",DayPilot.puc(b)):(b=document.createElement("div"),b.onmousemove=function(){f.$dL()},this.divHeader=b),b.style.width=a+"px",b.style.height=f.$9Q+"px",b.rows=[];var d=f.progressiveRowRendering;if(d)c();else for(var e=this.rowlist.length,g=0;g<e;g++)f.$dM(g);f.$dN(),this.divResScroll.appendChild(b),this.rowHeaderWidthAutoFit&&this.$dG()},this.$bJ=function(){if(f.progressiveRowRendering){for(var a=this.$dE(),b=0;b<f.rowlist.length;b++)a.start<=b&&b<a.end?f.$dM(b):f.$dO(b);if(this.rowHeaderWidthAutoFit){var c=f.$aG();this.$dG();var d=f.$aG();if(d!==c){var e=this.cellWidth;this.$a0();var g=this.cellWidth;g!==e&&(this.$a1(),this.$a6(),this.$ac(),this.$a4())}}}},this.$dN=function(){var a=f.divHeader,b=this.rowHeaderCols,c=b?this.rowHeaderCols.length:0,d=this.$dC(),e=document.createElement("div");e.style.position="absolute",e.style.top=this.$9Q+"px",e.colSpan=c+1,e.style.width=d+"px",e.style.height=f.divResScroll.clientHeight+20+"px",a.appendChild(e),f.nav.resScrollSpace=e,e.setAttribute("unselectable","on");var g=document.createElement("div");g.style.position="relative",g.style.height="100%",g.className=this.$aD("_rowheader"),e.appendChild(g)},this.$dO=function(a){var b=f.divHeader.rows[a];b&&(DayPilot.de(b.cells),f.divHeader.rows[a]=null)},this.$bN=function(a){this.$dO(a),this.$dM(a)},this.$dM=function(a){var b=f.divHeader,c=this.divHeader;if(!c.rows[a]){var d=this.rowHeaderCols,e=d?this.rowHeaderCols.length:0,g=this.$dC(),h=this.rowlist[a];if(h&&!h.hidden){var i=this.$dP(h);c.rows[a]={},c.rows[a].cells=[];var k=document.createElement("div");k.style.position="absolute",k.style.top=h.top+"px",k.row=h,k.index=a;var l=i.row,m=d?d[0]:this.rowHeaderWidth;k.style.width=m+"px",k.style.border="0px none",l.toolTip&&(k.title=l.toolTip),k.setAttribute("unselectable","on"),k.onmousemove=f.$dQ,k.onmouseout=f.$dR,k.onmouseup=f.$dS,k.oncontextmenu=f.$dT,k.onclick=f.$dU,k.ondblclick=f.$dV;var n=document.createElement("div");n.style.width=m+"px",n.setAttribute("unselectable","on"),n.className=this.$aD("_rowheader"),l.cssClass&&DayPilot.Util.addClass(n,l.cssClass),l.backColor&&(n.style.background=l.backColor),n.style.height=h.height+"px",n.style.overflow="hidden",n.style.position="relative";var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$aD("_rowheader_inner"),n.appendChild(o);var p="Disabled"!==this.rowMoveHandling,q=10,r=l.areas||[];p&&!l.moveDisabled&&r.push({v:"Hover",w:q,bottom:0,top:0,left:0,css:f.$aD("_rowmove_handle"),action:"Move"});var s=f.$ce(h);DayPilot.Areas.attach(n,s,{areas:r,allowed:function(){return!j.row}});var t=document.createElement("div");if(t.style.position="absolute",t.style.bottom="0px",t.style.width="100%",t.style.height="1px",t.className=this.$aD(E.resourcedivider),n.appendChild(t),function(){if(f.treeEnabled&&!h.isNewRow){var c=h.level*f.treeIndent+f.treeImageMarginLeft;
p&&(c+=q);var d=10,e=document.createElement("div");e.style.width="10px",e.style.height=d+"px",e.style.backgroundRepeat="no-repeat",e.style.position="absolute",e.style.left=c+"px",e.style.top=f.treeImageMarginTop+"px",h.loaded||0!==h.children.length?h.children.length>0?(h.expanded?e.className=f.$aD("_tree_image_collapse"):e.className=f.$aD("_tree_image_expand"),e.style.cursor="pointer",e.index=a,e.onclick=function(a){f.$dg(this.index),a=a||window.event,a.cancelBubble=!0}):e.className=f.$aD("_tree_image_no_children"):(e.className=f.$aD("_tree_image_expand"),e.style.cursor="pointer",e.index=a,e.onclick=function(a){f.$dW(this.index),a=a||window.event,a.cancelBubble=!0}),o.appendChild(e)}var g=document.createElement("div");f.treeEnabled&&(g.style.marginLeft=c+d+"px"),g.innerHTML=l.html,k.textDiv=g,k.cellDiv=n,o.appendChild(g)}(),k.appendChild(n),l.areas)for(var u=0;u<l.areas.length;u++){var v=l.areas[u],w=v.v||"Visible";if("Visible"===w){var x=f.$ce(h),y=DayPilot.Areas.createArea(n,x,v);n.appendChild(y)}}if(b.appendChild(k),c.rows[a].cells.push(k),h.columns&&0!==h.columns.length)for(var z=m,u=1;u<e;u++){var A=l.columns[u-1]||{},k=document.createElement("div");k.style.position="absolute",k.style.top=h.top+"px",k.style.left=z+"px",b.appendChild(k),c.rows[a].cells.push(k),k.row=h,k.index=a,l.toolTip&&(k.title=l.toolTip),k.setAttribute("unselectable","on"),k.onmousemove=f.$dQ,k.onmouseout=f.$dR,k.onmouseup=f.$dS,k.oncontextmenu=f.$dT,k.onclick=f.$dU,k.ondblclick=f.$dV;var n=document.createElement("div"),B=d[u];z+=B;var C=A.backColor||l.backColor;C&&(n.style.backgroundColor=C),n.style.width=B+"px",n.style.height=h.height+"px",n.style.overflow="hidden",n.style.position="relative",n.setAttribute("unselectable","on"),DayPilot.Util.addClass(n,this.$aD("_rowheader")),DayPilot.Util.addClass(n,this.$aD("_rowheadercol")),DayPilot.Util.addClass(n,this.$aD("_rowheadercol"+u)),l.cssClass&&DayPilot.Util.addClass(n,l.cssClass),A.cssClass&&DayPilot.Util.addClass(n,A.cssClass);var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$aD("_rowheader_inner"),n.appendChild(o);var t=document.createElement("div");t.style.position="absolute",t.style.bottom="0px",t.style.width="100%",t.style.height="1px",t.className=this.$aD("_resourcedivider"),n.appendChild(t);var D=document.createElement("div"),F=A.html||"";D.innerHTML=F,k.textDiv=D,k.cellDiv=n,o.appendChild(D),k.appendChild(n)}else k.colSpan=e>0?e:1,n.style.width=g+"px"}}},this.$dT=function(){var a=this.row;return a.contextMenu&&a.contextMenu.show(f.$ce(a)),!1},this.$dU=function(a){if(!x.cancelClick){var b=this.row,c=f.$ce(b,this.index);return b.isNewRow?void f.$ci.edit(b):void f.$cf(c,a.ctrlKey,a.shiftKey,a.metaKey)}},this.$dV=function(a){if(f.timeouts.resClick){for(var b in f.timeouts.resClick)window.clearTimeout(f.timeouts.resClick[b]);f.timeouts.resClick=null}var c=this.row,d=f.$ce(c,this.index);if(f.$aq()){var e={};if(e.resource=d,e.row=d,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowDoubleClick&&(f.onRowDoubleClick(e),e.preventDefault.value))return;switch(f.rowDoubleClickHandling){case"PostBack":f.rowDoubleClickPostBack(d);break;case"CallBack":f.rowDoubleClickCallBack(d);break;case"Select":f.$ch(c,a.ctrlKey,a.shiftKey,a.metaKey);break;case"Edit":f.$ci.edit(c)}"function"==typeof f.onRowDoubleClicked&&f.onRowDoubleClicked(e)}else switch(f.rowDoubleClickHandling){case"PostBack":f.rowDoubleClickPostBack(d);break;case"CallBack":f.rowDoubleClickCallBack(d);break;case"JavaScript":f.onRowDoubleClick(d);break;case"Select":f.$ch(c,a.ctrlKey,a.shiftKey,a.metaKey);break;case"Edit":f.$ci.edit(c)}},this.rowDoubleClickPostBack=function(a,b){var c={};c.resource=a,this.$b8("RowDoubleClick",c,b)},this.rowDoubleClickCallBack=function(a,b){var c={};c.resource=a,this.$b9("RowDoubleClick",c,b)},this.$dX=function(a){var b={};b.start=this.cell.start,b.level=this.cell.level,b.end=this.cell.end,b.end||(b.end=new DayPilot.Date(b.start).addMinutes(f.cellDuration)),f.$cj(b)},this.$ce=function(a){return new DayPilot.Row(a,f)},this.$aU=function(a){var b=this.rowlist[a];if(b.events||b.resetEvents(),!b.data){b.data={},b.data.start=new DayPilot.Date(b.start),b.data.startTicks=b.data.start.getTime();var c=this.$aX().getTime()-this.$aT().getTime();b.data.end=I.isResourcesView()?b.data.start.addTime(c):b.data.start.addDays(1),b.data.endTicks=b.data.end.getTime(),b.data.offset=b.start.getTime()-this.$aT().getTime(),b.data.i=a}},this.$a4=function(a){a?this.events.list=a:this.events.list||(this.events.list=[]),v.prepareRows(!0);for(var e,b=this.events.list,c=b.length,d="function"==typeof this.onBeforeEventRender,g="Resources"===f.viewType,h=0;h<c;h++){var i=b[h];if(i){if(i instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";d&&this.$cY(h),"*"===i.resource?e=f.rowlist:g?e=DayPilot.list(v.rowcache[i.resource]).concat(v.rowcache["*"]):"Days"===f.viewType?e=f.rowlist:"Gantt"===f.viewType&&(e=v.rowcache[i.id]);for(var j=0;e&&j<e.length;j++){var k=e[j],l=this.$cZ(i,k);l&&d&&(l.cache=this.$9R.events[h])}}}DayPilot.list(f.rowlist).each(function(a){f.$dY(a)}),this.$bt()},this.$dZ=function(a){var b=[],c=[],d=null;if(a&&$5A){for(var e=a,d=[],g=0;g<e.length;g++){for(var h=e[g],i=!1,j=0;j<this.events.list.length;j++){var k=this.events.list[j];if(k.id===h.id&&k.start.toString()===h.start.toString()&&k.resource===h.resource){var l=f.events.$bq(k);c=c.concat(l),this.events.list[j]=h,i=!0;break}}i||d.push(h)}this.events.list=this.events.list.concat(d)}else a?this.events.list=a:this.events.list||(this.events.list=[]);var m=d||this.events.list;a?this.events.list=a:this.events.list||(this.events.list=[]);var m=this.events.list,n=m.length;if("function"==typeof this.onBeforeEventRender)for(var o=d?this.events.list.length-d.length:0,p=this.events.list.length,g=o;g<p;g++)this.$cY(g);var q=!this.$cX(),r=!0;if(r){var s=!d||"undefined"==typeof w.events;v.prepareRows(s);for(var j=0;m&&j<n;j++)if(!b[j]){var t=m[j];if(t){var l=[];l="*"===t.resource?f.rowlist:"Days"===f.viewType?f.rowlist:"Gantt"===f.viewType?v.rowcache[t.id]:v.rowcache[t.resource];for(var u=0;l&&u<l.length;u++){var w=l[u],x=this.$cZ(t,w);x&&("function"==typeof this.onBeforeEventRender&&(x.cache=this.$9R.events[j+o]),c.push(w.index))}}}}else for(var g=0;g<this.rowlist.length;g++){var w=this.rowlist[g];if(d&&"undefined"!=typeof w.events||w.resetEvents(),f.$aU(g),!this.$cN(g))for(var j=0;m&&j<n;j++)if(!b[j]){var h=m[j],x=this.$cZ(h,w);x&&("function"==typeof this.onBeforeEventRender&&(x.cache=this.$9R.events[j+o]),c.push(g),q&&"*"!==x.data.resource&&x.part.start.getTime()===x.start().getTime()&&x.part.end.getTime()===x.rawend().getTime()&&(b[j]=!0))}}for(var g=0;g<this.rowlist.length;g++){var w=this.rowlist[g];this.$dY(w)}return this.$bt(),DayPilot.ua(c)},this.$e0={};var v=this.$e0;v.rowCache={},v.prepareRows=function(a){v.rowcache={};for(var b=0;b<f.rowlist.length;b++){var c=f.rowlist[b];if(a&&c.resetEvents(),f.$aU(b),c.id){var d=c.id.toString();v.rowcache[d]||(v.rowcache[d]=DayPilot.list()),v.rowcache[d].push(c)}}},v.loadEvent=function(a){},this.$cX=function(){var a={};if("Resources"!==f.viewType)return!1;for(var b=0;b<f.rowlist.length;b++){var c=f.rowlist[b],d=c.id;if(a[d])return!0;a[d]=!0}return!1},this.$cY=function(a){var b=this.$9R.events,c=this.events.list[a],d={};c instanceof DayPilot.Event&&(c=c.data);for(var e in c)d[e]=c[e];if("function"==typeof this.onBeforeEventRender){var f={};f.e=d,f.data=d,this.onBeforeEventRender(f)}b[a]=d},this.$dY=function(a){if(a.lines=[],a.sections=null,!a.isNewRow){this.sortDirections?a.events.sort(this.$e1):f.cellStacking||a.events.sort(this.$e2);var b=f.cellStacking;if(b)return void B.loadRow(a);var c=f.groupConcurrentEvents;if(c)for(var d=0;d<a.blocks.length;d++)a.blocks[d].clear();DayPilot.list(a.events).each(function(b){if(!b.part.height)return a.eventHeight?void(b.part.height=a.eventHeight):void(b.part.height=I.eventHeight())});for(var e=0;e<a.events.length;e++){var g=a.events[e];a.putIntoLine(g),c&&a.putIntoBlock(g)}for(var h=0,d=0;d<a.lines.length;d++){var i=a.lines[d];i.top=h,h+=(i.height||a.eventHeight)*this.eventStackingLineHeight/100}if(c)for(var e=0;e<a.blocks.length;e++){var j=a.blocks[e];j.lines=[],j.events.sort(this.$e1);for(var k=0;k<j.events.length;k++){var g=j.events[k];j.putIntoLine(g)}j.lines.length<=f.groupConcurrentEventsLimit&&(j.expanded=!0);var l=DayPilot.list(j.events).map(function(a){return a.id()}).some(function(a){return DayPilot.contains(f.$e3,a)});l&&(j.expanded=!0);for(var h=0,d=0;d<j.lines.length;d++){var i=j.lines[d];i.top=h,h+=(i.height||a.eventHeight)*this.eventStackingLineHeight/100}}}},this.$bs=function(a){a=DayPilot.ua(a);for(var b=0;b<a.length;b++){var c=a[b];f.$dY(f.rowlist[c])}if(f.cellStacking)B.calculateEventPositions();else for(var b=0;b<a.length;b++){var c=a[b],d=f.rowlist[c];f.$e4(d)}},this.$da=function(){var a="Manual"===f.scale?f.itline[0].start:f.startDate;return DayPilot.list(f.rowlist).some(function(b){return!!b.start&&b.start.getTime()!==new DayPilot.Date(a).getTime()})},this.$cZ=function(a,b){var c=new DayPilot.Date(a.start),d=new DayPilot.Date(a.end);d=f.$bT(d);var e=c.ticks,g=d.ticks;if(g<e)return null;var h=null;if("function"==typeof f.onBeforeEventRender){var i=DayPilot.indexOf(f.events.list,a);h=f.$9R.events[i]}if(h){if(h.hidden)return null}else if(a.hidden)return null;var j=!1;switch(this.viewType){case"Days":j=!(g<=b.data.startTicks||e>=b.data.endTicks)||e===g&&e===b.data.startTicks;break;case"Resources":j=(b.id===a.resource||"*"===b.id||"*"===a.resource)&&(!(g<=b.data.startTicks||e>=b.data.endTicks)||e===g&&e===b.data.startTicks);break;case"Gantt":j=b.id===a.id&&!(g<=b.data.startTicks||e>=b.data.endTicks)}if(!j)return null;var k=new DayPilot.Event(a,f);k.part.dayIndex=b.data.i,k.part.start=b.data.startTicks<e?c:b.data.start,k.part.end=b.data.endTicks>g?d:b.data.end;var l=this.getPixels(k.part.start.addTime(-b.data.offset)),m=this.getPixels(k.part.end.addTime(-b.data.offset));k.part.start===k.part.end&&(m=this.getPixels(k.part.end.addTime(-b.data.offset).addSeconds(1))),h&&h.height?k.part.height=h.height:a.height&&(k.part.height=a.height),k.part.$e5=function(){var a=this.height;if(f.eventVersionsEnabled&&!DayPilot.list(k.data.versions).isEmpty()){var b=k.versions.length;a+=b*f.eventVersionHeight,a+=b*f.eventVersionMargin}return a+f.eventMarginBottom};var n=l.left,o=m.left;if(k.part.startPixels=l,k.part.endPixels=m,n===o){if(l.cut||m.cut)return null;var p=(k.part.start.addTime(-b.data.offset).getTime()+k.part.end.addTime(-b.data.offset).getTime())/2,q=f.getPixels(new DayPilot.Date(Math.floor(p)));if(q.cut)return null}k.part.box=I.useBox(g-e);var r=f.eventHeight;if("Milestone"===a.type){var s=a.width||r;k.part.end=k.part.start,k.part.left=n-s/2,k.part.width=s,k.part.barLeft=0,k.part.barWidth=s}else if(k.part.box){var t=l.boxLeft,u=m.boxRight;k.part.left=t,k.part.width=u-t,k.part.barLeft=Math.max(n-k.part.left,0),k.part.barWidth=Math.max(o-n,1)}else k.part.left=n,k.part.width=Math.max(o-n,1),k.part.barLeft=0,k.part.barWidth=Math.max(o-n-1,1);if(f.eventVersionsEnabled&&f.$e6(k,b),"function"==typeof f.onEventFilter&&f.events.$cV){var v={};if(v.filter=f.events.$cV,v.visible=!0,v.e=k,f.onEventFilter(v),!v.visible)return null}return b.events.push(k),k},this.$e6=function(a,b){a.versions=[];var c=a.data,d=DayPilot.list(c.versions);d.isEmpty()||d.each(function(c){var d=new DayPilot.Date(c.start),e=new DayPilot.Date(c.end),g=f.getPixels(d.addTime(-b.data.offset)),h=f.getPixels(e.addTime(-b.data.offset));d.ticks===e.ticks&&(h=f.getPixels(e.addTime(-b.data.offset).addTime(1)));var i=g.left,j=h.left;if(i===j&&(g.cut||h.cut))return null;var k={};k.left=i,k.continueLeft=d<b.data.start,k.right=j,k.continueRight=e>b.data.end,k.width=j-i,a.versions.push(k)})},this.$e2=function(a,b){if(!(a&&b&&a.start&&b.start))return 0;var c=a.start().ticks-b.start().ticks;if(0!==c)return c;var d=b.end().ticks-a.end().ticks;return d},this.$e1=function(a,b){if(!a||!b)return 0;if(!(a.data&&b.data&&a.data.sort&&b.data.sort&&0!==a.data.sort.length&&0!==b.data.sort.length))return f.$e2(a,b);for(var c=0,d=0;0===c&&"undefined"!=typeof a.data.sort[d]&&"undefined"!=typeof b.data.sort[d];)c=a.data.sort[d]===b.data.sort[d]?0:f.$e7(a.data.sort[d],b.data.sort[d],f.sortDirections[d]),d++;return c},this.$e7=function(a,b,c){var d="desc"!==c,e=d?-1:1,f=-e;if(null===a&&null===b)return 0;if(null===b)return f;if(null===a)return e;var g=[];return g[0]=a,g[1]=b,g.sort(),a===g[0]?e:f},this.$ch=function(a,b,c,d){if(f.$aq()){var e=DayPilot.indexOf(f.rowlist,a),g=f.$ce(a,e),h=DayPilot.indexOf(x.selected,a)!==-1,i=h?"deselected":"selected",j={};if(j.row=g,j.selected=h,j.ctrl=b,j.shift=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowSelect&&(f.onRowSelect(j),j.preventDefault.value))return;var k=c&&!b&&!d;if(c||(x.$e8={row:a,index:e}),k){x.fixRowSelectLast();var l=x.$e8.index,m=e;x.selectRange(l,m)}switch(f.rowSelectHandling){case"PostBack":f.rowSelectPostBack(g,i);break;case"CallBack":f.rowSelectCallBack(g,i);break;case"Notify":!k&&x.select(a,b,c,d),f.rowSelectNotify(g,i);break;case"Update":!k&&x.select(a,b,c,d)}"function"==typeof f.onRowSelected&&(j.selected=DayPilot.indexOf(x.selected,a)!==-1,f.onRowSelected(j))}else{x.select(a,b,c);var e=DayPilot.indexOf(f.rowlist,a),g=f.$ce(a,e),h=DayPilot.indexOf(x.selected,a)!==-1,i=h?"deselected":"selected";switch(f.rowSelectHandling){case"PostBack":f.rowSelectPostBack(g,i);break;case"CallBack":f.rowSelectCallBack(g,i);break;case"Notify":f.rowSelectNotify(g,i);break;case"JavaScript":f.onRowSelect(g,i)}}},this.rowSelectPostBack=function(a,b,c){var d={};d.resource=a,d.change=b,this.$b8("RowSelect",d,c)},this.rowSelectCallBack=function(a,b,c){var d={};d.resource=a,d.change=b,this.$b9("RowSelect",d,c)},this.rowSelectNotify=function(a,b,c){var d={};d.resource=a,d.change=b,this.$b9("RowSelect",d,c,"Notify")},this.rows={},this.rows.selection={};var w=this.rows.selection;w.get=function(){var a=[];return DayPilot.list(x.selected).each(function(b){a.push(f.$ce(b))}),a},w.clear=function(){x.clearSelection()},w.add=function(a){if(!a||!a.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";var b=DayPilot.list(x.selected).some(function(b){return b===a.$.row});b||x.selected.push(a.$.row),x.$e9(),w.$ea()},w.$ea=function(){f.selectedRows=DayPilot.list(x.selected).map(function(a){return a.id})},this.rows.all=function(){for(var a=[],b=0;b<f.rowlist.length;b++){var c=f.$ce(f.rowlist[b]);a.push(c)}return n(a)},this.rows.each=function(a){f.rows.all().each(a)},this.rows.filter=function(a){f.rows.$cV=a,f.$bx({immediateEvents:!0})},this.rows.find=function(a,b){for(var c=f.rows.all(),d=0;d<c.length;d++){var e=c[d];if(e.id===a){if("string"!=typeof b)return e;if(b===e.start.toString())return e}}},this.rows.load=function(a){DayPilot.ajax({method:"POST",url:a,success:function(a){var b=a.request,c=DayPilot.Util.parseJSON(b.responseText);DayPilot.isArray(c)&&(f.resources=c,f.$bM&&f.update())}})},this.rows.expand=function(a){for(var b=[],c=a||1,d=0;d<f.rowlist.length;d++){var e=f.rowlist[d],g=c===-1;e.level<c&&(g=!0),g&&!e.expanded&&e.children&&e.children.length>0&&b.push(e.index)}if(0!==b.length)if(1===b.length)f.$dg(b[0]);else{for(var d=0;d<b.length;d++){var h=b[d],e=f.rowlist[h];e.expanded=!0}f.$bx()}},this.rows.expandAll=function(){f.rows.expand(-1)},this.rows.headerHide=function(){f.$eb=!0,f.$ec(),f.$dJ(),f.$aL()},this.rows.headerShow=function(){f.$eb=!1,f.$ec(),f.$dJ(),f.$aL()},this.rows.headerToggle=function(){f.$eb?f.rows.headerShow():f.rows.headerHide()},this.rows.remove=function(a){var b=a.$.row.resource,c=y.findParentArray(b);if(!c)throw"Cannot find source node parent";var d=DayPilot.indexOf(c,b);c.splice(d,1),f.update()},this.$ed=function(){var a=j.source,b=j.target,c=j.position;if(x.resetMoving(),f.$aq()){var d={};if(d.source=f.$ce(a),d.target=f.$ce(b),d.position=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowMove&&(f.onRowMove(d),d.preventDefault.value))return;switch(f.rowMoveHandling){case"Update":x.move(d);break;case"CallBack":f.rowMoveCallBack(d.source,d.target,d.position);break;case"PostBack":f.rowMovePostBack(d.source,d.target,d.position);break;case"Notify":x.move(d),f.rowMoveNotify(d.source,d.target,d.position)}"function"==typeof f.onRowMoved&&f.onRowMoved(d)}else{var a=f.$ce(a),b=f.$ce(b),c=c;switch(f.rowMoveHandling){case"CallBack":f.rowMoveCallBack(a,b,c);break;case"PostBack":f.rowMovePostBack(a,b,c);break;case"JavaScript":f.onRowMove(a,b,c)}}},this.$ao=function(a){var b=DayPilot.list(a);x.selected=[],b.isEmpty()||(f.$9H=!1,f.$a3()),b.each(function(a){var b=f.$au(a);b&&x.selected.push(b)}),x.$e9()},this.$ci={};var x=this.$ci;x.edit=function(a){x.$ee(a)},x.rowSelectLastSetDefault=function(){x.$e8={row:f.rowlist[0],index:0}},x.rowSelectSetLast=function(a){var b=DayPilot.indexOf(f.rowlist,a);if(b===-1)throw"DayPilot.Scheduler: Row not found when selecting a range";x.$e8={row:a,index:b}},x.fixRowSelectLast=function(){x.$e8||x.rowSelectLastSetDefault();var a=DayPilot.indexOf(f.rowlist,x.$e8.row);if(!(a>-1)){var b=f.$au(x.$e8.row.id);b?(a=DayPilot.indexOf(f.rowlist,b),x.$e8={row:b,index:a}):x.rowSelectLastSetDefault()}},x.createOverlay=function(a){var b=f.$dC(),c=f.$aD("_rowmove_source"),d=DayPilot.Util.div(f.divHeader,0,a.top,b,a.height);d.className=c,a.moveOverlay=d},x.deleteOverlay=function(a){DayPilot.de(a.moveOverlay),a.moveOverlay=null},x.$ee=function(a){var b=x.$cb(a),d=b.cells[0];if(d.input)return d.input;var e=d.clientWidth;a.isNewRow&&(e=f.$aG());var g=document.createElement("textarea");g.style.position="absolute",g.style.top="0px",g.style.left="0px",g.style.width=e+"px",g.style.height=a.height+"px",g.style.border="0px none",g.style.overflow="hidden",g.style.boxSizing="border-box",g.style.resize="none";var h=d.textDiv;g.style.fontFamily=DayPilot.gs(h,"fontFamily")||DayPilot.gs(h,"font-family"),g.style.fontSize=DayPilot.gs(h,"fontSize")||DayPilot.gs(h,"font-size"),g.value=a.html,d.firstChild.appendChild(g),d.input=g;var i=function(){try{d.input.parentNode.removeChild(d.input)}catch(a){c()}d.input=null};return g.focus(),g.onblur=function(){g.onblur=null;var b=g.value;DayPilot.indexOf(f.rowlist,a);i(),g.canceled||f.$cd(a,b)},g.onkeydown=function(a){var b=window.event?event.keyCode:a.keyCode;return 27===b&&(g.canceled=!0,i()),13!==b||(g.onblur(),!1)},g.setSelectionRange?g.setSelectionRange(0,9999):g.select(),g},x.selected=[],x.select=function(a,b,c,d){var e=DayPilot.indexOf(x.selected,a)!==-1;if(b||d){if(e)return x.unselect(a),void DayPilot.rfa(x.selected,a)}else e=!1,x.clearSelection();x.$ef(a),e||x.selected.push(a),w.$ea()},x.selectRange=function(a,b){x.clearSelection();for(var c=Math.min(a,b),d=Math.max(a,b),e=c;e<=d;e++){var g=f.rowlist[e];x.$ef(g),x.selected.push(g)}w.$ea()},x.$e9=function(){for(var a=0;a<x.selected.length;a++){var b=x.selected[a];x.$ef(b)}},x.$ef=function(a){var b=DayPilot.indexOf(f.rowlist,a);if(b===-1){var c=f.$au(a.id).index;if(!c)return;b=c.index}for(var d=f.$aD("_cell_selected"),e=[],g=0;g<f.itline.length;g++){var h={};h.x=g,h.y=b,e.push(h)}f.cells.findXy(e).addClass(d);for(var d=f.$aD("_rowheader_selected"),i=f.divHeader,b=0;b<i.rows.length;b++){var j=i.rows[b];if(j&&j.cells[0]&&j.cells[0].row===a)for(var k=0;k<j.cells.length;k++){var h=j.cells[k],l=h.firstChild;DayPilot.Util.addClass(l,d)}}},x.$cv=function(){var a=[];if(!x.selected)return a;for(var b=0;b<x.selected.length;b++){var c=x.selected[b],d=DayPilot.indexOf(f.rowlist,c),e=f.$ce(c,d);a.push(e.toJSON())}return a},x.unselect=function(a){for(var b=f.$aD("_cell_selected"),c=DayPilot.indexOf(f.rowlist,a),d=[],e=0;e<f.itline.length;e++){var g={};g.x=e,g.y=c,d.push(g)}f.cells.findXy(d).removeClass(b);var b=f.$aD("_rowheader_selected"),i=(f.divHeader,x.$cb(a));if(i)for(var j=0;j<i.cells.length;j++){var g=i.cells[j],k=g.firstChild;DayPilot.Util.removeClass(k,b)}},x.$e8=null,x.clearSelection=function(){for(var a=0;a<x.selected.length;a++){var b=x.selected[a];x.unselect(b)}x.selected=[],f.selectedRows=[]},x.$cb=function(a){for(var b=f.divHeader,c=0;c<b.rows.length;c++){var d=b.rows[c];if(d&&d.cells[0]&&d.cells[0].row===a)return d}return null},x.selectById=function(a){var b=f.$au(a);b&&x.select(b)},x.startMoving=function(a){var b=DayPilot.Global.rowmoving;b.row=a,b.cursor=f.divResScroll.style.cursor,f.divResScroll.style.cursor="move",x.createOverlay(a)},x.resetMoving=function(){f.divResScroll.style.cursor=j.cursor,DayPilot.de(j.div),x.deleteOverlay(j.row),DayPilot.Global.rowmoving=j={}},x.move=function(a){var b=a.source.$.row.resource,c=a.target.$.row.resource,d=a.position;if("forbidden"!==d){var e=y.findParentArray(b);if(!e)throw"Cannot find source node parent";var g=DayPilot.indexOf(e,b);e.splice(g,1);var h=y.findParentArray(c);if(!h)throw"Cannot find target node parent";var i=DayPilot.indexOf(h,c);switch(d){case"before":h.splice(i,0,b);break;case"after":h.splice(i+1,0,b);break;case"child":c.children||(c.children=[],c.expanded=!0),c.children.push(b)}f.update()}};var y={};y.findParentArray=function(a){return y.findInArray(f.resources,a)},y.findInArray=function(a,b){if(DayPilot.indexOf(a,b)!==-1)return a;for(var c=0;c<a.length;c++){var d=a[c];if(d.children&&d.children.length>0){var e=y.findInArray(d.children,b);if(e)return e}}return null},this.$a2=function(){this.rowlist=DayPilot.list();var a=this.resources,b=this.$aM();b||("Gantt"===this.viewType?a=this.$eg():"Days"===this.viewType&&(a=this.$eh())),!b||"Days"!==this.viewType||a&&0!==a.length||(a=this.$eh());var c={};c.i=0,this.$ei(a,c,0,null,this.treeEnabled,!1);var d="Disabled"!==f.rowCreateHandling;d&&this.$ej()},this.$ej=function(){var a={};a.id="NEW",a.isNewRow=!0,a.html="",a.loaded=!0,a.start=this.startDate,a.children=[],a.height=f.eventHeight,a.marginBottom=0,a.marginTop=0,a.getHeight=function(){return f.eventHeight+f.rowMarginBottom+f.rowMarginTop},a.putIntoLine=function(){},a.resetEvents=function(){},this.rowlist.push(a)},this.$eg=function(){var a=[];if(this.$9K&&this.resources)for(var b=0;b<this.resources.length;b++)a.push(this.resources[b]);if(this.events.list){for(var b=0;b<this.events.list.length;b++){var c=this.events.list[b],d={};d.id=c.id,d.name=c.text,a.push(d)}return a}},this.$eh=function(){for(var a=[],b=f.$aT(),c=this.$cL.locale(),d=0;d<this.days;d++){var e=b.addDays(d),g={};g.name=e.toString(c.datePattern,c),g.start=e,a.push(g)}return a},this.$aT=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.$aX=function(){if(this.itline&&this.itline.length>0){var a=f.itline[this.itline.length-1].end;return"Days"!==f.viewType?a:a.addDays(f.days-1)}return f.startDate.addDays(f.days)},this.$ek={};this.$ek;this.visibleStart=function(){return this.$aT()},this.visibleEnd=function(){return this.$aX()},this.$ei=function(a,b,c,d,e,g){if(a)for(var h=0;h<a.length;h++)if(a[h]){var i={};i.level=c,i.hidden=g,i.index=b.i;var j=this.$el(a[h],i),k={};if(!a[h].hidden){if(k.backColor=j.backColor,k.cssClass=j.cssClass,k.expanded=j.expanded,k.name=j.name,k.html=j.html?j.html:k.name,k.eventHeight="undefined"!=typeof j.eventHeight?j.eventHeight:f.$cL.eventHeight(),k.minHeight="undefined"!=typeof j.minHeight?j.minHeight:f.rowMinHeight,k.marginBottom="undefined"!=typeof j.marginBottom?j.marginBottom:f.rowMarginBottom,k.marginTop="undefined"!=typeof j.marginTop?j.marginTop:f.rowMarginTop,k.loaded=!j.dynamicChildren,k.id=j.id||j.value,k.toolTip=j.toolTip,k.children=[],k.columns=[],k.start=j.start?new DayPilot.Date(j.start):this.$aT(),k.isParent=j.isParent,k.contextMenu=j.contextMenu?DayPilot.Util.evalVariable(j.contextMenu):this.contextMenuResource,k.areas=j.areas,k.moveDisabled=j.moveDisabled,k.bubbleHtml=j.bubbleHtml,k.tags=j.tags,k.task=j.task,k.swimlane=j.swimlane,k.height=k.eventHeight,k.hidden=g,k.level=c,k.index=b.i,k.resource=a[h],k.lines=[],k.blocks=[],k.isRow=!0,k.getHeight=function(){var a=0;if(f.groupConcurrentEvents)for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];a=Math.max(a,c.getHeight())}else if(this.lines.length>0){var d=this.lines.length-1,e=this.lines[d],g=e.height||this.eventHeight,h=e.top||0;a=h+g}return 0===a&&(a=this.eventHeight),a>this.minHeight?a:this.minHeight},k.resetEvents=function(){var a=this;a.events=[],a.events.forRange=function(b,c){for(var d=[],e=0;e<a.events.length;e++){var f=a.events[e];DayPilot.Util.overlaps(f.start(),f.end(),b,c)&&d.push(f)}return d}},k.calculateUtilization=function(){function g(){for(var b=[],c=0;c<a.events.length;c++){var d=a.events[c];DayPilot.contains(b,d.start().toString())||b.push(d.start().toString()),DayPilot.contains(b,d.rawend().toString())||b.push(d.rawend().toString())}return b.sort(),b}function h(){for(var b=g(),c=[],d={start:a.data.start},e=0;e<b.length;e++)d.end=new DayPilot.Date(b[e]),c.push(d),d={start:new DayPilot.Date(b[e])};return d.end=a.data.end,c.push(d),c.forRange=function(a,b){for(var c=[],d=0;d<this.length;d++){var e=this[d];DayPilot.Util.overlaps(a,b,e.start,e.end)&&c.push(e)}return c.maxSum=function(a){for(var b=0,c=0;c<this.length;c++){var d=this[c],e=d.sum(a);e>b&&(b=e)}return b},c},c}for(var a=this,b=a.sections=h(),c=0;c<b.length;c++){var d=b[c];d.events=[];for(var e=0;e<a.events.length;e++){var f=a.events[e];DayPilot.Util.overlaps(d.start,d.end,f.start(),f.rawend())&&d.events.push(f)}d.sum=function(a){for(var b=0,c=0;c<this.events.length;c++){var d=this.events[c],e=0;"undefined"==typeof a?e=1:d.tag(a)?e=d.tag(a):d.data[a]&&(e=d.data[a]),"number"==typeof e&&(b+=e)}return b}}},k.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.left,a.part.width))return d.add(a),c}var d=[];return d.height=0,d.add=function(a){this.push(a);var b=a.part.$e5();b>d.height&&(d.height=b)},d.isFree=function(a,b,c){for(var d=a+b-1,e=this.length,f=0;f<e;f++){var g=this[f];if(!(d<g.part.left||a>g.part.left+g.part.width-1)){if(DayPilot.contains(c,g.data))continue;return!1}}return!0},d.add(a),this.lines.push(d),this.lines.length-1},k.putIntoBlock=function(a){for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];if(DayPilot.indexOf(c.events,a)!==-1)return;if(c.overlapsWith(a.part.left,a.part.width))return c.events.push(a),a.part.block=c,c.min=Math.min(c.min,a.part.left),c.max=Math.max(c.max,a.part.left+a.part.width),b}var c={};c.expanded=!1,c.row=this,c.events=[],c.lines=[],c.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.left,a.part.width))return d.add(a),c}var d=[];d.height=0,d.add=function(a){this.push(a),a.part.height>d.height&&(d.height=a.part.height)},d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.left||a>f.part.left+f.part.width-1))return!1}return!0},d.add(a),this.lines.push(d)},c.overlapsWith=function(a,b){var c=a+b-1;return!(c<this.min||a>this.max-1)},c.getHeight=function(){if(!this.expanded)return f.eventHeight;if(this.lines.length>0){var a=this.lines.length-1,b=this.lines[a],c=b.height||f.eventHeight,d=b.top||0;return d+c}return f.eventHeight},c.clear=function(){c.events=[],c.min=null,c.max=null},c.events.push(a),a.part.block=c,c.min=a.part.left,c.max=a.part.left+a.part.width,this.blocks.push(c)},k.$em=!1,k.$en=d,k.$eo=function(){this.hidden=!this.$ep(),this.$em=!1,this.$en&&this.$en.$eo()},k.$ep=function(){return!this.$en||this.$en.$ep()&&this.$en.expanded},this.rowlist.push(k),"function"==typeof f.onRowFilter&&f.rows.$cV){var l={};l.visible=!0,l.row=f.$ce(k),l.filter=f.rows.$cV,f.onRowFilter(l),k.$em=!l.visible,l.visible?d&&d.$eo():k.hidden=!0}if(null!==d&&d.children.push(b.i),j.columns)for(var m=0;m<j.columns.length;m++)k.columns.push(j.columns[m]);if(b.i++,e&&j.children&&j.children.length){var n=g||!k.expanded;this.$ei(j.children,b,c+1,k,!0,n)}}}},this.$dP=function(a){if(a.isNewRow)return{row:{cssClass:f.$aD("_row_new"),moveDisabled:!0,html:""}};var b={};if(b.row=this.$ce(a),DayPilot.Util.copyProps(a,b.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),b.row.columns=DayPilot.Util.createArrayCopy(a.columns,["html","backColor","cssClass"]),b.row.areas=DayPilot.Util.createArrayCopy(a.areas),"undefined"==typeof b.row.columns&&f.rowHeaderColumns&&f.rowHeaderColumns.length>0){r.columns=[];for(var c=0;c<f.rowHeaderColumns.length;c++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(b),b},this.$el=function(a,b){var c=this.$eq(a,b);if("function"==typeof this.onBeforeResHeaderRender){var d={};d.resource=c,this.onBeforeResHeaderRender(d)}return c},this.$eq=function(a,b){var c={};for(var d in b)c[d]=b[d];for(var d in a)c[d]=a[d];if("undefined"==typeof a.html&&(c.html=a.name),"undefined"==typeof c.columns&&f.rowHeaderColumns&&f.rowHeaderColumns.length>0){c.columns=[];for(var e=0;e<f.rowHeaderColumns.length;e++)c.columns.push({})}return c},this.$er=function(){this.$es(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.$aD("_main")),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.$aD("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.$aD("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.$et,this.nav.top.ontouchstart=D.onMainTouchStart,this.nav.top.ontouchmove=D.onMainTouchMove,this.nav.top.ontouchend=D.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var a=this.$aG(),b=this.$cL.layout();if("DivBased"===b){var c=document.createElement("div");c.style.position="absolute",c.style.left="0px",c.style.width=a+"px",c.appendChild(this.$eu());var d=document.createElement("div");d.style.height="1px",d.className=this.$aD("_divider_horizontal"),c.appendChild(d),this.nav.dh1=d,c.appendChild(this.$ev()),this.nav.left=c;var e=document.createElement("div");e.style.position="absolute",e.style.left=a+"px",e.style.width=I.splitterWidth()+"px",e.style.height=this.$aF()+this.$aJ()+"px",e.className=this.$aD("_divider")+" "+this.$aD("_splitter"),e.setAttribute("unselectable","on"),this.nav.divider=e,this.rowHeaderScrolling&&this.$ew();var f=document.createElement("div");f.style.marginLeft=a+I.splitterWidth()+"px",f.style.marginRight="1px",f.style.position="relative",f.appendChild(this.$ex()),this.nav.right=f;var g=document.createElement("div");g.style.height="1px",g.style.position="absolute",g.style.top=this.$aF()+"px",g.style.width="100%",g.className=this.$aD("_divider_horizontal"),f.appendChild(g),this.nav.dh2=g,f.appendChild(this.$ey());var h=document.createElement("div");h.style.clear="left",this.nav.top.appendChild(c),this.nav.top.appendChild(e),this.nav.top.appendChild(f),this.nav.top.appendChild(h)}else{var i=document.createElement("table");i.cellPadding=0,i.cellSpacing=0,i.border=0,i.style.position="absolute";var j=i.insertRow(-1),k=j.insertCell(-1);k.appendChild(this.$eu());var l=j.insertCell(-1);l.appendChild(this.$ex());var m=i.insertRow(-1),n=m.insertCell(-1);n.appendChild(this.$ev());var o=m.insertCell(-1);o.appendChild(this.$ey()),this.nav.top.appendChild(i)}if(this.$9Z=document.createElement("div"),this.$9Z.style.display="none",this.nav.top.appendChild(this.$9Z),this.$cu()){var p=document.createElement("input");p.type="hidden",p.id=this.id+"_state",p.name=this.id+"_state",this.nav.state=p,this.nav.top.appendChild(p)}var r=document.createElement("div");r.style.position="absolute",r.style.left=this.$aG()+I.splitterWidth()+5+"px",r.style.top=this.$aF()+5+"px",r.style.display="none",r.innerHTML=this.loadingLabelText,
DayPilot.Util.addClass(r,this.$aD("_loading")),this.nav.loading=r,this.nav.top.appendChild(r),this.$ez()},this.$et=function(a){if(j.row){var c=DayPilot.mo3(f.divHeader,a),d=f.$cD(c.y),e=f.rowlist[d.i];if(e.isNewRow)return;var g=c.y-d.top,h=d.bottom-d.top,i=h/3,k=2*i,l=h/2,m="before",n=e.children&&e.children.length>0,o=function(){for(var a=d.i,b=e.level;a>=0;){var c=f.rowlist[a];if(a--,!(b<=c.level)){if(c===j.row)return!0;if(0===c.level)return!1;b=c.level}}return!1}(),p=f.treeEnabled;m=o||d.i===j.row.index?"forbidden":p?n?g<l?"before":"child":g<i?"before":g<k?"child":"after":n?"before":g<l?"before":"after",j.row.moveDisabled&&(m="forbidden"),j.calendar=f,j.source=j.row,j.target=f.rowlist[d.i],j.position=m;var q=function(){return!j.last||(j.last.target!==j.target||j.last.position!==j.position)}();if(q){if("function"==typeof f.onRowMoving){var r={};r.source=f.$ce(j.source),r.target=f.$ce(j.target),r.position=m,f.onRowMoving(r),j.position=r.position}}else j.last&&(j.position=j.last.position);j.last={},j.last.target=j.target,j.last.position=j.position,function(){j.div&&DayPilot.de(j.div);var b=d.top,c=j.position,e=f.rowlist[d.i],g=e.level,h=g*f.treeIndent;switch(c){case"before":b=d.top;break;case"child":b=d.top+l;break;case"after":b=d.bottom;break;case"forbidden":b=d.top+l}var i=f.$dC()-h,k=document.createElement("div");k.style.position="absolute",k.style.left=h+"px",k.style.width=i+"px",k.style.top=b+"px",k.className=f.$aD("_rowmove_position_"+c),j.div=k,f.divResScroll.appendChild(k)}()}else if(b.splitting){var s=DayPilot.mo3(f.nav.top,a).x,t=f.$dC(),u=Math.min(t,s-1);f.rowHeaderWidth=u,f.$eb=!1,f.$ec()}},this.$ab=function(){var a=this.$aF();this.nav.corner.style.height=a+"px",this.divTimeScroll.style.height=a+"px",this.divNorth.style.height=a+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=a+"px",this.nav.dh2.style.top=a+"px"),this.nav.loading.style.top=a+5+"px",this.nav.scroll.style.top=a+1+"px"},this.$aG=function(){if(this.$eb)return 0;var a=this.rowHeaderScrolling;return a?this.rowHeaderWidth:this.$dC()},this.$ew=function(){var a=this.nav.divider;a.style.cursor="col-resize",a.setAttribute("unselectable","on"),a.onmousedown=function(a){var c=b.splitting={};return c.cursor=f.nav.top.style.cursor,c.cleanup=function(){if(f.nav.top.style.cursor=c.cursor,"function"==typeof f.onRowHeaderResized){var a={};f.onRowHeaderResized(a)}},f.nav.top.style.cursor="col-resize",!1}},this.$ec=function(){var a=I.splitterWidth(),b=this.$aG();if(this.nav.corner.style.width=b+"px",this.divCorner.style.width=b+"px",this.divResScroll.style.width=b+"px",this.nav.left.style.width=b+"px",this.nav.divider.style.left=b+"px",this.nav.right.style.marginLeft=b+a+"px",this.nav.message&&(this.nav.message.style.left=b+a+"px"),this.nav.loading&&(this.nav.loading.style.left=b+a+5+"px"),this.nav.hideIcon){var c=this.nav.hideIcon,d=f.$aD("_header_icon_show"),e=f.$aD("_header_icon_hide");c.style.left=b+a-1+"px",f.$eb?(DayPilot.Util.removeClass(c,e),DayPilot.Util.addClass(c,d)):(DayPilot.Util.removeClass(c,d),DayPilot.Util.addClass(c,e))}},this.$eA=function(){this.$dD();var a=this.$dC(),b=function(a,b,c){if(a&&a.style){var d=a.firstChild;f.$dK?(a.style.width=b+"px",d.style.width=b+"px","number"==typeof c&&(a.style.left=c+"px")):d.style.width=b+"px"}},c=this.divHeader;c.style.width=a+"px";for(var d=f.$dE(),e=d.start;e<d.end;e++){var g=c.rows[e];if(g){var h=g.cells[0];if(h.colSpan>1){var h=g.cells[0];b(h,a)}else if(this.rowHeaderCols)for(var i=0,j=0;j<g.cells.length;j++){var k=this.rowHeaderCols[j],h=g.cells[j];b(h,k,i),i+=k}else{var k=this.rowHeaderWidth,h=g.cells[0];b(h,k)}}}f.nav.resScrollSpace&&(f.nav.resScrollSpace.style.width=a+"px"),this.$eB()},this.$bI=function(){this.$ec(),this.$eA()},this.$eC=function(){var a=f.nav.corner,b=this.rowHeaderColumns,c=document.createElement("div");c.style.position="absolute",c.style.bottom="0px",c.style.left="0px",c.style.width="100%",c.style.height=I.headerHeight()+"px",c.style.overflow="hidden",f.nav.columnScroll=c;var d=document.createElement("div");d.style.position="absolute",d.style.bottom="0px",d.style.left="0px",d.style.width="5000px",d.style.height=I.headerHeight()+"px",d.style.overflow="hidden",d.className=this.$aD("_columnheader"),c.appendChild(d);var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.className=this.$aD("_columnheader_inner"),d.appendChild(e);var g=new DayPilot.Splitter(e);g.widths=DayPilot.Util.propArray(b,"width",f.rowHeaderColumnDefaultWidth),g.height=I.headerHeight(),g.css.title=this.$aD("_columnheader_cell"),g.css.titleInner=this.$aD("_columnheader_cell_inner"),g.css.splitter=this.$aD("_columnheader_splitter"),g.titles=DayPilot.Util.propArray(b,"title"),g.updating=function(a){DayPilot.Util.updatePropsFromArray(f.rowHeaderColumns,"width",this.widths),f.$bI(),"Auto"===f.cellWidthSpec},g.updated=function(a){if(f.$dJ(),f.$aq()){if("function"==typeof f.onRowHeaderColumnResized){var b={};b.column=f.rowHeaderColumns[a.index],f.onRowHeaderColumnResized(b)}}else switch(f.rowHeaderColumnResizedHandling){case"CallBack":break;case"PostBack":break;case"JavaScript":if("function"==typeof f.onRowHeaderColumnResized){var b={};b.column=f.rowHeaderColumns[a.index],f.onRowHeaderColumnResized(b)}}},g.color="#000000",g.opacity=30,g.init(),a.appendChild(c),this.$dI=g},this.$bK=function(){var a=this.nav.corner;a.innerHTML="",a.className=this.$aD("_corner");var b=document.createElement("div");if(b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.right="0px",b.style.bottom="0px",b.className=this.$aD("_corner_inner"),this.divCorner=b,b.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.right="0px",c.style.bottom=I.headerHeight()+1+"px",a.appendChild(c);var d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.height="1px",d.style.bottom=I.headerHeight()+"px",d.className=this.$aD("_divider"),a.appendChild(d),c.appendChild(b),this.$eC()}else a.appendChild(b);var e=document.createElement("div");e.style.position="absolute",e.style.padding="2px",e.style.top="0px",e.style.left="1px",e.style.backgroundColor="#1ABB9C",e.style.color="white",e.innerHTML="VineSoft",this.numberFormat&&a.appendChild(e)},this.$ez=function(){if(this.rowHeaderHideIconEnabled){var a=3,b=this.$aG()+I.splitterWidth()-1,c=10,d=20,e=this.$aF()+a,g=DayPilot.Util.div(this.nav.top,b,e,c,d);g.style.cursor="pointer",g.className=f.$aD("_header_icon"),DayPilot.Util.addClass(g,f.$aD("_header_icon_hide")),g.onclick=function(){f.rows.headerToggle()},this.nav.hideIcon=g}},this.$eu=function(){var a=this.$aG(),b=document.createElement("div");return f.nav.corner=b,b.style.width=a+"px",b.style.height=this.$aF()+"px",b.style.overflow="hidden",b.style.position="relative",b.setAttribute("unselectable","on"),b.onmousemove=function(){f.$dL()},b.oncontextmenu=function(){return!1},this.$bK(),b},this.$aF=function(){if(this.timeHeader){var a=this.timeHeader.length;return a*I.headerHeight()}return 2*I.headerHeight()},this.$eD=null,this.$ev=function(){var a=document.createElement("div");return a.style.width=this.$aG()+"px",a.style.height=this.$aJ()+"px",a.style.overflow="hidden",a.style.position="relative",a.className=f.$aD("_rowheader_scroll"),a.onmousemove=function(){f.$dL()},a.onscroll=function(){f.nav.columnScroll&&f.rowHeaderScrolling&&(f.nav.columnScroll.scrollLeft=a.scrollLeft),f.$eD&&clearTimeout(f.$eD),f.$eD=setTimeout(function(){f.nav.scroll.scrollTop=a.scrollTop},500)},a.onwheel=function(b){var c=b.deltaY>0?f.eventHeight:-f.eventHeight;f.nav.scroll.scrollTop=a.scrollTop+c,b.preventDefault&&b.preventDefault()},a.onmousewheel=function(b){b=b||window.event;var c=b.wheelDelta<0?f.eventHeight:-f.eventHeight;f.nav.scroll.scrollTop=a.scrollTop+c,b.preventDefault&&b.preventDefault(),b.returnValue=!1},a.oncontextmenu=function(){return!1},a.onmouseenter=function(){f.rowHeaderScrolling&&(a.style.overflowX="auto")},a.onmouseleave=function(){f.rowHeaderScrolling&&(a.style.overflowX="hidden")},this.divResScroll=a,this.$aK=a,a},this.$eE=function(a){if("TableBased"===I.layout()){var b=parseInt(this.width,10),c=this.width.indexOf("%")!==-1,e=(/MSIE/i.test(navigator.userAgent),this.$dC());c?this.nav.top&&this.nav.top.offsetWidth>0&&(a.style.width=this.nav.top.offsetWidth-6-e+"px"):a.style.width=b-e+"px"}},this.$cI=function(a){f.$a9(),f.$ap()},this.$a9=function(){"TableBased"===f.$cL.layout()&&(f.$eE(f.nav.scroll),f.$eE(f.divTimeScroll)),f.$ac(),f.$dJ(),f.$eF(),f.$9R.drawArea=null},this.$eF=function(){var a=b.rangeHold;f.clearSelection(),b.rangeHold=a,f.$c5(a,!0)},this.$dJ=function(){f.$bM&&"Auto"===f.cellWidthSpec&&(f.$a0(),f.$a1(),f.$a6(),f.$ad(),f.$ah(),f.$af(),f.$ai(),f.$ae(),f.$a4(),f.$aj(),f.$ac())},this.$a0=function(){if("Auto"===this.cellWidthSpec){var a=this.nav.top.clientWidth,b=this.$aG(),c=f.$eG(),d=a-b-c,e=this.$aE();if(e){var g=d/this.$aE();this.cellWidth=Math.max(g,f.cellWidthMin),f.$aP=g<f.cellWidthMin}}},this.$eG=function(){if("Auto"===f.heightSpec)return 0;if("Max"===f.heightSpec||"Fixed"===f.heightSpec||"Parent100Pct"===f.heightSpec){var a=f.$dm();return a>f.height?DayPilot.sw(f.nav.scroll):0}return DayPilot.sw(f.nav.scroll)},this.$aO=function(){var a=this.nav.top.clientWidth,b=this.$aG(),c=2,d=this.$aJ(),e=this.$dm(),g="Auto"===f.heightSpec,h=0;e>d&&!g&&(h=DayPilot.swa());var i=a-b-c-h;return i},this.$ex=function(){var a=document.createElement("div");a.style.overflow="hidden",a.style.position="absolute",a.style.display="block",a.style.top="0px",a.style.width="100%",a.style.height=this.$aF()+"px",a.style.overflow="hidden",a.onmousemove=function(){f.$dL(),f.cellBubble&&f.cellBubble.delayedHide()},this.$eE(a),this.divTimeScroll=a;var b=document.createElement("div");return b.style.width=this.$aE()*this.cellWidth+5e3+"px",this.divNorth=b,a.appendChild(b),a},this.$aJ=function(){var a=0;return"Fixed"===this.heightSpec||"Parent100Pct"===this.heightSpec?this.height?this.height:0:(a=this.$dm(),"Max"===this.heightSpec&&a>this.height?this.height:a)},this.$eH=null,this.$eI=0,this.$eJ=0,this.$eK=0,this.$aL=function(){if("function"==typeof f.onHeightChanged||"function"==typeof f.onDimensionsChanged){f.$eH&&clearTimeout(f.$eH);var a=function(){var a=f.nav.top.offsetHeight,b=f.$eI;f.$eI=a;var c=f.nav.top.offsetWidth,d=f.$eJ;f.$eJ=c;var e=f.$aG(),g=f.$eK;if(f.$eK=e,"function"==typeof f.onHeightChanged&&a!==b){var h={};h.oldHeight=b,h.newHeight=a,f.onHeightChanged(h)}if("function"==typeof f.onDimensionsChanged&&(a!==b||c!==d||e!==g)){var h={};h.oldHeight=b,h.newHeight=a,h.oldWidth=d,h.newWidth=c,h.oldRowHeaderWidth=g,h.newRowHeaderWidth=e,f.onDimensionsChanged(h)}};f.$eH=setTimeout(a,100)}},this.$dm=function(){var a;return a=this.$9Q?this.$9Q+DayPilot.sh(f.nav.scroll):this.rowlist.length*this.$cL.eventHeight()},this.$dL=function(){this.$eB(),this.$eL(),this.$eM()},this.$ey=function(){var b=document.createElement("div");b.style.overflow="auto",b.style.overflowX="auto",b.style.overflowY="auto",b.style.position="absolute",b.style.height=this.$aJ()+"px",b.style.top=this.$aF()+1+"px",b.style.width="100%",b.className=this.$aD("_scrollable"),b.oncontextmenu=function(){return!1},this.$eE(b),this.nav.scroll=b,this.$as=document.createElement("div"),this.$as.style.MozUserSelect="none",this.$as.style.KhtmlUserSelect="none",this.$as.style.webkitUserSelect="none",this.$as.daypilotMainD=!0,this.$as.calendar=this,a&&(this.$as.style.webkitTransform="translateZ(0px)"),this.$as.style.position="absolute";var c=this.$dl();return c>0&&!isNaN(c)&&(this.$as.style.width=c+"px"),this.$as.setAttribute("unselectable","on"),this.$as.onmousedown=this.$eN,this.$as.onmousemove=this.$eO,this.$as.onmouseup=this.$eP,this.$as.oncontextmenu=this.$eQ,this.$as.ondblclick=this.$eR,this.$as.className=this.$aD("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.$as.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.$eQ,this.$as.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.$eQ,this.$as.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.$eQ,this.$as.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.$eQ,this.$as.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.$as.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.$eR,this.$as.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.$eQ,this.$as.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.$as.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.$eQ,this.$as.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.$as.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.$as.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.$as.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.$as.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.$as.appendChild(this.divHover),b.appendChild(this.$as),b},this.$eS={};var A=this.$eS;A.create=function(){if(!f.nav.overlay){var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.className=f.$aD("_block"),f.nav.top.appendChild(a),f.nav.overlay=a}},A.show=function(){A.create(),f.nav.overlay.style.display=""},A.hide=function(){f.nav.overlay&&(f.nav.overlay.style.display="none")},this.$cq=function(a){f.loadingTimeout&&window.clearTimeout(f.loadingTimeout);var b=a?0:100;f.loadingTimeout=window.setTimeout(function(){f.loadingLabelVisible&&(f.nav.loading.innerHTML=f.loadingLabelText,f.nav.loading.style.display=""),f.blockOnCallBack&&A.show()},b)},this.$9U=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&A.hide()},this.uiBlock=function(){A.show()},this.uiUnblock=function(){A.hide()},this.$eT=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.$eU=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$aD(a),document.body.appendChild(b);var c=b.offsetHeight,d=b.offsetWidth;document.body.removeChild(b);var e={};return e.height=c,e.width=d,e},this.$9V=function(a){if(a&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$9P>=this.autoRefreshMaxCount)){this.$cp();var b=this.autoRefreshInterval;if(!b||b<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){f.$eV()},1e3*this.autoRefreshInterval)}},this.$cp=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(a){f.$9V(a)},this.autoRefreshPause=function(){f.$cp()},this.$eV=function(){if(!(b.resizing||b.moving||b.drag||b.range)){var a=!1;if("function"==typeof this.onAutoRefresh){var c={};c.i=this.$9P,c.preventDefault=function(){this.preventDefault.value=!0},f.onAutoRefresh(c),c.preventDefault.value&&(a=!0)}!a&&this.$aM()&&this.commandCallBack(this.autoRefreshCommand),this.$9P++}this.$9P<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){f.$eV()},1e3*this.autoRefreshInterval))},this.$eW=function(){b.globalHandlers||(b.globalHandlers=!0,DayPilot.re(document,"mousemove",b.gMouseMove),DayPilot.re(document,"mouseup",b.gMouseUp),DayPilot.re(document,"keyup",b.gKeyUp),DayPilot.re(document,"mousedown",b.gMouseDown),DayPilot.re(document,"touchmove",b.gTouchMove),DayPilot.re(document,"touchend",b.gTouchEnd)),DayPilot.re(window,"resize",this.$cI)},this.$eX=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.$ap,f.$dp=this.nav.scroll.scrollLeft,f.$do=this.nav.scroll.scrollTop,f.$dq=this.divNorth.clientWidth},this.$am=function(){if(this.nav.state){var a={};a.scrollX=this.nav.scroll.scrollLeft,a.scrollY=this.nav.scroll.scrollTop,this.syncResourceTree&&(a.tree=this.$cz()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(a))}},this.$ai=function(){if(this.separators)for(var a=0;a<this.separators.length;a++)this.$eY(a)},this.$eZ={},this.$eZ.step=300,this.$eZ.delay=10,this.$eZ.mode="display",this.$eZ.layers=!1,this.$e4=function(a){if(f.cellStacking)return void B.calculateEventPositionsRow(a);for(var b=!0,c=this.durationBarDetached?-10:0,d=0,e=0;e<a.lines.length;e++){var g=a.lines[e];g.height=0,g.top=d;for(var h=0;h<g.length;h++){var i=g[h];if(!i.part.top||b){i.part.line=e,i.part.height||(i.part.height=a.eventHeight);var j=i.part.$e5();if(j>g.height&&(g.height=j),i.part.top=d+a.marginTop,f.eventVersionsEnabled&&!DayPilot.list(i.data.versions).isEmpty()){var l=(i.data.versions.length,i.part.top);DayPilot.list(i.data.versions).each(function(a,b){if(i.versions[b]){var c=b*(f.eventVersionHeight+f.eventVersionMargin);i.versions[b].top=l+c,i.part.top+=f.eventVersionHeight,i.part.top+=f.eventVersionMargin}})}i.part.top+=f.eventMarginBottom,i.part.detachedBarTop=i.part.top-c,i.part.right=i.part.left+i.part.width,i.part.fullTop=this.rowlist[i.part.dayIndex].top+i.part.top,i.part.fullBottom=i.part.fullTop+i.part.height}}d+=(g.height||a.eventHeight)*this.eventStackingLineHeight/100}};var B={};B.loadRow=function(a){a.evColumns=DayPilot.list(f.itline).map(function(a,b){return{events:DayPilot.list()}}),DayPilot.list(a.events).each(function(b){var c=b.start(),d=f.$b4(c);a.evColumns[d.i].events.push(b)})},B.calculateEventPositions=function(){var a=f.cellStackingAutoHeight,b=0;DayPilot.list(f.rowlist).each(function(c){var d=0;c.evColumns.each(function(b,e){var g=f.itline[e],h=f.rowMarginTop;b.events.each(function(b){b.part.left=g.left,b.part.width=g.width,b.part.top=h,b.part.height||(a?b.part.height=B.getEventAutoHeight(b)+f.durationBarHeight:b.part.height=c.eventHeight),h+=b.part.height+f.eventMarginBottom}),b.height=h,b.height>d&&(d=b.height)}),c.maxColumnHeight=d,c.top=b;var e=c.height;c.height=c.getHeight(),d>f.rowMarginTop&&(c.height=d+f.rowMarginBottom),e!==c.height&&(f.$bO=!0),b+=c.height}),f.$9Q=b},B.getEventAutoHeight=function(a){var b=a.client.html(),c=document.createElement("div");c.style.position="absolute",c.style.top="-2000px",c.style.left="-2000px",c.style.width=a.part.width+"px",c.className=f.$aD(E.event);var d=document.createElement("div");d.className=f.$aD(E.eventInner),d.innerHTML=b,d.style.position="static",d.style.overflow="auto",c.appendChild(d);var e=f.divEvents;e.appendChild(c);var g=c.offsetHeight;return e.removeChild(c),g},B.calculateEventPositionsRow=function(a){B.calculateEventPositions()},B.drawEventsWithoutCheckingOverflow=function(){DayPilot.list(f.rowlist).each(function(a){B.drawEventsRow(a)})},B.drawEvents=function(){B.drawEventsWithoutCheckingOverflow(),B.checkOverflow(),f.$aa(),f.$ac()},B.checkOverflow=function(){if(f.cellStackingAutoHeight){var a=!1;DayPilot.list(f.elements.events).each(function(b){var c=b.firstChild,d=c.offsetHeight-c.clientHeight+b.offsetHeight-b.clientHeight,e=c.scrollHeight+d,f=b.event.part.height;b.event.part.height=e,f!==e&&(a=!0)}),a&&(f.$ae(),B.calculateEventPositions(),B.drawEventsWithoutCheckingOverflow(),f.$ad(),f.$ah())}},B.drawEventsRow=function(a){a.evColumns.each(function(a,b){a.events.each(function(a){f.$f0(a)})})},this.$aj=function(a){if(f.cellStacking)return void B.drawEvents();var b=this.$eZ.step,c=this.$eZ.layers;c&&(f.divEvents=document.createElement("div"),f.divEvents.style.position="absolute",f.$as.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.$eZ.mode?this.divEvents.style.display="none":"visibility"===this.$eZ.mode&&(this.divEvents.style.visibility="hidden");for(var d="Progressive"===this.dynamicEventRendering,e=this.$aw(),g=e.pixels.top,h=e.pixels.bottom,i=0;i<this.rowlist.length;i++){var j=this.rowlist[i],k=j.top-this.dynamicEventRenderingMargin,l=k+j.height+2*this.dynamicEventRenderingMargin;if(!d||!(h<=k||g>=l)){this.$e4(j);for(var n=0;n<j.lines.length;n++)for(var o=j.lines[n],p=0;p<o.length;p++){var q=o[p],r=this.$f0(q);if(a&&r&&(b--,b<=0))return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){f.$aj(a)},f.$eZ.delay)}}}this.divEvents.style.display="",DayPilot.list(f.multiselect.list).isEmpty()||f.multiselect.redraw(),this.$az(),m.load()},this.$bQ=function(a){var b=this.rowlist[a];if(f.cellStacking)return void B.drawEventsRow(b);this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.$as.insertBefore(this.divEvents,this.divSeparatorsAbove);this.durationBarDetached?10:0;this.$e4(b);for(var d=0;d<b.lines.length;d++)for(var e=b.lines[d],g=0;g<e.length;g++){var h=e[g];this.$f0(h)}this.divEvents.style.display=""},this.$ae=function(){if(this.elements.events)for(var a=this.elements.events.length,b=0;b<a;b++){var c=this.elements.events[b];this.$f1(c)}this.elements.events=[]},this.$bP=function(a){if(this.elements.events){for(var b=this.elements.events.length,c=[],d=0;d<b;d++){var e=this.elements.events[d],f=e.event;f.part.dayIndex===a&&(this.$f1(e),c.push(d))}for(var d=c.length-1;d>=0;d--)this.elements.events.splice(c[d],1)}},this.$f1=function(a){a.onclick=null,a.oncontextmenu=null,a.onmouseover=null,a.onmouseout=null,a.onmousemove=null,a.onmousedown=null,a.ondblclick=null,a.event&&(a.isBar||(a.event.rendered=null),a.event=null),a.related&&DayPilot.de(a.related),a.parentNode&&a.parentNode.removeChild(a)},this.$f2=function(a){a.event&&(a.event.rendered=!1),a.onclick=null,a.onmousedown=null,a.event=null,a.parentNode&&a.parentNode.removeChild(a)},this.$f3=function(a){if(a||(a=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var b=[],c=0,d=this.elements.events.length,e=d-1;e>=0;e--){var f=this.elements.events[e];this.$f4(f.event)?a>0?(a--,b.unshift(f)):(this.$f1(f),c++):b.unshift(f)}this.elements.events=b,this.divEvents.style.display=""}},this.$f5=function(a){for(var b=[],c=0,d=this.$aw(),e=this.elements.cells.length,f=e-1;f>=0;f--){var g=this.elements.cells[f],h=d.xStart<g.coords.x&&g.coords.x<=d.xEnd&&d.yStart<g.coords.y&&g.coords.y<=d.yEnd;h?b.unshift(g):a>0?(a--,b.unshift(g)):(this.$d4(g),c++)}},this.$d4=function(a){if(a){var b=a.coords.x,c=a.coords.y;DayPilot.rfa(f.elements.cells,a),DayPilot.de(a),f.$9R.cells[b+"_"+c]=null}},this.$af=function(){if(this.elements.separators)for(var a=0;a<this.elements.separators.length;a++){var b=this.elements.separators[a];DayPilot.de(b)}this.elements.separators=[]},this.$f6=function(){var a="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var b=this.nav.scroll.scrollTop,c=b+this.nav.scroll.clientHeight,d=0;d<this.rowlist.length;d++){var e=this.rowlist[d],f=e.top,g=e.top+e.height;if(!a||!(c<=f||b>=g))for(var h=0;h<e.lines.length;h++)for(var i=e.lines[h],j=0;j<i.length;j++){var k=i[j];if(this.$f7(k))return!0}}return!1},this.$f7=function(a){if(a.rendered)return!1;var b="Progressive"===this.dynamicEventRendering,c=this.nav.scroll.scrollLeft,d=c+this.nav.scroll.clientWidth,e=a.Left,f=a.Left+a.Width;return!b||!(d<=e||c>=f)},this.$f4=function(a){if(!a.rendered)return!0;var b=this.$aw(),c=b.pixels.top,d=b.pixels.bottom,e=b.pixels.left-this.dynamicEventRenderingMargin,f=b.pixels.right+this.dynamicEventRenderingMargin,g=a.part.left,h=a.part.right,i=a.part.fullTop,j=a.part.fullBottom;return f<=g||e>=h||(d<=i||c>=j)},this.$e3=DayPilot.list(),this.$f8=function(a){if(a.rendered)return!1;var b=a.row;if(b.hidden)return!1;var c=a.min,d=a.max-a.min,e=f.eventHeight,g=a.row.top,h=document.createElement("div");h.style.position="absolute",h.style.left=c+"px",h.style.top=g+"px",h.style.width=d+"px",h.style.height=e+"px",h.className=f.$aD("_event_group"),h.style.cursor="pointer";var i={};i.group={},i.group.count=a.events.length,i.group.html="[+] "+a.events.length+" events","function"==typeof f.onBeforeGroupRender&&f.onBeforeGroupRender(i);var j=document.createElement("div");return j.innerHTML=i.group.html,h.appendChild(j),h.onmousedown=function(a){var a=a||window.event;a.cancelBubble=!0},h.onclick=function(a){var b=h.event;b.expanded=!0,f.$f2(h);var c=DayPilot.indexOf(f.elements.events,h);c!==-1&&f.elements.events.splice(c,1);var d=f.$e3;DayPilot.list(b.events).each(function(a){d.push(a.id())}),f.$bt(),f.$bu(b.part.dayIndex),f.$ac();var a=a||window.event;a.cancelBubble=!0},a.part={},a.part.left=c,a.part.width=d,a.part.height=f.eventHeight,a.part.dayIndex=DayPilot.indexOf(f.rowlist,a.row),a.part.top=0,a.part.isBlock=!0,a.client={},a.client.html=function(){return i.group.html},a.data={},h.event=a,this.elements.events.push(h),this.divEvents.appendChild(h),a.rendered=!0,!0},this.$f0=function(a){if(a.rendered)return!1;if(f.groupConcurrentEvents){var b=a.part.block;if(b.events.length>1&&!b.expanded)return f.$f8(b)}var c="Progressive"===this.dynamicEventRendering,d=this.$aw(),e=d.pixels.left-this.dynamicEventRenderingMargin,g=d.pixels.right+this.dynamicEventRenderingMargin,h=a.part.left,i=a.part.left+a.part.width;if(c&&(g<=h||e>=i))return!1;var j=a.part.dayIndex,k=a.part.width,l=a.part.height,m=a.cache||a.data;k=Math.max(0,k),l=Math.max(0,l);var n=this.rowlist[j];if(n.hidden)return!1;var o=n.top,p=this.durationBarDetached,q=document.createElement("div");if(q.related=[],p){var r=a.part.barLeft,s=a.part.barWidth;"PercentComplete"===this.durationBarMode&&(r=0,s=(m.complete||0)/100*k);var t=document.createElement("div");t.style.position="absolute",t.style.left=a.part.left+r+"px",t.style.top=o+a.part.detachedBarTop+"px",t.style.width=s+"px",t.style.height="5px",t.style.backgroundColor="black",t.type="detachedBar",q.related.push(t),this.divEvents.appendChild(t)}if(function(c){f.eventVersionsEnabled&&DayPilot.list(a.data.versions).each(function(b,d){if(b){var e=a.versions[d];if(e){var g=document.createElement("div");g.style.position="absolute",g.style.left=e.left+"px",g.style.top=o+e.top+"px",g.style.width=e.width+"px",g.style.height=f.eventVersionHeight+"px",g.className=f.$aD(E.event)+" "+f.$aD("_event_previous")+" "+f.$aD("_event_version"),b.toolTip&&(g.title=b.toolTip),b.cssClass&&DayPilot.Util.addClass(g,b.cssClass);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=f.$aD(E.eventInner),h.innerHTML=b.html||b.text||"",b.backColor&&(h.style.background=b.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(h.style.filter="")),b.fontColor&&(h.style.color=b.fontColor),b.borderColor&&(h.style.borderColor=b.borderColor),b.backImage&&(h.style.backgroundImage="url("+b.backImage+")",b.backRepeat&&(h.style.backgroundRepeat=b.backRepeat)),g.appendChild(h),e.continueLeft&&DayPilot.Util.addClass(g,f.$aD("_event_continueleft")),e.continueRight&&DayPilot.Util.addClass(g,f.$aD("_event_continueright"));var i=f.durationBarVisible&&!b.barHidden,j=e.width;if(i&&j>0){var k=100*e.barLeft/j,l=Math.ceil(100*e.barWidth/j);"PercentComplete"===f.durationBarMode&&(k=0,l=b.complete||0);var m=document.createElement("div");m.setAttribute("unselectable","on"),m.className=f.$aD(E.eventBar),m.style.position="absolute",b.barBackColor&&(m.style.backgroundColor=b.barBackColor);var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=f.$aD(E.eventBarInner),n.style.left=k+"%",0<l&&l<=1?n.style.width="1px":n.style.width=l+"%",b.barColor&&(n.style.backgroundColor=b.barColor),b.barImageUrl&&(n.style.backgroundImage="url("+b.barImageUrl+")"),m.appendChild(n),g.appendChild(m)}if(b.htmlLeft){var p=5,q=document.createElement("div");q.style.position="absolute",q.style.right=-(e.left-p)+"px",q.style.top=o+e.top+"px",q.style.height=f.eventHeight+"px",q.style.boxSizing="border-box",q.innerHTML=b.htmlLeft,q.className=f.$aD("_event_left"),q.type="divLeft",q.versionPart=e,c.related.push(q),f.divEvents.appendChild(q)}if(b.htmlRight){var p=5,r=document.createElement("div");r.style.position="absolute",r.style.left=e.left+e.width+p+"px",r.style.top=o+e.top+"px",r.style.height=f.eventHeight+"px",r.style.boxSizing="border-box",r.innerHTML=b.htmlRight,r.className=f.$aD("_event_right"),r.type="divRight",r.versionPart=e,c.related.push(r),f.divEvents.appendChild(r)}g.versionPart=e,g.type="version",c.related.push(g),f.divEvents.appendChild(g)}}})}(q),a.data.htmlLeft){var u=5,v=document.createElement("div");v.style.position="absolute",v.style.right=-(a.part.left-u)+"px",v.style.top=o+a.part.top+"px",v.style.height=f.eventHeight+"px",v.style.boxSizing="border-box",v.innerHTML=a.data.htmlLeft,v.className=f.$aD("_event_left"),v.type="divLeft",q.related.push(v),this.divEvents.appendChild(v)}if(a.data.htmlRight){var u=5,w=document.createElement("div");w.style.position="absolute",w.style.left=a.part.left+a.part.width+u+"px",w.style.top=o+a.part.top+"px",w.style.height=f.eventHeight+"px",w.style.boxSizing="border-box",w.innerHTML=a.data.htmlRight,w.className=f.$aD("_event_right"),w.type="divRight",q.related.push(w),this.divEvents.appendChild(w)}o+a.part.top;q.style.position="absolute",q.style.left=a.part.left+f.eventMarginLeft+"px",q.style.top=o+a.part.top+"px",q.style.width=k-f.eventMarginLeft-f.eventMarginRight+"px",q.style.height=l+"px",f.eventTextWrappingEnabled||(q.style.whiteSpace="nowrap"),q.style.overflow="hidden",q.className=this.$aD(E.event),"Milestone"===a.data.type&&DayPilot.Util.addClass(q,f.$aD("_task_milestone")),"Group"===a.data.type&&(DayPilot.Util.addClass(q,f.$aD("_task_parent")),DayPilot.Util.addClass(q,f.$aD("_task_group"))),m.cssClass&&DayPilot.Util.addClass(q,m.cssClass);var y=!0;y&&"number"==typeof a.part.line&&DayPilot.Util.addClass(q,this.$aD(E.eventLine+a.part.line)),q.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(q.title=a.client.toolTip()||""),q.onmousemove=this.$f9,q.onmouseout=this.$fa,q.onmousedown=this.$fb,q.ontouchstart=D.onEventTouchStart,q.ontouchmove=D.onEventTouchMove,q.ontouchend=D.onEventTouchEnd,a.client.clickEnabled()&&(q.onclick=this.$b6),a.client.doubleClickEnabled()&&(q.ondblclick=this.$bi),q.oncontextmenu=this.$bh;var B=document.createElement("div");B.setAttribute("unselectable","on"),B.className=f.$aD(E.eventInner),B.innerHTML=a.client.innerHTML(),m.backColor&&(B.style.background=m.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(B.style.filter="")),m.fontColor&&(B.style.color=m.fontColor),m.borderColor&&(B.style.borderColor=m.borderColor),m.backImage&&(B.style.backgroundImage="url("+m.backImage+")",m.backRepeat&&(B.style.backgroundRepeat=m.backRepeat)),q.appendChild(B);var C=a.start().getTime()===a.part.start.getTime(),F=a.rawend().getTime()===a.part.end.getTime();if(C||DayPilot.Util.addClass(q,this.$aD("_event_continueleft")),F||DayPilot.Util.addClass(q,this.$aD("_event_continueright")),a.client.barVisible()&&k>0){var r=100*a.part.barLeft/k,s=Math.ceil(100*a.part.barWidth/k);"PercentComplete"===this.durationBarMode&&(r=0,s=m.complete||0);var t=document.createElement("div");
t.setAttribute("unselectable","on"),t.className=this.$aD(E.eventBar),t.style.position="absolute",m.barBackColor&&(t.style.backgroundColor=m.barBackColor);var G=document.createElement("div");G.setAttribute("unselectable","on"),G.className=this.$aD(E.eventBarInner),G.style.left=r+"%",0<s&&s<=1?G.style.width="1px":G.style.width=s+"%",m.barColor&&(G.style.backgroundColor=m.barColor),m.barImageUrl&&(G.style.backgroundImage="url("+m.barImageUrl+")"),t.appendChild(G),q.appendChild(t)}if(q.row=j,m.areas)for(var H=0;H<m.areas.length;H++){var d=m.areas[H],I=d.v||"Visible";if("Visible"===I){(d.start||d.end)&&(d.left=f.getPixels(new DayPilot.Date(d.start)).left-a.part.left,d.width=f.getPixels(new DayPilot.Date(d.end)).left-d.left-a.part.left);var J=DayPilot.Areas.createArea(q,a,d);q.appendChild(J)}}if(this.elements.events.push(q),this.divEvents.appendChild(q),a.rendered=!0,q.event=a,f.multiselect.$by(q.event)&&(f.multiselect.add(q.event,!0),f.multiselect.$bx(q)),f.$aq()){if("function"==typeof f.onAfterEventRender){var K={};K.e=q.event,K.div=q,f.onAfterEventRender(K)}}else f.afterEventRender&&f.afterEventRender(q.event,q);return!0},this.$aq=function(){return 2===f.api},this.$bR=function(){for(var a=0;a<this.elements.events.length;a++){var b=this.elements.events[a],c=b.event,d=c.part.dayIndex,e=this.rowlist[d],f=e.top,g=f+c.part.top;b.style.top=g+"px",DayPilot.list(b.related).filter(function(a){return!!a.versionPart}).each(function(a){var b=a.versionPart;a.style.top=f+b.top+"px"}),DayPilot.list(b.related).filter(function(a){return!a.versionPart&&("divLeft"===a.type||"divRight"===a.type)}).each(function(a){a.style.top=g+"px"})}},this.$cS=function(a){if(!a)return null;for(var b=0;b<f.elements.events.length;b++){var c=f.elements.events[b];if(c.event===a||c.event.data===a.data)return c}return null},this.$fa=function(a){var b=this;DayPilot.Areas.hideAreas(b,a),DayPilot.Util.removeClass(b,f.$aD("_event_hover")),f.$fc(b),k.source||m.hideLinkpointsWithDelay(),f.bubble&&"Bubble"===f.eventHoverHandling&&f.bubble.hideOnMouseOut()},this.$fd=function(a){if("function"==typeof this.onEventMouseOver){var b={};b.div=a,b.e=a.event,this.onEventMouseOver(b)}},this.$fc=function(a){if("function"==typeof this.onEventMouseOut){var b={};b.div=a,b.e=a.event,this.onEventMouseOut(b)}},this.$f9=function(a){a=a||window.event,f.cellBubble&&f.cellBubble.delayedHide();for(var c=this;c&&!c.event;)c=c.parentNode;f.$fe(c,a);var d=c.event.cache?c.event.cache.deleteDisabled:c.event.data.deleteDisabled;if(!c.active){var e=[];if("Disabled"!==f.eventDeleteHandling&&!d){var g=f.durationBarVisible?f.durationBarHeight:0;e.push({action:"JavaScript",v:"Hover",w:17,h:17,top:g+2,right:2,css:f.$aD(E.eventDelete),js:function(a){f.$be(a)}})}var h=c.event.cache?c.event.cache.areas:c.event.data.areas;h&&h.length>0&&(e=e.concat(h)),DayPilot.Areas.showAreas(c,c.event,null,e),DayPilot.Util.addClass(c,f.$aD("_event_hover")),f.$fd(c)}"Disabled"===f.linkCreateHandling||k.source||(m.clearHideTimeout(),m.hideLinkpoints(),b.moving||b.resizing||m.showLinkpoint(c)),a.srcElement?a.srcElement.insideEvent=!0:a.insideEvent=!0},this.$ff={};var C=this.$ff;this.$fb=function(a){f.$dL(),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a=a||window.event;var c=DayPilot.Util.mouseButton(a);if(c.left){var d=a.shiftKey;if("Disabled"!==f.multiSelectRectangle&&d)return G.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(b.preventEventClick=!0,b.resizing=this,b.originalMouse=DayPilot.mc(a),document.body.style.cursor=this.style.cursor,m.hideLinkpoints()):("move"===this.style.cursor||"Full"===f.moveBy&&this.event.client.moveEnabled())&&(C.start=!0,C.moving=this,C.movingEvent=this.event,C.originalMouse=DayPilot.mc(a),C.moveOffsetX=DayPilot.mo3(this,a).x,C.moveDragStart=f.getDate(f.coords.x,!0),m.hideLinkpoints())}return DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide(),a.cancelBubble=!0,!1},this.$fg={};var D=f.$fg;D.active=!1,D.start=!1,D.timeouts=[],D.onEventTouchStart=function(a){if(!D.active&&!D.start){a.stopPropagation(),D.clearTimeouts(),D.start=!0,D.active=!1;var b=this,c=f.tapAndHoldTimeout;D.timeouts.push(window.setTimeout(function(){D.active=!0,D.start=!1,f.coords=D.relativeCoords(a),a.preventDefault();var c=b.event;switch(f.eventTapAndHoldHandling){case"Move":if(c.client.moveEnabled()){var d=i(a);D.startMoving(b,d)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(a);var e=c.client.contextMenu();e?e.show(c):f.contextMenu&&f.contextMenu.show(c)}},c))}},D.onEventTouchMove=function(a){D.clearTimeouts(),D.start=!1},D.onEventTouchEnd=function(a){if(!DayPilot.Util.isMouseEvent(a)){if(D.clearTimeouts(),D.start){D.start=!1,a.preventDefault(),a.stopPropagation();var b=this;window.setTimeout(function(){f.$ba(b,a)})}window.setTimeout(function(){D.start=!1,D.active=!1},500)}},D.onMainTouchStart=function(a){if(!(D.active||D.start||a.touches.length>1||"Disabled"===f.timeRangeSelectedHandling)){D.clearTimeouts(),D.start=!0,D.active=!1;var b=f.tapAndHoldTimeout;D.timeouts.push(window.setTimeout(function(){D.active=!0,D.start=!1,a.preventDefault(),f.coords=D.relativeCoords(a),D.range=f.$fh()},b));var c=!0;c&&(f.coords=D.relativeCoords(a))}},D.onMainTouchMove=function(a){if(D.clearTimeouts(),D.start=!1,b.resizing)return a.preventDefault(),void D.updateResizing();if(D.active){if(a.preventDefault(),f.coords=D.relativeCoords(a),b.moving)return void D.updateMoving();if(D.range){var c=D.range;c.end={x:Math.floor(f.coords.x/f.cellWidth)},f.$c5(c)}}},D.onMainTouchEnd=function(a){D.clearTimeouts();var c=!0;if(D.active){if(b.moving){a.preventDefault();var d=b.movingEvent,e=b.movingShadow.start,g=b.movingShadow.end,h="Days"!==f.viewType?b.movingShadow.row.id:null,i=!!b.drag,j=b.movingShadow.overlapping,k=!b.movingShadow.allowed;if(DayPilot.Util.removeClass(b.moving,f.$aD("_event_moving_source")),DayPilot.de(b.movingShadow),f.$dB(),b.movingShadow.calendar=null,document.body.style.cursor="",b.moving=null,b.movingEvent=null,b.movingShadow=null,f.$dw.clear(),j||k||f.$dw.forbidden||f.$dw.invalid)return;f.$bV(d,e,g,h,i)}if(D.range){var l=D.range;D.range=null;var m=f.elements.range2;m&&m.overlapping?f.clearSelection():f.$c1(l)}}else if(D.start&&c){var l=f.$fh();f.$c5(l);var m=f.elements.range2;m&&m.overlapping?f.clearSelection():f.$c1(l)}window.setTimeout(function(){D.start=!1,D.active=!1},500)},D.clearTimeouts=function(){for(var a=0;a<D.timeouts.length;a++)clearTimeout(D.timeouts[a]);D.timeouts=[]},D.relativeCoords=function(a){var b=f.$as,c=a.touches[0].pageX,d=a.touches[0].pageY,e=DayPilot.abs(b),g={x:c-e.x,y:d-e.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return g},D.startMoving=function(a,c){b.moving=a,b.movingEvent=a.event,b.originalMouse=c;var d=DayPilot.abs(a);b.moveOffsetX=c.x-d.x,b.moveDragStart=f.getDate(f.coords.x,!0),b.movingShadow=f.$cM(a,f.shadow),f.$dh()},D.startResizing=function(a,c){b.resizing=a,b.resizing.dpBorder=c,b.resizingShadow||(b.resizingShadow=f.$cM(a,f.shadow)),f.$dx()},D.updateResizing=function(){if(!b.resizingShadow){var a=b.resizing;b.resizingShadow=f.$cM(a,f.shadow)}f.$dx()},D.updateMoving=function(){if(b.movingShadow&&b.movingShadow.calendar!==f&&(b.movingShadow.calendar=null,DayPilot.de(b.movingShadow),b.movingShadow=null),!b.movingShadow){var a=b.moving;b.movingShadow=f.$cM(a,f.shadow)}b.moving.target=f,f.$dh()},this.$fe=function(a,c){var d=this.eventResizeMargin,e=this.eventMoveMargin,g=a;if("undefined"!=typeof b){var h=DayPilot.mo3(a,c);if(h&&(f.eventOffset=h,!b.resizing&&!b.moving)){var i=g.event.part.start.toString()===g.event.start().toString(),j=g.event.part.end.toString()===g.event.rawend().toString();if("Top"===f.moveBy&&h.y<=e&&g.event.client.moveEnabled()&&"Disabled"!==f.eventMoveHandling?a.style.cursor="move":("Top"===f.moveBy||"Full"===f.moveBy)&&h.x<=d&&g.event.client.resizeEnabled()&&"Disabled"!==f.eventResizeHandling?i?(a.style.cursor="w-resize",a.dpBorder="left"):a.style.cursor="not-allowed":"Left"===f.moveBy&&h.x<=e&&g.event.client.moveEnabled()&&"Disabled"!==f.eventMoveHandling?a.style.cursor="move":a.offsetWidth-h.x<=d&&g.event.client.resizeEnabled()&&"Disabled"!==f.eventResizeHandling?j?(a.style.cursor="e-resize",a.dpBorder="right"):a.style.cursor="not-allowed":b.resizing||b.moving||(g.event.client.clickEnabled()&&"Disabled"!==f.eventClickHandling?a.style.cursor="pointer":a.style.cursor="default"),"undefined"!=typeof DayPilotBubble&&f.bubble&&"Bubble"===f.eventHoverHandling&&("default"===a.style.cursor||"pointer"===a.style.cursor)){var k=this.$fi&&h.x===this.$fi.x&&h.y===this.$fi.y;k||(this.$fi=h,f.bubble.showEvent(a.event))}}}},this.$aE=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.$c2=function(a){var a=a||b.range||b.rangeHold;if(!a)return null;var c=f.rowlist[a.start.y];if(!c)return null;var d=a.$fj?a.$fj:a,e=c.id,g=d.end.x>d.start.x?d.start.x:d.end.x,h=d.end.x>d.start.x?d.end.x:d.start.x,i=0;i=c.start.getTime()-this.$aT().getTime();var j=this.itline[g].start.addTime(i),k=this.itline[h].end.addTime(i);return new DayPilot.Selection(j,k,e,f)},this.$fk=function(a){var b=a.parentNode,c=document.createElement("textarea");return c.style.position="absolute",c.style.width=(a.offsetWidth<100?100:a.offsetWidth-2)+"px",c.style.height=a.offsetHeight-2+"px",c.style.fontFamily=DayPilot.gs(a,"fontFamily")||DayPilot.gs(a,"font-family"),c.style.fontSize=DayPilot.gs(a,"fontSize")||DayPilot.gs(a,"font-size"),c.style.left=a.offsetLeft+"px",c.style.top=a.offsetTop+"px",c.style.border="1px solid black",c.style.padding="0px",c.style.marginTop="0px",c.style.backgroundColor="white",c.value=DayPilot.tr(a.event.text()),c.event=a.event,b.appendChild(c),c},this.$bc=function(a){if(a&&(b.editing&&b.editing.blur(),a.event)){var c=this.$fk(a);b.editing=c,DayPilot.re(c,DayPilot.touch.start,function(a){a.stopPropagation()}),c.onblur=function(){if(c.onblur=null,b.editing=null,c.parentNode&&c.parentNode.removeChild(c),a.event){var e=(a.event.text(),c.value);f.$cm(a.event,e,c.canceling)}},c.onmousedown=function(a){a=a||window.event,a.stopPropagation&&a.stopPropagation()},c.onkeypress=function(a){var b=window.event?event.keyCode:a.keyCode;return 13!==b||(this.onblur(),!1)},c.cancel=function(){b.editing&&(b.editing.canceling=!0,b.editing.blur())},c.onkeydown=function(a){var c=window.event?event.keyCode:a.keyCode;27===c&&b.editing.cancel()},c.select(),c.focus()}},this.$dQ=function(a){var b=this,c=b.row;if("undefined"!=typeof DayPilotBubble&&(f.cellBubble&&f.cellBubble.hideOnMouseOut(),f.resourceBubble)){var d={};d.calendar=f,d.id=c.id,c.bubbleHtml&&(d.bubbleHtml=function(){return c.bubbleHtml}),d.toJSON=function(){var a={};return a.id=this.id,a},f.resourceBubble.showResource(d)}},this.$dR=function(a){var b=this;"undefined"!=typeof DayPilotBubble&&f.resourceBubble&&f.resourceBubble.hideOnMouseOut();var c=b.firstChild;DayPilot.Areas.hideAreas(c,a),c.data=null},this.$dS=function(a){j.row&&(x.cancelClick=!0,setTimeout(function(){x.cancelClick=!1},100))},this.$a6=function(){if(this.timeHeader){this.$9R.timeHeader={};var a=document.createElement("div");a.style.position="relative",this.nav.timeHeader=a;for(var b=0;b<this.timeHeader.length;b++)for(var c=this.timeHeader[b],d=0;d<c.length;d++)this.$fl(d,b);var e=this.divNorth;1===e.childNodes.length?e.replaceChild(a,e.childNodes[0]):(e.innerHTML="",e.appendChild(a));var g=this.$dl();e.style.width=g+5e3+"px",f.divCorner.innerHTML=this.cornerHtml||"",g>0&&(this.divStretch.style.width=g+"px")}},this.$aZ=function(a,b){var c=null,d=this.$cL.locale(),b=b||this.cellGroupBy,e=a.start;a.end;switch(b){case"Hour":c="Clock12Hours"===f.$cL.timeFormat()?e.toString("h tt",d):e.toString("H",d);break;case"Day":c=e.toString(d.datePattern);break;case"Week":c=1===I.weekStarts()?e.weekNumberISO():e.weekNumber();break;case"Month":c=e.toString("MMMM yyyy",d);break;case"Quarter":c="Q"+Math.floor(e.getMonth()/3+1);break;case"Year":c=e.toString("yyyy");break;case"None":c="";break;case"Cell":if("Manual"===this.scale||"CellDuration"===this.scale){var h=(a.end.ticks-a.start.ticks)/6e4;c=this.$fm(e,h)}else c=this.$aZ(a,this.scale);break;default:throw"Invalid cellGroupBy value"}return c},this.$fm=function(a,b){var c=this.$cL.locale(),b=b||this.cellDuration;return b<60?a.toString("mm"):b<1440?"Clock12Hours"===f.$cL.timeFormat()?a.toString("h tt",c):a.toString("H",c):b<10080?a.toString("d"):10080===b?1===I.weekStarts()?a.weekNumberISO():a.weekNumber():a.toString("MMMM yyyy",c)},this.$aV=function(a){var b=this.scale;switch(b){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return a.addMinutes(1);case"CellDuration":return a.addMinutes(this.cellDuration);default:return this.$aY(a,b)}},this.$aY=function(a,b){var c,d="Days"!==this.viewType?this.days:1,e=this.startDate.addDays(d);"Manual"===f.scale&&(e=f.$aX());var b=b||this.cellGroupBy,g=60;switch(b){case"Hour":a.getHours()+a.getMinutes()+a.getSeconds()+a.getMilliseconds()>0&&(a=a.getDatePart().addHours(a.getHours())),c=a.addHours(1);break;case"Day":c=a.getDatePart().addDays(1);break;case"Week":for(c=a.getDatePart().addDays(1);c.dayOfWeek()!==I.weekStarts();)c=c.addDays(1);break;case"Month":c=a.addMonths(1),c=c.firstDayOfMonth();for(var h=DayPilot.DateUtil.diff(c,a)/6e4%g===0;!h;)c=c.addHours(1),h=DayPilot.DateUtil.diff(c,a)/6e4%g===0;break;case"Quarter":for(c=a.addMonths(1),c=c.firstDayOfMonth();c.getMonth()%3;)c=c.addMonths(1);for(var h=DayPilot.DateUtil.diff(c,a)/6e4%g===0;!h;)c=c.addHours(1),h=DayPilot.DateUtil.diff(c,a)/6e4%g===0;break;case"Year":c=a.addYears(1),c=c.firstDayOfYear();for(var h=DayPilot.DateUtil.diff(c,a)/6e4%g===0;!h;)c=c.addHours(1),h=DayPilot.DateUtil.diff(c,a)/6e4%g===0;break;case"None":c=e;break;case"Cell":var i=this.$b4(a);c=i.current?i.current.end:i.past?i.previous.end:i.next.start;break;default:throw"Invalid cellGroupBy value"}return c.getTime()>e.getTime()&&(c=e),c},this.$fn={},this.$fn.timeheadercol="_timeheadercol",this.$fn.timeheadercolInner="_timeheadercol_inner",this.$fn.resourcedivider="_resourcedivider",this.$fn.eventFloat="_event_float",this.$fn.eventFloatInner="_event_float_inner",this.$fn.event="_event",this.$fn.eventInner="_event_inner",this.$fn.eventBar="_event_bar",this.$fn.eventBarInner="_event_bar_inner",this.$fn.eventDelete="_event_delete",this.$fn.eventLine="_event_line",this.$fn.eventMovingSource="_event_moving_source";var E=this.$fn;this.$fl=function(a,b){var c=this.nav.timeHeader,d=this.timeHeader[b][a],e=b<this.timeHeader.length-1,g=b*I.headerHeight(),h=d.left,i=d.width,j=I.headerHeight(),k=document.createElement("div");k.style.position="absolute",k.style.top=g+"px",k.style.left=h+"px",k.style.width=i+"px",k.style.height=j+"px",d.toolTip&&(k.title=d.toolTip),d.cssClass&&DayPilot.Util.addClass(k,d.cssClass),k.setAttribute("unselectable","on"),k.style.KhtmlUserSelect="none",k.style.MozUserSelect="none",k.style.webkitUserSelect="none",k.oncontextmenu=function(){return!1},k.cell={},k.cell.start=d.start,k.cell.end=d.end,k.cell.level=b,k.cell.th=d,k.onclick=this.$dX,k.style.overflow="hidden",f.timeHeaderTextWrappingEnabled||(k.style.whiteSpace="nowrap");var l=document.createElement("div");l.setAttribute("unselectable","on"),d.innerHTML&&(l.innerHTML=d.innerHTML),d.backColor&&(l.style.background=d.backColor);var m=this.$aD(E.timeheadercol),n=this.$aD(E.timeheadercolInner);e&&(m=this.$aD("_timeheadergroup"),n=this.$aD("_timeheadergroup_inner")),DayPilot.Util.addClass(k,m),DayPilot.Util.addClass(l,n),DayPilot.list(d.areas).each(function(a){(a.start||a.end)&&(a.left=f.getPixels(new DayPilot.Date(a.start)).left-h,a.width=f.getPixels(new DayPilot.Date(a.end)).left-a.left-h)}),k.appendChild(l),DayPilot.Areas.attach(k,d,{areas:d.areas}),this.$9R.timeHeader[a+"_"+b]=k,c.appendChild(k)},this.$bt=function(){if(f.cellStacking)return void B.calculateEventPositions();for(var a=0;a<this.rowlist.length;a++){var b=this.rowlist[a],c=b.getHeight()+b.marginBottom+b.marginTop;b.height!==c&&(this.$bO=!0),b.height=c}},this.$aa=function(){var a=this.divHeader;if(!a)return!1;for(var b=this.rowlist.length,d=(this.rowHeaderCols?this.rowHeaderCols.length:1,0),e=0;e<b;e++){var g=this.rowlist[e];if(!g.hidden){var h=this.$dK?e:d;if(a.rows[h]){for(var i=0;i<a.rows[h].cells.length;i++){var j=a.rows[h].cells[i];this.$dK&&(j.style.top=g.top+"px");var k=g.height;j&&j.firstChild&&parseInt(j.firstChild.style.height,10)!==k&&(j.firstChild.style.height=k+"px")}d++}}}this.$dK&&f.nav.resScrollSpace&&(f.nav.resScrollSpace.style.top=f.$9Q+"px")},this.$eY=function(a){var b=this.separators[a];b.location=b.location||b.Location,b.color=b.color||b.Color,b.layer=b.layer||b.Layer,b.width=b.width||b.Width,b.opacity=b.opacity||b.Opacity;var c=new DayPilot.Date(b.location),d=b.color,e=b.width?b.width:1,g=!!b.layer&&"AboveEvents"===b.layer,h=b.opacity?b.opacity:100;if(!(c.getTime()<this.$aT().getTime()||c.getTime()>=this.$aX().getTime())){var i=this.getPixels(c);if(!i.cut&&!(i.left<0||i.left>this.$aE()*this.cellWidth)){var j=document.createElement("div");j.style.width=e+"px",j.style.height=f.$9Q+"px",j.style.position="absolute",j.style.left=i.left-1+"px",j.style.top="0px",j.style.backgroundColor=d,j.style.opacity=h/100,j.style.filter="alpha(opacity="+h+")",g?this.divSeparatorsAbove.appendChild(j):this.divSeparators.appendChild(j),this.elements.separators.push(j)}}},this.$eR=function(a){if("Disabled"===f.timeRangeDoubleClickHandling)return!1;b.timeRangeTimeout&&(clearTimeout(b.timeRangeTimeout),b.timeRangeTimeout=null);if(!f.coords){var d=f.$as;f.coords=DayPilot.mo3(d,a)}if(a=a||window.event,a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,f.$fo(f.coords)){var e=f.$c2(b.rangeHold);f.$c6(e.start,e.end,e.resource)}else if(b.range=f.$fh(),b.range){b.rangeCalendar=f;var e=f.$c2(b.range);f.$c6(e.start,e.end,e.resource)}b.rangeHold=b.range,b.range=null},this.$eN=function(a){if(!D.start&&!D.active){if(b.timeRangeTimeout,1,f.$fp(),f.$eL(),!f.coords){var c=f.$as;f.coords=DayPilot.mo3(c,a)}if(b.rectangleSelect)return!1;a=a||window.event;var d=DayPilot.Util.mouseButton(a);if(d.middle||d.right&&f.$fo(f.coords))return!1;var e=a.ctrlKey,g=a.metaKey,h=a.shiftKey,i=e||g,j={};if(j.action="None","Disabled"!==f.multiSelectRectangle&&h?j.action="RectangleSelect":"Disabled"!==f.timeRangeSelectedHandling&&(j.action="TimeRangeSelect"),j.shift=h,j.ctrl=h,j.meta=g,j.preventDefault=function(){j.action="None"},"function"==typeof f.onGridMouseDown&&f.onGridMouseDown(j),"None"===j.action)return!1;if("RectangleSelect"===j.action){var k={};return k.start=f.coords,k.calendar=f,b.rectangleSelect=k,!1}f.allowMultiRange&&!i&&H.clear();var l=f.$cD(f.coords.y).i,m=f.rowlist[l];return!m.isNewRow&&(b.range=f.$fh(),b.range&&(b.range.ctrl=i,b.rangeCalendar=f),!1)}},this.$fh=function(){var a={},b=this.$b2(f.coords.x).x;return a.start={y:f.$cD(f.coords.y).i,x:b},a.end={x:b},this.$cN(f.$cD(f.coords.y).i)?null:(a.calendar=f,f.$c5(a),a)},this.$dy=function(){f.$di();var a=b.resizingShadow,c=b.resizing;!function(){var d=f.$fq;if(!d||d.start.getTime()!==a.start.getTime()||d.end.getTime()!==f.$bm(a.end).getTime()){var e={};e.start=a.start,e.end=f.$bm(a.end),e.duration=new DayPilot.Duration(e.start,e.end),e.e=c.event,e.allowed=!0,e.left={},e.left.html=e.start.toString(f.eventResizingStartEndFormat,I.locale()),e.left.enabled=f.eventResizingStartEndEnabled,e.right={},e.right.html=e.end.toString(f.eventResizingStartEndFormat,I.locale()),e.right.enabled=f.eventResizingStartEndEnabled,e.multiresize=DayPilot.list(t.list);var g={};g.event=c,g.start=e.start,g.end=e.end,e.multiresize.splice(0,0,g),f.$fq=e,"function"==typeof f.onEventResizing&&f.onEventResizing(e),a.allowed=e.allowed,f.$dz(b.resizingShadow,e),f.$dA(b.resizingShadow,e)}}()},this.$eP=function(a){if(b.rectangleSelect){var a=a||window.event;return a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),b.gMouseUp(a),!1}C={}},this.$fr=function(){return b.resizing||b.moving||b.range},this.$eO=function(a){if(!D.active){b.activeCalendar=f,a=a||window.event;var c=DayPilot.mc(a);if(f.coords=DayPilot.mo3(f.$as,a),a.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),C.start&&(C.originalMouse.x===c.x&&C.originalMouse.y===c.y||(DayPilot.Util.copyProps(C,b),document.body.style.cursor="move",C={})),b.resizing&&b.resizing.event.calendar===f)f.$fs();else if(b.moving&&(b.movingEvent.calendar===f||b.movingEvent.calendar.dragOutAllowed))b.moving.event||(b.moving.event=b.movingEvent),f.$ft();else if(b.range&&b.range.calendar===f)f.$fu();else if(k.source){var d=k.source;m.drawShadow(d.coords,f.coords)}else b.rectangleSelect&&(b.rectangleSelect.moved=!0,G.draw());"Disabled"!==f.crosshairType&&f.$fv(),f.$fw();var e=a.insideEvent;if(window.event&&(e=window.event.srcElement.insideEvent),f.cellBubble&&f.coords&&f.rowlist&&f.rowlist.length>0&&!e){var g=f.$b2(f.coords.x),i=f.$cD(f.coords.y).i;if(0<=i&&i<f.rowlist.length&&0<=g&&g<f.itline.length){var j={};j.calendar=f,j.start=f.itline[g].start,j.end=f.itline[g].end,j.resource=f.rowlist[i].id,j.toJSON=function(){var a={};return a.start=this.start,a.end=this.end,a.resource=this.resource,a},f.cellBubble.showCell(j)}}if(b.drag){if(f.$fp(),b.gShadow&&document.body.removeChild(b.gShadow),b.gShadow=null,!b.movingShadow&&f.coords&&f.rowlist.length>0){if(!b.moving){b.moving={};var l=b.drag.event;if(!l){var n=f.itline[0].start,a={id:b.drag.id,start:n,end:n.addSeconds(b.drag.duration),text:b.drag.text},o=b.drag.data;if(o){var p=["duration","element","id","text"];for(var q in o)DayPilot.contains(p,q)||(a[q]=o[q])}l=new DayPilot.Event(a),l.calendar=f,l.part.external=!0}b.moving.event=l,b.movingEvent=l}b.movingShadow=f.$cM(b.moving,b.drag.shadowType)}a.cancelBubble=!0}if("Always"===f.autoScroll||"Drag"===f.autoScroll&&(b.moving||b.resizing||b.range)){var r=f.nav.scroll,s={x:f.coords.x,y:f.coords.y};s.x-=r.scrollLeft,s.x+=h.shiftX,s.y-=r.scrollTop;var t=r.clientWidth,u=r.clientHeight,v=30,w=s.x<v?s.x:0,x=t-s.x<v?t-s.x:0,y=s.y<v?s.y:0,z=u-s.y<v?u-s.y:0,g=0,i=0,A=50;w&&(g=-A*F(w,v)),x&&(g=A*F(x,v)),y&&(i=-A*F(y,v)/2),z&&(i=A*F(y,v)/2),(b.resizing||b.range)&&(i=0),g||i?f.$fx(g,i):f.$eL()}}},this.$fu=function(){var a=b.range;a.end={x:f.$b2(f.coords.x).x},f.$c5(a)},this.$fs=function(){b.resizingShadow||(b.resizingShadow=f.$cM(b.resizing,f.shadow)),f.$dx()},this.$ft=function(){if(b.movingShadow&&b.movingShadow.calendar!==f&&(b.movingShadow.calendar=null,DayPilot.de(b.movingShadow),b.movingShadow=null),!b.movingShadow){var a=b.moving;b.movingShadow=f.$cM(a,f.shadow)}f.$df(),b.moving.target=f,f.$dh()},this.$fy={};var G=this.$fy;G.start=function(){var a={};a.start=f.coords,a.calendar=f,b.rectangleSelect=a},G.draw=function(){var a=b.rectangleSelect,c=b.rectangleSelect.start,d=f.coords;G.clear();var h,i,j,k,l,m,n,o,e={x:a.x,y:a.y,width:a.width,height:a.height};if(function(){l=Math.min(c.x,d.x),n=Math.max(c.x,d.x),"Free"===f.multiSelectRectangle?(m=Math.min(c.y,d.y),o=Math.max(c.y,d.y)):"Row"===f.multiSelectRectangle&&(m=c.y,o=c.y)}(),"Free"===f.multiSelectRectangle)h=l,i=m,j=n-l,k=o-m;else{if("Row"!==f.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+f.multiSelectRectangle;var p=f.$cD(m).i,q=f.rowlist[p];i=q.top,k=q.height;var r=f.$b2(l).cell;h=r.left;var s=f.$b2(n).cell;j=s.left+s.width-h}var t=DayPilot.Util.div(f.divRectangle,h,i,j,k);if(t.style.boxSizing="border-box",t.style.backgroundColor="#0000ff",t.style.border="1px solid #000033",t.style.opacity=.4,a.x=h,a.y=i,a.width=j,a.height=k,(a.x!==e.x||a.y!==e.y||a.width!==e.width||a.height!==e.height)&&"function"==typeof f.onRectangleEventSelecting){var u={};u.events=g.eventsInRectangle(a.x,a.y,a.width,a.height).map(function(a){return a.event}),u.start=f.getDate(a.x,!0),u.end=f.getDate(a.x+a.width,!0),f.onRectangleEventSelecting(u)}},G.clear=function(){f.divRectangle.innerHTML="",f.elements.rectangle=[]},this.$fz=function(){var a,b;if(!(f.coords&&f.rowlist&&f.rowlist.length>0&&f.itline&&f.itline.length>0))return null;if(a=f.$b2(f.coords.x).x,b=f.$cD(f.coords.y).i,!(b>=f.rowlist.length)){var c=f.cells.findXy(a,b);return c[0]}},this.$fw=function(){var a=this.$fz();if(this.hover.cell){if(this.hover.cell.x===a.x&&this.hover.cell.y===a.y)return;this.$eM()}if(this.hover.cell=a,"function"==typeof this.onCellMouseOver){var b={};b.cell=a,this.onCellMouseOver(b)}},this.$eM=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var a={};a.cell=this.hover.cell,this.onCellMouseOut(a)}this.hover.cell=null}},this.hover={},this.$fv=function(){var a=this.$fz();this.hover.cell&&this.hover.cell.x===a.x&&this.hover.cell.y===a.y||this.$fA()},this.$fp=function(){this.divCrosshair.innerHTML="",this.$fB=null,this.$fC=null},this.$eB=function(){if(this.$fp(),this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null),this.crosshairLeft){for(var a=0;a<this.crosshairLeft.length;a++){var b=this.crosshairLeft[a];b.parentNode&&b.parentNode.removeChild(b)}this.crosshairLeft=null}this.$9O=-1,this.$9N=-1},this.$fA=function(){var a,b;if(f.coords&&f.rowlist&&f.rowlist.length>0&&(a=f.$b2(f.coords.x).x,b=f.$cD(f.coords.y).i,!(b>=f.rowlist.length))){var c=this.crosshairType,d=f.rowlist[b];if("Full"===c){var e=this.itline[a],g=e.left,h=this.$fB;if(!h){var h=document.createElement("div");h.style.height=f.$9Q+"px",h.style.position="absolute",h.style.top="0px",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.$fB=h,this.divCrosshair.appendChild(h)}h.style.left=g+"px",h.style.width=e.width+"px";var i=d.top,j=d.height,k=this.$dl(),h=this.$fC;if(!h){var h=document.createElement("div");h.style.width=k+"px",h.style.height=j+"px",h.style.position="absolute",h.style.top=i+"px",h.style.left="0px",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.$fC=h,this.divCrosshair.appendChild(h)}h.style.top=i+"px",h.style.height=j+"px"}var l=this.$fD(this.coords.x);if(l&&this.$9O!==l.x){this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null);var h=document.createElement("div");h.style.width=l.cell.width+"px",h.style.height=I.headerHeight()+"px",h.style.left="0px",h.style.top="0px",h.style.position="absolute",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairTop=h;var m=this.divNorth,n=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.$9R.timeHeader[l.x+"_"+n].appendChild(h):m.firstChild.rows[n].cells[a]&&m.firstChild.rows[n].cells[a].firstChild.appendChild(h)}if(this.$9N!==b){if(this.crosshairLeft){for(var o=0;o<this.crosshairLeft.length;o++){var p=this.crosshairLeft[o];p.parentNode&&p.parentNode.removeChild(p)}this.crosshairLeft=null}this.rowHeaderCols?this.rowHeaderCols.length:1;if(this.crosshairLeft=[],this.divHeader.rows[b])for(var o=0;o<this.divHeader.rows[b].cells.length;o++){var k=f.$aG(),h=document.createElement("div");h.style.width=k+"px",h.style.height=d.height+"px",h.style.left="0px",h.style.top="0px",h.style.position="absolute",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairLeft.push(h),this.divHeader.rows[b].cells[o].firstChild.appendChild(h)}}l&&(this.$9O=l.x),this.$9N=b}},this.$dr=function(a,b){var c=f.timeHeader[a];if(!c)return null;for(var d=0;d<c.length;d++){var e=c[d];if(b>=e.left&&b<e.left+e.width){var g={};return g.cell=e,g.x=d,g}}return null},this.$fD=function(a){return f.$dr(f.timeHeader.length-1,a)},this.$eQ=function(a){if(a=a||window.event,"Disabled"===f.timeRangeSelectedHandling)return!1;if("Disabled"===f.timeRangeRightClickHandling)return!1;f.$fo(f.coords)||f.$fE(a);var c=null;c=f.$fo(f.coords)?f.$c2(b.rangeHold):f.$c2(),c.end=f.$bm(c.end);var d={};return d.start=c.start,d.end=c.end,d.resource=c.resource,d.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof f.onTimeRangeRightClick||(f.onTimeRangeRightClick(d),!d.preventDefault.value))&&("ContextMenu"===f.timeRangeRightClickHandling&&f.contextMenuSelection&&f.contextMenuSelection.show(c),"function"==typeof f.onTimeRangeRightClicked&&f.onTimeRangeRightClicked(d),a.cancelBubble=!0,!!f.allowDefaultContextMenu&&void 0)},this.$fo=function(a){var c=b.rangeHold;if(!c||!c.start||!c.end)return!1;var d=this.$cT(c.start.y),e=c.start.x<c.end.x,f=(e?c.start.x:c.end.x)*this.cellWidth,g=(e?c.end.x:c.start.x)*this.cellWidth+this.cellWidth,h=d.top,i=d.bottom;return a.x>=f&&a.x<=g&&a.y>=h&&a.y<=i},this.$c5=function(a,c){function d(a){var b=a.end.x>a.start.x?a.start.x:a.end.x,c=a.end.x>a.start.x?a.end.x:a.start.x,d=a.start.y,g=(f.rowlist[d],f.itline[b]),h=f.itline[c],i=g.left,j=h.left+h.width,k=j-i,l=f.elements.range2;if(!l){l=document.createElement("div"),l.style.position="absolute",l.setAttribute("unselectable","on"),l.className=f.$aD("_shadow");var m=document.createElement("div");m.className=f.$aD("_shadow_inner"),l.appendChild(m),f.divRange.appendChild(l)}return l.style.left=g.left+"px",l.style.top=f.rowlist[d].top+"px",l.style.width=k+"px",l.style.height=f.rowlist[d].height-1+"px",f.elements.range2=l,function(){var b=f.rowlist[d],e=g.left;f.$dv(l,b,e,k,null)}(),l}var a=a||b.range;a&&!function(){var b=a.end.x>a.start.x?a.start.x:a.end.x,e=a.end.x>a.start.x?a.end.x:a.start.x,g=a.start.y,h=f.rowlist[g],i=f.itline[b],j=f.itline[e],k=f.$fF,l=i.start.addTime(h.data.offset),m=j.end.addTime(h.data.offset);if(c||!k||k.start.getTime()!==l.getTime()||k.end.getTime()!==m.getTime()||k.resource!==f.rowlist[g].id){var n={start:l,end:f.$bm(m)},o={};o.start=n.start,o.end=n.end,o.duration=new DayPilot.Duration(n.start,n.end),o.resource=f.rowlist[g].id,o.allowed=!0,o.left={},o.left.html=o.start.toString(f.timeRangeSelectingStartEndFormat,I.locale()),o.left.enabled=f.timeRangeSelectingStartEndEnabled,o.right={},o.right.html=o.end.toString(f.timeRangeSelectingStartEndFormat,I.locale()),o.right.enabled=f.timeRangeSelectingStartEndEnabled,f.$fF=o,"function"!=typeof f.onTimeRangeSelecting||c||f.onTimeRangeSelecting(o);var p=f.$fG(a);f.$c4(p,o.start,o.end);var q=d(p);f.$dz(q,o),a.$fj=p,a.disabled=!o.allowed,f.$dA(q,o),o.start=n.start,o.end=n.end}}()},this.$fG=function(a){return{start:{x:a.start.x,y:a.start.y},end:{x:a.end.x},disabled:a.disabled}},this.range={},this.range.all=function(){return H.get()},this.$fH={};var H=this.$fH;this.$fH.list=[],this.$fH.clear=function(){DayPilot.de(DayPilot.list(H.list).map(function(a){return a.div})),H.list=[]},this.$fH.add=function(a){a.div=f.elements.range2,f.elements.range2=null,f.$dB(),H.list.push(a)},this.$fH.get=function(){return DayPilot.list(H.list).map(function(a){return f.$c2(a)})},this.$fH.dispatch=function(){if(f.allowMultiRange&&!b.range){var a=DayPilot.list(H.list).last();f.$c1(a)}},this.$fE=function(a){if("Disabled"===f.timeRangeSelectedHandling)return!1;if(!D.active&&!D.start){a=a||window.event;var c=DayPilot.Util.mouseButton(a);if(!b.range&&!b.rectangleSelect&&!(b.rangeHold&&f.$fo(f.coords)&&(c.right||c.middle)||f.$cN(f.$cD(f.coords.y).i))){var d={},e=f.$b2(f.coords.x).x;d.start={y:f.$cD(f.coords.y).i,x:e},d.end={x:e},f.$c5(d),f.$c1(d),b.rangeHold=d}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.$ap=function(a){if(f.$9Y(),h.isEnabled()&&!h.active&&f.$bM&&"Auto"!=f.cellWidthSpec&&(f.nav.scroll.scrollLeft<f.$9L?(h.active=!0,setTimeout(function(){h.shiftStart(-f.$9M)},100)):f.nav.scroll.scrollWidth-(f.nav.scroll.scrollLeft+f.nav.scroll.clientWidth)<f.$9L&&(h.active=!0,setTimeout(function(){h.shiftStart(f.$9M)},100))),f.dynamicLoading)return void f.$fI();var b=f.nav.scroll;if(f.$dp=b.scrollLeft,f.$do=b.scrollTop,f.$dq=b.clientWidth,f.divTimeScroll.scrollLeft=f.$dp,f.divResScroll.scrollTop=f.$do,f.timeouts.drawEvents&&(clearTimeout(f.timeouts.drawEvents),
f.timeouts.drawEvents=null),f.scrollDelayEvents>0?f.timeouts.drawEvents=setTimeout(f.$fJ(),f.scrollDelayEvents):f.$aj(),f.timeouts.drawCells&&(clearTimeout(f.timeouts.drawCells),f.timeouts.drawCells=null),f.scrollDelayCells>0)f.timeouts.drawCells=setTimeout(f.$fK(),f.scrollDelayCells);else{var c=f.$fK();c()}f.timeouts.updateFloats&&(clearTimeout(f.timeouts.updateFloats),f.timeouts.updateFloats=null),f.scrollDelayFloats>0?f.timeouts.updateFloats=setTimeout(function(){f.$an()},f.scrollDelayFloats):f.$an(),f.onScrollCalled=!0},this.$fK=function(){return function(){f.$am(),f.$ah()}},this.$fJ=function(){var a=!0,b=f.dynamicEventRenderingCacheSweeping,c=f.dynamicEventRenderingCacheSize;return function(){f.$f6()?window.setTimeout(function(){b&&f.$f3(c),window.setTimeout(function(){f.$aj(a)},50)},50):f.$az()}},this.$9Y=function(){this.$9R.eventHeight=null,this.$9R.drawArea=null},this.show=function(){this.visible=!0,f.nav.top.style.display="",this.$a8(),this.$a9(),f.$ap()},this.hide=function(){this.visible=!1,f.nav.top.style.display="none"},this.$fI=function(){var a=f.nav.scroll;f.$dp=a.scrollLeft,f.$do=a.scrollTop,f.$dq=a.clientWidth,f.divTimeScroll.scrollLeft=f.$dp,f.divResScroll.scrollTop=f.$do,f.refreshTimeout&&window.clearTimeout(f.refreshTimeout);var b=f.scrollDelayDynamic;f.refreshTimeout=window.setTimeout(f.$fL(a.scrollLeft,a.scrollTop),b),f.$an()},this.$fM=function(a){for(var b=a.id,c=new DayPilot.Date(a.start).toString(),d=0;d<this.events.list.length;d++){var e=this.events.list[d],g=e.id;if(g===b){if(DayPilot.Util.isNullOrUndefined(b)&&!DayPilot.Util.isNullOrUndefined(a.recurrentMasterId)){var h=new DayPilot.Date(e.start).toString();if(e.recurrentMasterId!==a.recurrentMasterId||c!==h)continue}var i={};return i.ex=e,i.index=d,i.modified=!f.$fN(a,e),i}}return null},this.$fN=function(a,b){for(var c in a)if(("object"!=typeof a[c]||a[c]instanceof DayPilot.Date)&&a[c]!==b[c])return!1;for(var c in b)if("object"!=typeof b[c]&&a[c]!==b[c])return!1;return!0},this.$ak=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],g=f.$fM(e),h=g&&g.modified,i=!g;if(h){this.events.list[g.index]=e;var j=f.events.$bq(g.ex);c=c.concat(j)}else i&&this.events.list.push(e);(h||i)&&(c=c.concat(f.events.$br(e)))}f.$bs(c),f.$bt(),f.$a7(),f.$ac();var k=!1;k?f.$bu(c,!1,b):(f.$ae(),f.$ad(),f.$aa(),f.$ah(),f.$aj())},this.$fL=function(a,b){return f.$aM()?function(){f.scrollX=a,f.scrollY=b,f.$b9("Scroll")}:function(){if("function"==typeof f.onScroll){var a=function(a){var b=function(){if(f.$aq()&&"function"==typeof f.onAfterRender){var a={};a.isCallBack=!1,a.isScroll=!0,a.data=null,f.onAfterRender(a)}};f.$ak(a,b)},b={};b.viewport=f.getViewPort(),b.async=!1,b.events=[],b.loaded=function(){this.async&&a(this.events)},f.onScroll(b),b.async||a(b.events)}}},this.$fO=function(){var a=this.$aw(),b=a.xStart,c=a.xEnd-a.xStart,d=a.yStart,e=a.yEnd-a.yStart;this.cellProperties||(this.cellProperties={});for(var f=0;f<=c;f++){for(var g=b+f,h=0;h<e;h++){var i=d+h;this.rowlist[i].hidden||this.$d5(g,i)}this.$fP(g)}for(var j=this.$dE(),i=j.start;i<j.end;i++)this.rowlist[i].hidden||this.$fQ(i)},this.$ah=function(){if(f.progressiveRowRendering&&this.$bJ(),null!==this.rowlist&&this.rowlist.length>0){var a=this.cellSweeping;if(a){var b=this.cellSweepingCacheSize;this.$f5(b)}this.$fO(),this.$fR(),x.$e9()}var c=this.$dl();this.$as.style.height=this.$9Q+"px",this.$as.style.width=c+"px","Auto"!==f.cellWidthSpec||f.$aP?f.nav.scroll.style.overflowX="auto":(f.nav.scroll.style.overflowX="hidden",f.nav.scroll.scrollLeft=0),this.$bO=!1},this.$fR=function(){for(var a=this.$aw(),b=a.xStart;b<a.xEnd;b++){var c=b<this.itline.length-1&&this.itline[b+1].breakBefore;c&&this.$fS(b)}},this.$fS=function(a){var b="x"+a;if(!this.$9R.breaks[b]){var c=this.itline[a+1].left-1,d=this.$9Q,e=document.createElement("div");e.style.left=c+"px",e.style.top="0px",e.style.width="1px",e.style.height=d+"px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.overflow="hidden",e.style.position="absolute",e.setAttribute("unselectable","on"),e.className=this.$aD("_matrix_vertical_break"),this.divBreaks.appendChild(e),this.elements.breaks.push(e),this.$9R.breaks[b]=e}},this.$aw=function(){if(f.$9R.drawArea)return f.$9R.drawArea;if(!this.nav.scroll)return null;var a=f.$do,b={},c=this.dynamicEventRenderingMargin,c=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,d=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,e=f.$dp-c-h.shiftX,g=e+f.$dq+2*c,i=0,j=0;if(f.itline&&f.itline.length>0){i=f.$b2(e).x,j=f.$b2(g,!0).x;var k=this.$aE();j=Math.min(j,k),i=Math.max(i,0)}var l=a-d,m=a+this.nav.scroll.offsetHeight+2*d,n=this.$cD(l).i,o=this.$cD(m).i;return o<this.rowlist.length&&o++,b.xStart=i,b.xEnd=j,b.yStart=n,b.yEnd=o,b.pixels={},b.pixels.left=this.nav.scroll.scrollLeft-h.shiftX,b.pixels.right=this.nav.scroll.scrollLeft-h.shiftX+this.nav.scroll.clientWidth,b.pixels.top=this.nav.scroll.scrollTop,b.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,b.pixels.width=this.nav.scroll.scrollWidth,f.$9R.drawArea=b,b},this.$dl=function(){var a=0,b=this.itline[this.itline.length-1];return a=b?b.left+b.width:0,(a<0||isNaN(a))&&(a=0),a},this.$fQ=function(a){var b="y"+a;if(!this.$9R.linesHorizontal[b]){var c=this.rowlist[a].top+this.rowlist[a].height-1,d=this.$dl(),e=document.createElement("div");e.style.left="0px",e.style.top=c+"px",e.style.width=d+"px",e.style.height="1px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.overflow="hidden",e.style.position="absolute",e.setAttribute("unselectable","on"),e.className=this.$aD("_matrix_horizontal_line"),this.divLines.appendChild(e),this.$9R.linesHorizontal[b]=e}},this.$fP=function(a){var b=this.itline[a];if(b){var c="x"+a;if(!this.$9R.linesVertical[c]){var d=b.left+b.width-1,e=document.createElement("div");e.style.left=d+"px",e.style.top="0px",e.style.width="1px",e.style.height=f.$9Q+"px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.overflow="hidden",e.style.position="absolute",e.setAttribute("unselectable","on"),e.className=this.$aD("_matrix_vertical_line"),this.divLines.appendChild(e),this.elements.linesVertical.push(e),this.$9R.linesVertical[c]=e}}},this.$dg=function(a){var b=this.rowlist[a],c=!b.expanded;b.expanded=c,b.resource&&(b.resource.expanded=c);var d=this.$fT(a,b.expanded);if(!c)for(var e=0;e<d.length;e++){var f=d[e];this.$bP(f)}if(this.$a7(),this.$a5(),this.$ac(),this.$9Y(),c){for(var e=0;e<d.length;e++){var f=d[e];this.$bQ(f)}this.$az()}this.$bR(),m.load(),this.$ad(),this.$ah(),this.$aj(),this.$am();var g=this.$ce(b,a);c?this.$cl(g):this.$ck(g),this.$9Y()},this.$dW=function(a){var b={};if(b.index=a,"function"==typeof this.onLoadNode){var c={},d=this.rowlist[a].resource;c.resource=d,c.async=!1,c.loaded=function(){this.async&&(d.dynamicChildren=!1,d.expanded=!0,f.update())},this.onLoadNode(c),c.async||(d.dynamicChildren=!1,d.expanded=!0,this.update())}else this.$b9("LoadNode",b)},this.$fT=function(a,b){var c=this.rowlist[a],d=[];if(null===c.children||0===c.children.length)return d;for(var e=0;e<c.children.length;e++){var f=c.children[e],g=this.rowlist[f],h=b&&c.expanded&&!g.$em;g.hidden=!h,b===!g.hidden&&d.push(f);var i=this.$fT(f,b);i.length>0&&(d=d.concat(i))}return d},this.$fx=function(a,b){this.$eL(),this.$fU(a,b)},this.$fV=function(a){if(!a)return!1;var b=this.nav.scroll.scrollWidth,c=this.nav.scroll.scrollLeft,d=this.nav.scroll.clientWidth,e=c+d;return!(a<0&&c<=0)&&(!(a>0&&e>=b)&&(this.nav.scroll.scrollLeft+=a,f.coords.x+=a,f.$fW(),!0))},this.$fX=function(a){if(!a)return!1;var b=this.nav.scroll.scrollHeight,c=this.nav.scroll.scrollTop,d=this.nav.scroll.clientHeight,e=c+d;return!(a<0&&c<=0)&&(!(a>0&&e>=b)&&(this.nav.scroll.scrollTop+=a,f.coords.y+=a,f.$fW(),!0))},this.$fW=function(){b.resizing&&b.resizing.event.calendar===f?f.$fs():b.moving&&(b.movingEvent.calendar===f||b.movingEvent.calendar.dragOutAllowed)?(b.moving.event||(b.moving.event=b.movingEvent),f.$ft()):b.range&&b.range.calendar===f&&f.$fu()},this.$fU=function(a,b){var c=this.$fV(a)||this.$fX(b);if(c){var d=function(a,b){return function(){f.$fU(a,b)}};this.$fY=window.setTimeout(d(a,b),100)}},this.$eL=function(){f.$fY&&(window.clearTimeout(f.$fY),f.$fY=null)},this.$a7=function(){for(var a=0,b=0;b<this.rowlist.length;b++){var c=this.rowlist[b];c.hidden||(c.top=a,a+=c.height)}this.$9Q=a},this.$ad=function(){this.elements.cells=[],this.elements.linesVertical=[],this.elements.breaks=[],this.$9R.cells=[],this.$9R.linesVertical={},this.$9R.linesHorizontal={},this.$9R.breaks=[],this.divCells.innerHTML="",this.divLines.innerHTML="",this.divBreaks.innerHTML=""},this.$bS=function(a){var b=DayPilot.list();for(var c in f.$9R.cells)b.push(f.$9R.cells[c]);b.filter(function(b){return b&&b.coords&&b.coords.y===a}).each(function(a){f.$d4(a)})},this.$fZ=0,this.$g0=["html","cssClass","backColor","backImage","backRepeat","business","areas"],this.$d5=function(a,b){if(this.$bM){var c=f.$bb(a);if(c){var d=a+"_"+b;if(!this.$9R.cells[d]){var e=this.$d6(a,b);if(f.$ds(a,b),!this.drawBlankCells){var g=!1;if(this.$dd(b)?g=!1:this.$g1(e,f.$g0)||(g=!0),g)return}var h=document.createElement("div");if(h.style.left=c.left+"px",h.style.top=this.rowlist[b].top+"px",h.style.width=c.width+"px",h.style.height=this.rowlist[b].height+"px",h.style.position="absolute",e&&e.backColor&&(h.style.backgroundColor=e.backColor),h.setAttribute("unselectable","on"),h.className=this.$aD("_cell"),h.coords={},h.coords.x=a,h.coords.y=b,this.$dd(b)&&DayPilot.Util.addClass(h,this.$aD("_cellparent")),e){e.cssClass&&DayPilot.Util.addClass(h,e.cssClass),DayPilot.Util.isNullOrUndefined(e.html)||(h.innerHTML=e.html),e.backImage&&(h.style.backgroundImage='url("'+e.backImage+'")'),e.backRepeat&&(h.style.backgroundRepeat=e.backRepeat),e.business&&f.cellsMarkBusiness&&DayPilot.Util.addClass(h,f.$aD("_cell_business")),DayPilot.list(e.areas).each(function(a){(a.start||a.end)&&(a.left=f.getPixels(new DayPilot.Date(a.start)).left-c.left,a.width=f.getPixels(new DayPilot.Date(a.end)).left-a.left-c.left)});var i=f.cells.findXy(a,b)[0];DayPilot.Areas.attach(h,i,{areas:e.areas})}h.onmouseup=this.$eP,this.divCells.appendChild(h),this.elements.cells.push(h),this.$9R.cells[d]=h}}}},this.$ds=function(a,b){if("function"==typeof this.onBeforeCellRender){var c=f.$bb(a);if(!c)return;var d=f.cells.findXy(a,b)[0],e={};return e.cell=d,e.getPixels=function(a){var a=new DayPilot.Date(a),b=f.getPixels(a).left;return b-c.left},this.onBeforeCellRender(e),DayPilot.Util.copyProps(e.cell,e.cell.properties,f.$g0),e}},this.$g1=function(a,b){if(b){for(var c=0;c<b.length;c++)if(!DayPilot.Util.isNullOrUndefined(a[b[c]]))return!0}else for(var d in a)if(!DayPilot.Util.isNullOrUndefined(a[d]))return!0;return!1},this.clearSelection=function(){this.$al(),H.clear()},this.cleanSelection=this.clearSelection,this.$bX=function(){DayPilot.de(b.movingShadow),b.movingShadow=null,f.$dB(),f.$dw.clear()},this.$al=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.$dB(),b.rangeHold=null},this.$cL={};var I=this.$cL;I.locale=function(){return DayPilot.Locale.find(f.locale)},I.timeFormat=function(){return"Auto"!==f.timeFormat?f.timeFormat:I.locale().timeFormat},I.weekStarts=function(){if("Auto"===f.weekStarts){var a=I.locale();return a?a.weekStarts:0}return f.weekStarts},I.rounded=function(){return"Rounded"===f.eventCorners},I.layout=function(){var a=/MSIE 6/i.test(navigator.userAgent);return"Auto"===f.layout?a?"TableBased":"DivBased":f.layout},I.notifyType=function(){var a;if("Immediate"===f.notifyCommit)a="Notify";else{if("Queue"!==f.notifyCommit)throw"Invalid notifyCommit value: "+f.notifyCommit;a="Queue"}return a},I.isResourcesView=function(){return"Days"!==f.viewType},I.useBox=function(a){return"Always"===f.useEventBoxes||"Never"!==f.useEventBoxes&&a<60*f.cellDuration*1e3},I.eventHeight=function(){if(f.$9R.eventHeight)return f.$9R.eventHeight;var a=f.$eU("_event_height").height;return a||(a=f.eventHeight),f.$9R.eventHeight=a,a},I.headerHeight=function(){if(f.$9R.headerHeight)return f.$9R.headerHeight;var a=f.$eU("_header_height").height;return a||(a=f.headerHeight),f.$9R.headerHeight=a,a},I.splitterWidth=function(){return f.rowHeaderScrolling?f.rowHeaderSplitterWidth:1},this.$g2=function(a,b){var c=a+"_"+b;return this.cellProperties&&this.cellProperties[c]?this.cellProperties[c].backColor:null},this.$d6=function(a,b){var c=a+"_"+b;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[c])return this.cellProperties[c];if(this.$9H&&(this.cellProperties[c]=f.$g3(a,b)),!this.cellProperties[c]){var d=f.rowlist[b],e=d.id,g=d.start.getTime()-f.$aT().getTime(),h=f.$bb(a),i=h.start.addTime(g),j=h.end.addTime(g),k={};k.start=i,k.end=j,k.resource=e;var l={};l.business=f.isBusiness(k),this.cellProperties[c]=l}return this.cellProperties[c]},this.$g4=function(a,b,c){var d=b+"_"+c;return this.cellProperties[d]={},DayPilot.Util.copyProps(a,this.cellProperties[d],f.$g0),this.cellProperties[d]},this.$g3=function(a,b){if(!this.cellConfig)return null;var c=this.cellConfig,d=this.cellProperties[a+"_"+b];!d&&c.vertical&&(d=this.cellProperties[a+"_0"]),!d&&c.horizontal&&(d=this.cellProperties["0_"+b]),!d&&c.default&&(d=c.default);var e={};return DayPilot.Util.copyProps(d,e,f.$g0),e},this.$a3=function(){if(!this.$9H&&!this.$9I&&(this.$9I=!0,this.cellConfig)){var a=this.cellConfig;if(a.vertical)for(var b=0;b<a.x;b++){var c=this.cellProperties[b+"_0"];if(c)for(var d=1;d<a.y;d++)this.$g4(c,b,d)}if(a.horizontal)for(var d=0;d<a.y;d++){var c=this.cellProperties["0_"+d];if(c)for(var b=1;b<a.x;b++)this.$g4(c,b,d)}if(a.default)for(var c=a.default,d=0;d<a.y;d++)for(var b=0;b<a.x;b++)this.cellProperties[b+"_"+d]||this.$g4(c,b,d)}},this.isBusiness=function(a){var b=a.start,c=a.end,d=(c.getTime()-b.getTime())/6e4;if(d<=1440&&"Days"!==f.viewType&&!f.businessWeekends&&(0===a.start.dayOfWeek()||6===a.start.dayOfWeek()))return!1;if(d<720){var e=b.getHours();if(e+=b.getMinutes()/60,e+=b.getSeconds()/3600,e+=b.getMilliseconds()/36e5,e<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(e>=this.businessEndsHour)return!1}return!0},this.$a8=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$dH=function(){var a=f.nav.top;return a.offsetWidth>0&&a.offsetHeight>0},this.$g5=function(){var a=f.$dH;a()||(f.debug.message("Not visible during init, starting visibilityInterval"),f.$g6=setInterval(function(){a()&&(f.debug.message("Made visible, calling .show()"),f.show(),f.$dG(),clearInterval(f.$g6))},100))},this.$g7=function(a){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=a-(this.$aF()+2),this.$ac()},this.setHeight=this.$g7,this.$au=function(a){for(var b=0;b<this.rowlist.length;b++)if(this.rowlist[b].id===a)return this.rowlist[b];return null},this.$es=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+d+"'."}},this.$g8=function(){this.$eT(),this.$a2(),this.$a9(),this.$eW(),this.$cH(),b.register(this),this.$9W(this.afterRenderData,!1),this.$eX(),this.$g5(),this.$9V(),this.$b9("Init")},this.init=function(){this.$g9()},this.$g9=function(){if(this.$es(),!this.nav.top.dp){this.$er();var a=this.$cU();if(a)return this.$g8(),this.$bM=!0,void this.$9Y();this.$eW(),this.$cH(),b.register(this),this.$eX(),this.$bx(),this.$bM=!0,f.scrollToDate?f.scrollTo(f.scrollToDate):f.scrollX||f.scrollY?f.setScroll(f.scrollX,f.scrollY):f.$ap(),f.scrollToResourceId&&(f.scrollToResource(f.scrollToResourceId),f.scrollToResourceId=null);var c=function(){f.scrollY&&f.setScroll(f.scrollX,f.scrollY)};window.setTimeout(c,200),this.messageHTML&&window.setTimeout(function(){f.message(f.messageHTML)},0),this.$g5(),this.$9V(),this.$9Y(),this.$9W(this.afterRenderData,!1),f.initEventEnabled&&setTimeout(function(){f.$b9("Init")}),this.$ga()}},this.$gb=null,this.$gc=function(a){var b={events:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?f.events.list=a.list:f.events.list=a)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&f.scrollTo(this.data,a.scrollToAnimated,a.scrollToPosition)}}};this.$gb=b;for(var c in a)if(b[c]){var d=b[c];d.data=a[c],d.preInit&&d.preInit()}else f[c]=a[c]},this.$ga=function(){var a=this.$gb;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.temp={},this.temp.getPosition=function(){var a=Math.floor(f.coords.x/f.cellWidth),b=f.$cD(f.coords.y).i;if(b<f.rowlist.length){var c={};return c.start=f.itline[a].start,c.end=f.itline[a].end,c.resource=f.rowlist[b].id,c}return null},this.internal={},this.internal.initialized=function(){return f.$bM},this.internal.dragInProgress=this.$fr,this.internal.invokeEvent=this.$bk,this.internal.eventMenuClick=this.$c0,this.internal.timeRangeMenuClick=this.$c7,this.internal.resourceHeaderMenuClick=this.$c9,this.internal.linkMenuClick=this.$c8,this.internal.bubbleCallBack=this.$bY,this.internal.findEventDiv=this.$cS,this.internal.rowtools=this.$ci,this.internal.getNodeChildren=this.$cF,this.internal.callback=function(){f.$b9.apply(f,arguments)},this.internal.createRowObject=this.$ce,this.internal.adjustEndIn=f.$bT,this.internal.adjustEndNormalize=f.$bU,this.internal.touch=f.$fg,this.internal.cssNames=f.$fn,this.Init=this.init,this.$gc(e)},d="${v}"===(new DayPilot.Scheduler).v,DayPilot.Row=function(a,b){if(!a)throw"Now row object supplied when creating DayPilot.Row";if(!b)throw"No parent control supplied when creating DayPilot.Row";var c=DayPilot.indexOf(b.rowlist,a),d=this;d.isRow=!0,d.menuType="resource",d.start=a.start,d.name=a.name,d.value=a.id,d.id=a.id,d.tags=a.tags,d.index=c,d.level=a.level,d.calendar=b,d.$gd=a,d.$={},d.$.row=a,d.toJSON=function(a){var b={};return b.start=this.start,b.name=this.name,b.value=this.value,b.id=this.id,b.index=this.index,b},d.parent=function(){return d.$gd.$en?b.$ce(d.$gd.$en):null},d.children=function(){var a=DayPilot.list(d.$.row.children).map(function(a){return b.$ce(b.rowlist[a])});return a.add=function(a){var b=d.$.row.resource;b.children||(b.children=[]),b.children.push(a)},a},d.loaded=function(){return d.$gd.loaded},d.cells={},d.cells.all=function(){for(var a=[],c=b.itline.length,e=d.index,f=0;f<c;f++){var g=b.cells.findXy(f,e);a.push(g[0])}return b.$d7(a)},d.events={},d.events.all=function(){for(var a=[],b=0;b<d.$gd.events.length;b++)a.push(d.$gd.events[b]);return DayPilot.list(a)},d.events.totalDuration=function(){var a=0;return d.events.all().each(function(b){a+=b.part.end.getTime()-b.part.start.getTime()}),new DayPilot.Duration(a)},d.groups={},d.groups.collapseAll=function(){for(var a=0;a<d.$gd.blocks.length;a++){var c=d.$gd.blocks[a],f=new e(c);f.$ge()}b.$bt(),b.$bu(d.index),b.$ac()},d.groups.expandAll=function(){for(var a=0;a<d.$gd.blocks.length;a++){var c=d.$gd.blocks[a],f=new e(c);f.$gf()}b.$bt(),b.$bu(d.index),b.$ac()},d.groups.expanded=function(){for(var a=[],c=0;c<d.$gd.blocks.length;c++){var f=d.$gd.blocks[c];f.expanded&&f.lines.length>b.groupConcurrentEventsLimit&&a.push(new e(f))}return DayPilot.list(a)},d.groups.collapsed=function(){for(var a=[],b=0;b<d.$gd.blocks.length;b++){var c=d.$gd.blocks[b];c.expanded||a.push(new e(c))}return DayPilot.list(a)},d.groups.all=function(){for(var a=[],b=0;b<d.$gd.blocks.length;b++){var c=d.$gd.blocks[b];a.push(new e(c))}return DayPilot.list(a)},d.events.collapseGroups=d.groups.collapseAll,d.events.expandGroups=d.groups.expandAll,d.column=function(a){return new f(d,a)},d.toggle=function(){b.$dg(d.index)},d.addClass=function(a){var c=d,e=b.divHeader,c=e.rows[c.index];if(c){var f=DayPilot.list(c.cells).map(function(a){return a.cellDiv});DayPilot.Util.addClass(f,a)}d.$.row.cssClass=DayPilot.Util.addClassToString(d.$.row.cssClass,a)},d.removeClass=function(a){var c=d,e=b.divHeader,c=e.rows[c.index];if(c){var f=DayPilot.list(c.cells).map(function(a){return a.cellDiv});DayPilot.Util.removeClass(f,a)}d.$.row.cssClass=DayPilot.Util.removeClassFromString(d.$.row.cssClass,a)};var e=function(a){var c=function(a){for(var c=0;c<b.elements.events.length;c++){var d=b.elements.events[c];if(d.event===a)return d}return null};this.$gf=function(){a.expanded=!0;var d=b.$e3;DayPilot.list(a.events).each(function(a){d.push(a.id())});var e=c(a);if(e){b.$f2(e);var f=DayPilot.indexOf(b.elements.events,e);f!==-1&&b.elements.events.splice(f,1)}},this.expand=function(){this.$gf(),b.$bt(),b.$bu(a.row.index),b.$ac()},this.$ge=function(){if(a.lines.length>b.groupConcurrentEventsLimit){a.expanded=!1;var c=DayPilot.list(a.events).map(function(a){return a.id()});b.$e3=b.$e3.filter(function(a){return!DayPilot.contains(c,a)})}},this.collapse=function(){this.$ge(),b.$bt(),b.$bu(a.row.index),b.$ac()}},f=function(a,b){this.html=function(c){var d=a.calendar.divHeader,e=d.rows[a.index].cells[b],f=e.textDiv;return"undefined"==typeof c?f.innerHTML:void(f.innerHTML=c)}}},b.moving=null,b.movingEvent=null,b.originalMouse=null,b.resizing=null,b.preventEventClick=!1,b.globalHandlers=!1,b.timeRangeTimeout=null,b.selectedCells=null,b.dragStart=function(a,c,d,e,f){DayPilot.us(a);var g=b.drag={};return g.element=a,g.duration=c,g.text=e,g.id=d,g.shadowType=f?f:"Fill",g.data={id:d,text:e,duration:c,externalHtml:e},!1},DayPilot.Scheduler.startDragging=function(a){var a=a||{},c=a.element,d=a.keepElement?null:c;DayPilot.us(c);var e=b.drag={};return e.element=d,e.id=a.id,e.duration=a.duration||60,e.text=a.text||"",e.shadowType="Fill",e.data=a,!1},DayPilot.Scheduler.makeDraggable=function(a){function e(){var c=b.drag={};c.element=d,c.id=a.id,c.duration=a.duration||60,c.text=a.text||"",c.shadowType="Fill",c.data=a}a=a||{};var c=a.element,d=a.keepElement?null:a.remove||c;DayPilot.us(c),DayPilot.re(c,"mousedown",function(a){if(DayPilot.Util.mouseButton(a).left){e();var b=a.target||a.srcElement;if(b.tagName){var c=b.tagName.toLowerCase();if("textarea"===c||"select"===c||"input"===c)return!1}return a.preventDefault&&a.preventDefault(),!1}}),c.ontouchstart=function(a){var c=0;window.setTimeout(function(){e(),b.gTouchMove(a),a.preventDefault()},c),a.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(b.dragStop(),b.resizing&&(DayPilot.de(b.resizingShadow),b.resizing=null,b.resizingShadow=null),b.moving){var a=b.movingEvent.calendar;DayPilot.Util.removeClass(b.moving,a.$aD("_event_moving_source")),DayPilot.de(b.movingShadow),b.moving=null,b.movingEvent=null,b.movingShadow=null}if(b.range){var a=b.range.calendar;a.clearSelection(),b.range=null}document.body.style.cursor="",DayPilot.list(b.registered).each(function(a){a.$eL(),a.$dB()})},b.dragStop=function(){b.gShadow&&(document.body.removeChild(b.gShadow),b.gShadow=null),b.drag=null},b.register=function(a){b.registered||(b.registered=[]);for(var c=0;c<b.registered.length;c++)if(b.registered[c]===a)return;b.registered.push(a)},b.unregister=function(a){var c=b.registered;if(c){var d=DayPilot.indexOf(c,a);d!==-1&&c.splice(d,1),0===c.length&&(c=null)}c||(DayPilot.ue(document,"mousemove",b.gMouseMove),DayPilot.ue(document,"mouseup",b.gMouseUp),DayPilot.ue(document,"keyup",b.gKeyUp),DayPilot.ue(document,"touchmove",b.gTouchMove),DayPilot.ue(document,"touchend",b.gTouchEnd),b.globalHandlers=!1)},b.gTouchMove=function(a){if(b.resizing){var c=b.resizing.event.calendar;c.coords=c.$fg.relativeCoords(a),c.$fg.updateResizing(),a.preventDefault()}if(b.moving){var c=b.movingEvent.calendar;c.coords=c.$fg.relativeCoords(a),c.$fg.updateMoving(),a.preventDefault()}if(b.drag){a.preventDefault();var d=i(a),c=h(a);if(c){if(b.gShadow&&document.body.removeChild(b.gShadow),b.gShadow=null,c.coords=c.$fg.relativeCoords(a),!b.movingShadow&&c.rowlist.length>0){if(!b.moving){b.moving={};var e=b.drag.event;if(!e){var f=c.itline[0].start,a={id:b.drag.id,start:f,end:f.addSeconds(b.drag.duration),text:b.drag.text},g=b.drag.data;if(g){var j=["duration","element","id","text"];for(var k in g)DayPilot.contains(j,k)||(a[k]=g[k])}e=new DayPilot.Event(a),e.calendar=c,e.part.external=!0}b.moving.event=e,b.movingEvent=e}b.movingShadow=c.$cM(b.moving,b.drag.shadowType)}b.moving&&c.$fg.updateMoving()}else{DayPilot.de(b.movingShadow);var l=b.moving;b.moving=null,b.movingEvent=null,b.movingShadow=null,b.gShadow||(b.gShadow=b.createGShadow(b.drag.data),b.gShadow.source=l);var m=b.gShadow;m.style.left=d.x+"px",m.style.top=d.y+"px"}}},b.gTouchEnd=function(a){b.gMouseUp(a)},b.gMouseMove=function(a){if("undefined"!=typeof b&&(a=a||window.event,!(a.insideMainD||a.srcElement&&a.srcElement.inside))){var c=DayPilot.mc(a);if(b.drag){if(!b.drag.startFired){var d=b.drag.data||{},e=d.onDragStart,f=!1;if("function"==typeof e){var g={};g.data=d,g.preventDefault=function(){g.preventDefault.value=!0},e(g),f=g.preventDefault.value}if(b.drag.startFired=!0,f)return void(b.drag=null)}document.body.style.cursor="move",b.gShadow||(b.gShadow=b.createGShadow(b.drag.data));var h=b.gShadow;if(h.style.left=c.x+"px",h.style.top=c.y+"px",b.moving=null,b.movingEvent=null,b.movingShadow){var i=b.movingShadow.calendar;i&&i.$dB(),b.movingShadow.calendar=null,DayPilot.de(b.movingShadow),b.movingShadow=null}}else if(b.moving&&b.movingEvent.calendar.dragOutAllowed&&!b.drag){var i=b.movingEvent.calendar,a=b.movingEvent;b.moving.target=null,document.body.style.cursor="move",b.gShadow||(b.gShadow=b.createGShadow(a.data),b.gShadow.source=b.moving);var h=b.gShadow;h.style.left=c.x+"px",h.style.top=c.y+"px",b.drag={};var j=b.drag;j.element=null,j.duration=(a.rawend().getTime()-a.start().getTime())/1e3,j.text=a.text(),j.id=a.value(),j.shadowType=i.shadow,j.event=a,i.$dB(),DayPilot.de(b.movingShadow),b.movingShadow.calendar=null,b.movingShadow=null}for(var k=0;k<b.registered.length;k++)b.registered[k].$dL&&b.registered[k].$dL()}},b.gUnload=function(a){if(b.registered)for(var c=0;c<b.registered.length;c++){var d=b.registered[c];b.unregister(d)}},b.gMouseDown=function(a){b.editing&&b.editing.blur()},b.gKeyUp=function(a){var a=a||window.event,c=a.keyCode;if(17===c&&b.rangeCalendar){var d=b.rangeCalendar;d.$fH.dispatch()}},b.gMouseUp=function(a){if(DayPilot.list(b.registered).each(function(a){a.$eL()}),b.resizing){if(setTimeout(function(){b.preventEventClick=!1}),!b.resizingShadow)return document.body.style.cursor="",void(b.resizing=null);var d=b.resizing.event,e=d.calendar;e.$di();var f=b.resizingShadow.start,g=b.resizingShadow.end,h=b.resizingShadow.overlapping,i=!b.resizingShadow.allowed;if(DayPilot.de(b.resizingShadow),b.resizing=null,b.resizingShadow=null,e.$dB(),e.$du.clear(),document.body.style.cursor="",h||i)return;e.$bl(d,f,g)}else if(b.moving){var l=function(){var a=b.moving.target;b.movingShadow&&(DayPilot.de(b.movingShadow),b.movingShadow.calendar=null),document.body.style.cursor="",b.moving=null,b.movingEvent=null,b.drag=null,a&&(a.$bW=null)};if(!b.movingShadow)return void l();var d=b.movingEvent,e=b.moving.target;if(!e)return void l();if(DayPilot.Util.removeClass(b.moving,e.$aD("_event_moving_source")),!b.movingShadow.row)return void l();clearTimeout(e.$de.timeout);var f=b.movingShadow.start,g=b.movingShadow.end,m="Days"!==e.viewType?b.movingShadow.row.id:null,n=!!b.drag&&d.part.external,o=b.movingShadow.line,h=b.movingShadow.overlapping,i=!b.movingShadow.allowed;if(b.drag&&(e.todo||(e.todo={}),e.todo.del=b.drag.element,b.drag=null),b.movingShadow.calendar=null,document.body.style.cursor="",b.moving=null,b.movingEvent=null,h||i||e.$dw.forbidden||e.$dw.invalid)return void e.$bX();var a=a||window.event;e.$bV(d,f,g,m,n,a,o)}else if(b.range){a=a||window.event;var p=DayPilot.Util.mouseButton(a),q=b.range,e=q.calendar;e.$fF=null;var r=a.ctrlKey||a.metaKey;if(e.allowMultiRange)return e.elements.range2.overlapping?(DayPilot.de(e.elements.range2),e.elements.range2=null,e.$dB()):e.$fH.add(q),b.range=null,void(r||e.$fH.dispatch());if(b.timeRangeTimeout)return clearTimeout(b.timeRangeTimeout),void(b.timeRangeTimeout=null);b.rangeHold=q,b.range=null;var s=function(a){return function(){b.timeRangeTimeout=null;var d=e.elements.range2;return d&&d.overlapping?void e.clearSelection():(e.$c1(a),void("Hold"!==e.timeRangeSelectedHandling&&"HoldForever"!==e.timeRangeSelectedHandling?c():b.rangeHold=a))}},t=e.$fG(q);if(!p.left)return void(b.timeRangeTimeout=null);if("Disabled"===e.timeRangeDoubleClickHandling){s(t)();var a=a||window.event;return a.cancelBubble=!0,!1}b.timeRangeTimeout=setTimeout(s(t),e.doubleClickTimeout)}else if(j.row){var e=j.calendar;e&&e.$ed()}else if(k.source){var e=k.calendar;e.$cO.clearShadow(),e.$cO.hideLinkpoints(),k.source=null,k.calendar=null}else if(b.splitting){var u=b.splitting;u.cleanup(),b.splitting=null}else if(b.rectangleSelect){var v=b.rectangleSelect,e=v.calendar;if(!v.moved)return b.rectangleSelect=null,void(e.$fo(e.coords)||e.$fE(a));var w=v.x,x=v.y,y=v.width,z=v.height,A=!1,B=e.$aA.eventsInRectangle(w,x,y,z).map(function(a){return a.event});if("function"==typeof e.onRectangleEventSelect){var C={};if(C.events=B,C.append=!1,C.start=e.getDate(w,!0),C.end=e.getDate(w+y,!0),C.preventDefault=function(){this.preventDefault.value=!0},e.onRectangleEventSelect(C),C.preventDefault.value)return e.$fy.clear(),void(b.rectangleSelect=null);A=C.append}if(A||e.multiselect.clear(!0),B.each(function(a){e.multiselect.add(a,!0)}),e.multiselect.redraw(),setTimeout(function(){e.$fy.clear(),b.rectangleSelect=null},0),"function"==typeof e.onRectangleEventSelected){var C={};C.events=B,e.onRectangleEventSelected(C)}}if(b.drag&&(b.drag.event&&b.drag.event.part&&delete b.drag.event.part.external,b.drag=null,document.body.style.cursor=""),b.gShadow){if(b.gShadow.source){var e=b.gShadow.source.event.calendar;DayPilot.Util.removeClass(b.gShadow.source,e.$aD("_event_moving_source"))}document.body.removeChild(b.gShadow),b.gShadow=null}b.moveOffsetX=null,b.moveDragStart=null},b.createGShadow=function(a){var a=a||{},b=document.createElement("div");return b.setAttribute("unselectable","on"),b.style.position="absolute",b.style.width="100px",b.style.height="20px",b.style.zIndex=101,b.style.pointerEvents="none",b.style.backgroundColor="#aaaaaa",b.style.opacity=.5,b.style.filter="alpha(opacity=50)",b.className=a.externalCssClass,a.externalHtml&&(b.innerHTML=a.externalHtml),document.body.appendChild(b),b};var j={};DayPilot.Global.rowmoving=j;var k={};DayPilot.Global.linking=k,DayPilot.SchedulerVisible.dragStart=b.dragStart,DayPilot.SchedulerVisible.dragStop=b.dragStop,DayPilot.SchedulerVisible.Scheduler=b.Scheduler,DayPilot.SchedulerVisible.globalHandlers=b.globalHandlers,"undefined"!=typeof jQuery&&!function(a){a.fn.daypilotScheduler=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Scheduler(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotScheduler",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(c,d){return c.replaceWith(this.template.replace("{{id}};",d.id)),function(c,d,e){var f=new DayPilot.Scheduler(d[0]);f.$d0.scope=c,f.init();var g=e.id;g&&(c[g]=f);var h=e.publishAs;if(h){var i=a(h),j=i.assign;j(c,f)}for(var k in e)0===k.indexOf("on")&&!function(b){f[b]=function(d){var f=a(e[b]);c.$apply(function(){f(c,{args:d})})}}(k);var l=c.$watch,m=e.config||e.daypilotConfig,n=e.events||e.daypilotEvents;l.call(c,m,function(a,b){f.$gc(a),f.update(),f.$ga()},!0),l.call(c,n,function(a){f.events.list=a,f.$bx({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};"undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.Year&&(DayPilot.Year=function(a,b){this.v="2130";this.startDate=new DayPilot.Date,this.cssOnly=!0,
this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.$i=[],this.$j=function(){this.root.dp=this,this.$k=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.$l=function(a){return this.cssClassPrefix?this.cssClassPrefix+a:""},this.$m=function(){return this.showWeekNumbers?this.cellWidth:0},this.$n=function(){this.$i=[];var a=this.columns,b=12/a;this.root.className=this.$l("_main"),this.root.style.width=a*(7*this.cellWidth+this.$m())+"px";for(var c=0;c<b;c++){for(var d=0;d<a;d++){var e=c*a+d,f=f+"_nav_"+e,g=document.createElement("div");g.id=f,g.style.float="left",this.root.appendChild(g);var h=new DayPilot.Navigator(f);h.startDate=this.$k.addMonths(e),h.cssOnly=this.cssOnly,h.cssClassPrefix=this.cssClassPrefix,h.cellWidth=this.cellWidth,h.showWeekNumbers=this.showWeekNumbers,h.internal.showLinks={},h.selectMode="none",h.timeRangeSelectedHandling="JavaScript",h.onTimeRangeSelected=this.$o,h.init(),h.root.className="",this.$i.push(h)}var i=document.createElement("div");i.style.clear="left",this.root.appendChild(i)}},this.$o=function(a){alert("clicked: "+a.day)},this.init=function(){this.root=document.getElementById(a),this.root.dp||(this.$j(),this.$n())}})}();